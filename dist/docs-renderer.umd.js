(function(e,r){typeof exports=="object"&&typeof module<"u"?r(exports,require("react"),require("styled-components")):typeof define=="function"&&define.amd?define(["exports","react","styled-components"],r):(e=typeof globalThis<"u"?globalThis:e||self,r(e["docs-renderer"]={},e.React,e.styled))})(this,function(exports,React,styled){"use strict";const _interopDefaultLegacy=e=>e&&typeof e=="object"&&"default"in e?e:{default:e},React__default=_interopDefaultLegacy(React),styled__default=_interopDefaultLegacy(styled),global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,t=e.length;r<t;++r)lookup[r]=e[r],revLookup[e.charCodeAt(r)]=r;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(e){inited||init();var r,t,n,a,i,o,s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i=e[s-2]==="="?2:e[s-1]==="="?1:0,o=new Arr(s*3/4-i),n=i>0?s-4:s;var l=0;for(r=0,t=0;r<n;r+=4,t+=3)a=revLookup[e.charCodeAt(r)]<<18|revLookup[e.charCodeAt(r+1)]<<12|revLookup[e.charCodeAt(r+2)]<<6|revLookup[e.charCodeAt(r+3)],o[l++]=a>>16&255,o[l++]=a>>8&255,o[l++]=a&255;return i===2?(a=revLookup[e.charCodeAt(r)]<<2|revLookup[e.charCodeAt(r+1)]>>4,o[l++]=a&255):i===1&&(a=revLookup[e.charCodeAt(r)]<<10|revLookup[e.charCodeAt(r+1)]<<4|revLookup[e.charCodeAt(r+2)]>>2,o[l++]=a>>8&255,o[l++]=a&255),o}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[e&63]}function encodeChunk(e,r,t){for(var n,a=[],i=r;i<t;i+=3)n=(e[i]<<16)+(e[i+1]<<8)+e[i+2],a.push(tripletToBase64(n));return a.join("")}function fromByteArray(e){inited||init();for(var r,t=e.length,n=t%3,a="",i=[],o=16383,s=0,l=t-n;s<l;s+=o)i.push(encodeChunk(e,s,s+o>l?l:s+o));return n===1?(r=e[t-1],a+=lookup[r>>2],a+=lookup[r<<4&63],a+="=="):n===2&&(r=(e[t-2]<<8)+e[t-1],a+=lookup[r>>10],a+=lookup[r>>4&63],a+=lookup[r<<2&63],a+="="),i.push(a),i.join("")}function read(e,r,t,n,a){var i,o,s=a*8-n-1,l=(1<<s)-1,f=l>>1,c=-7,w=t?a-1:0,R=t?-1:1,m=e[r+w];for(w+=R,i=m&(1<<-c)-1,m>>=-c,c+=s;c>0;i=i*256+e[r+w],w+=R,c-=8);for(o=i&(1<<-c)-1,i>>=-c,c+=n;c>0;o=o*256+e[r+w],w+=R,c-=8);if(i===0)i=1-f;else{if(i===l)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-f}return(m?-1:1)*o*Math.pow(2,i-n)}function write(e,r,t,n,a,i){var o,s,l,f=i*8-a-1,c=(1<<f)-1,w=c>>1,R=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:i-1,E=n?1:-1,I=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(s=isNaN(r)?1:0,o=c):(o=Math.floor(Math.log(r)/Math.LN2),r*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+w>=1?r+=R/l:r+=R*Math.pow(2,1-w),r*l>=2&&(o++,l/=2),o+w>=c?(s=0,o=c):o+w>=1?(s=(r*l-1)*Math.pow(2,a),o=o+w):(s=r*Math.pow(2,w-1)*Math.pow(2,a),o=0));a>=8;e[t+m]=s&255,m+=E,s/=256,a-=8);for(o=o<<a|s,f+=a;f>0;e[t+m]=o&255,m+=E,o/=256,f-=8);e[t+m-E]|=I*128}var toString={}.toString,isArray$2=Array.isArray||function(e){return toString.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT!==void 0?global$1.TYPED_ARRAY_SUPPORT:!0,kMaxLength();function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,r){if(kMaxLength()<r)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(r),e.__proto__=Buffer.prototype):(e===null&&(e=new Buffer(r)),e.length=r),e}function Buffer(e,r,t){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(e,r,t);if(typeof e=="number"){if(typeof r=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,r,t)}Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e};function from(e,r,t,n){if(typeof r=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer?fromArrayBuffer(e,r,t,n):typeof r=="string"?fromString(e,r,t):fromObject(e,r)}Buffer.from=function(e,r,t){return from(null,e,r,t)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array);function assertSize(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,r,t,n){return assertSize(r),r<=0?createBuffer(e,r):t!==void 0?typeof n=="string"?createBuffer(e,r).fill(t,n):createBuffer(e,r).fill(t):createBuffer(e,r)}Buffer.alloc=function(e,r,t){return alloc(null,e,r,t)};function allocUnsafe(e,r){if(assertSize(r),e=createBuffer(e,r<0?0:checked(r)|0),!Buffer.TYPED_ARRAY_SUPPORT)for(var t=0;t<r;++t)e[t]=0;return e}Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)};function fromString(e,r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=byteLength(r,t)|0;e=createBuffer(e,n);var a=e.write(r,t);return a!==n&&(e=e.slice(0,a)),e}function fromArrayLike(e,r){var t=r.length<0?0:checked(r.length)|0;e=createBuffer(e,t);for(var n=0;n<t;n+=1)e[n]=r[n]&255;return e}function fromArrayBuffer(e,r,t,n){if(r.byteLength,t<0||r.byteLength<t)throw new RangeError("'offset' is out of bounds");if(r.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");return t===void 0&&n===void 0?r=new Uint8Array(r):n===void 0?r=new Uint8Array(r,t):r=new Uint8Array(r,t,n),Buffer.TYPED_ARRAY_SUPPORT?(e=r,e.__proto__=Buffer.prototype):e=fromArrayLike(e,r),e}function fromObject(e,r){if(internalIsBuffer(r)){var t=checked(r.length)|0;return e=createBuffer(e,t),e.length===0||r.copy(e,0,0,t),e}if(r){if(typeof ArrayBuffer<"u"&&r.buffer instanceof ArrayBuffer||"length"in r)return typeof r.length!="number"||isnan(r.length)?createBuffer(e,0):fromArrayLike(e,r);if(r.type==="Buffer"&&isArray$2(r.data))return fromArrayLike(e,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return e|0}Buffer.isBuffer=isBuffer;function internalIsBuffer(e){return!!(e!=null&&e._isBuffer)}Buffer.compare=function(r,t){if(!internalIsBuffer(r)||!internalIsBuffer(t))throw new TypeError("Arguments must be Buffers");if(r===t)return 0;for(var n=r.length,a=t.length,i=0,o=Math.min(n,a);i<o;++i)if(r[i]!==t[i]){n=r[i],a=t[i];break}return n<a?-1:a<n?1:0},Buffer.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(r,t){if(!isArray$2(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return Buffer.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<r.length;++n)t+=r[n].length;var a=Buffer.allocUnsafe(t),i=0;for(n=0;n<r.length;++n){var o=r[n];if(!internalIsBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,i),i+=o.length}return a};function byteLength(e,r){if(internalIsBuffer(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var t=e.length;if(t===0)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;r=(""+r).toLowerCase(),n=!0}}Buffer.byteLength=byteLength;function slowToString(e,r,t){var n=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,r>>>=0,t<=r))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,r,t);case"utf8":case"utf-8":return utf8Slice(this,r,t);case"ascii":return asciiSlice(this,r,t);case"latin1":case"binary":return latin1Slice(this,r,t);case"base64":return base64Slice(this,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,r,t);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}Buffer.prototype._isBuffer=!0;function swap(e,r,t){var n=e[r];e[r]=e[t],e[t]=n}Buffer.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var r=this.length|0;return r===0?"":arguments.length===0?utf8Slice(this,0,r):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(r){if(!internalIsBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:Buffer.compare(this,r)===0},Buffer.prototype.inspect=function(){var r="",t=INSPECT_MAX_BYTES;return this.length>0&&(r=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(r+=" ... ")),"<Buffer "+r+">"},Buffer.prototype.compare=function(r,t,n,a,i){if(!internalIsBuffer(r))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),n===void 0&&(n=r?r.length:0),a===void 0&&(a=0),i===void 0&&(i=this.length),t<0||n>r.length||a<0||i>this.length)throw new RangeError("out of range index");if(a>=i&&t>=n)return 0;if(a>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,a>>>=0,i>>>=0,this===r)return 0;for(var o=i-a,s=n-t,l=Math.min(o,s),f=this.slice(a,i),c=r.slice(t,n),w=0;w<l;++w)if(f[w]!==c[w]){o=f[w],s=c[w];break}return o<s?-1:s<o?1:0};function bidirectionalIndexOf(e,r,t,n,a){if(e.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=a?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(a)return-1;t=e.length-1}else if(t<0)if(a)t=0;else return-1;if(typeof r=="string"&&(r=Buffer.from(r,n)),internalIsBuffer(r))return r.length===0?-1:arrayIndexOf(e,r,t,n,a);if(typeof r=="number")return r=r&255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?a?Uint8Array.prototype.indexOf.call(e,r,t):Uint8Array.prototype.lastIndexOf.call(e,r,t):arrayIndexOf(e,[r],t,n,a);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,r,t,n,a){var i=1,o=e.length,s=r.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||r.length<2)return-1;i=2,o/=2,s/=2,t/=2}function l(m,E){return i===1?m[E]:m.readUInt16BE(E*i)}var f;if(a){var c=-1;for(f=t;f<o;f++)if(l(e,f)===l(r,c===-1?0:f-c)){if(c===-1&&(c=f),f-c+1===s)return c*i}else c!==-1&&(f-=f-c),c=-1}else for(t+s>o&&(t=o-s),f=t;f>=0;f--){for(var w=!0,R=0;R<s;R++)if(l(e,f+R)!==l(r,R)){w=!1;break}if(w)return f}return-1}Buffer.prototype.includes=function(r,t,n){return this.indexOf(r,t,n)!==-1},Buffer.prototype.indexOf=function(r,t,n){return bidirectionalIndexOf(this,r,t,n,!0)},Buffer.prototype.lastIndexOf=function(r,t,n){return bidirectionalIndexOf(this,r,t,n,!1)};function hexWrite(e,r,t,n){t=Number(t)||0;var a=e.length-t;n?(n=Number(n),n>a&&(n=a)):n=a;var i=r.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var s=parseInt(r.substr(o*2,2),16);if(isNaN(s))return o;e[t+o]=s}return o}function utf8Write(e,r,t,n){return blitBuffer(utf8ToBytes(r,e.length-t),e,t,n)}function asciiWrite(e,r,t,n){return blitBuffer(asciiToBytes(r),e,t,n)}function latin1Write(e,r,t,n){return asciiWrite(e,r,t,n)}function base64Write(e,r,t,n){return blitBuffer(base64ToBytes(r),e,t,n)}function ucs2Write(e,r,t,n){return blitBuffer(utf16leToBytes(r,e.length-t),e,t,n)}Buffer.prototype.write=function(r,t,n,a){if(t===void 0)a="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")a=t,n=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(n)?(n=n|0,a===void 0&&(a="utf8")):(a=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i=this.length-t;if((n===void 0||n>i)&&(n=i),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var o=!1;;)switch(a){case"hex":return hexWrite(this,r,t,n);case"utf8":case"utf-8":return utf8Write(this,r,t,n);case"ascii":return asciiWrite(this,r,t,n);case"latin1":case"binary":return latin1Write(this,r,t,n);case"base64":return base64Write(this,r,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,r,t,n);default:if(o)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(e,r,t){return r===0&&t===e.length?fromByteArray(e):fromByteArray(e.slice(r,t))}function utf8Slice(e,r,t){t=Math.min(e.length,t);for(var n=[],a=r;a<t;){var i=e[a],o=null,s=i>239?4:i>223?3:i>191?2:1;if(a+s<=t){var l,f,c,w;switch(s){case 1:i<128&&(o=i);break;case 2:l=e[a+1],(l&192)===128&&(w=(i&31)<<6|l&63,w>127&&(o=w));break;case 3:l=e[a+1],f=e[a+2],(l&192)===128&&(f&192)===128&&(w=(i&15)<<12|(l&63)<<6|f&63,w>2047&&(w<55296||w>57343)&&(o=w));break;case 4:l=e[a+1],f=e[a+2],c=e[a+3],(l&192)===128&&(f&192)===128&&(c&192)===128&&(w=(i&15)<<18|(l&63)<<12|(f&63)<<6|c&63,w>65535&&w<1114112&&(o=w))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),a+=s}return decodeCodePointsArray(n)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){var r=e.length;if(r<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var t="",n=0;n<r;)t+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return t}function asciiSlice(e,r,t){var n="";t=Math.min(e.length,t);for(var a=r;a<t;++a)n+=String.fromCharCode(e[a]&127);return n}function latin1Slice(e,r,t){var n="";t=Math.min(e.length,t);for(var a=r;a<t;++a)n+=String.fromCharCode(e[a]);return n}function hexSlice(e,r,t){var n=e.length;(!r||r<0)&&(r=0),(!t||t<0||t>n)&&(t=n);for(var a="",i=r;i<t;++i)a+=toHex(e[i]);return a}function utf16leSlice(e,r,t){for(var n=e.slice(r,t),a="",i=0;i<n.length;i+=2)a+=String.fromCharCode(n[i]+n[i+1]*256);return a}Buffer.prototype.slice=function(r,t){var n=this.length;r=~~r,t=t===void 0?n:~~t,r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<r&&(t=r);var a;if(Buffer.TYPED_ARRAY_SUPPORT)a=this.subarray(r,t),a.__proto__=Buffer.prototype;else{var i=t-r;a=new Buffer(i,void 0);for(var o=0;o<i;++o)a[o]=this[o+r]}return a};function checkOffset(e,r,t){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+r>t)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function(r,t,n){r=r|0,t=t|0,n||checkOffset(r,t,this.length);for(var a=this[r],i=1,o=0;++o<t&&(i*=256);)a+=this[r+o]*i;return a},Buffer.prototype.readUIntBE=function(r,t,n){r=r|0,t=t|0,n||checkOffset(r,t,this.length);for(var a=this[r+--t],i=1;t>0&&(i*=256);)a+=this[r+--t]*i;return a},Buffer.prototype.readUInt8=function(r,t){return t||checkOffset(r,1,this.length),this[r]},Buffer.prototype.readUInt16LE=function(r,t){return t||checkOffset(r,2,this.length),this[r]|this[r+1]<<8},Buffer.prototype.readUInt16BE=function(r,t){return t||checkOffset(r,2,this.length),this[r]<<8|this[r+1]},Buffer.prototype.readUInt32LE=function(r,t){return t||checkOffset(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},Buffer.prototype.readUInt32BE=function(r,t){return t||checkOffset(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},Buffer.prototype.readIntLE=function(r,t,n){r=r|0,t=t|0,n||checkOffset(r,t,this.length);for(var a=this[r],i=1,o=0;++o<t&&(i*=256);)a+=this[r+o]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},Buffer.prototype.readIntBE=function(r,t,n){r=r|0,t=t|0,n||checkOffset(r,t,this.length);for(var a=t,i=1,o=this[r+--a];a>0&&(i*=256);)o+=this[r+--a]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function(r,t){return t||checkOffset(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},Buffer.prototype.readInt16LE=function(r,t){t||checkOffset(r,2,this.length);var n=this[r]|this[r+1]<<8;return n&32768?n|4294901760:n},Buffer.prototype.readInt16BE=function(r,t){t||checkOffset(r,2,this.length);var n=this[r+1]|this[r]<<8;return n&32768?n|4294901760:n},Buffer.prototype.readInt32LE=function(r,t){return t||checkOffset(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},Buffer.prototype.readInt32BE=function(r,t){return t||checkOffset(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},Buffer.prototype.readFloatLE=function(r,t){return t||checkOffset(r,4,this.length),read(this,r,!0,23,4)},Buffer.prototype.readFloatBE=function(r,t){return t||checkOffset(r,4,this.length),read(this,r,!1,23,4)},Buffer.prototype.readDoubleLE=function(r,t){return t||checkOffset(r,8,this.length),read(this,r,!0,52,8)},Buffer.prototype.readDoubleBE=function(r,t){return t||checkOffset(r,8,this.length),read(this,r,!1,52,8)};function checkInt(e,r,t,n,a,i){if(!internalIsBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>a||r<i)throw new RangeError('"value" argument is out of bounds');if(t+n>e.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function(r,t,n,a){if(r=+r,t=t|0,n=n|0,!a){var i=Math.pow(2,8*n)-1;checkInt(this,r,t,n,i,0)}var o=1,s=0;for(this[t]=r&255;++s<n&&(o*=256);)this[t+s]=r/o&255;return t+n},Buffer.prototype.writeUIntBE=function(r,t,n,a){if(r=+r,t=t|0,n=n|0,!a){var i=Math.pow(2,8*n)-1;checkInt(this,r,t,n,i,0)}var o=n-1,s=1;for(this[t+o]=r&255;--o>=0&&(s*=256);)this[t+o]=r/s&255;return t+n},Buffer.prototype.writeUInt8=function(r,t,n){return r=+r,t=t|0,n||checkInt(this,r,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[t]=r&255,t+1};function objectWriteUInt16(e,r,t,n){r<0&&(r=65535+r+1);for(var a=0,i=Math.min(e.length-t,2);a<i;++a)e[t+a]=(r&255<<8*(n?a:1-a))>>>(n?a:1-a)*8}Buffer.prototype.writeUInt16LE=function(r,t,n){return r=+r,t=t|0,n||checkInt(this,r,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=r&255,this[t+1]=r>>>8):objectWriteUInt16(this,r,t,!0),t+2},Buffer.prototype.writeUInt16BE=function(r,t,n){return r=+r,t=t|0,n||checkInt(this,r,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=r&255):objectWriteUInt16(this,r,t,!1),t+2};function objectWriteUInt32(e,r,t,n){r<0&&(r=4294967295+r+1);for(var a=0,i=Math.min(e.length-t,4);a<i;++a)e[t+a]=r>>>(n?a:3-a)*8&255}Buffer.prototype.writeUInt32LE=function(r,t,n){return r=+r,t=t|0,n||checkInt(this,r,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=r&255):objectWriteUInt32(this,r,t,!0),t+4},Buffer.prototype.writeUInt32BE=function(r,t,n){return r=+r,t=t|0,n||checkInt(this,r,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255):objectWriteUInt32(this,r,t,!1),t+4},Buffer.prototype.writeIntLE=function(r,t,n,a){if(r=+r,t=t|0,!a){var i=Math.pow(2,8*n-1);checkInt(this,r,t,n,i-1,-i)}var o=0,s=1,l=0;for(this[t]=r&255;++o<n&&(s*=256);)r<0&&l===0&&this[t+o-1]!==0&&(l=1),this[t+o]=(r/s>>0)-l&255;return t+n},Buffer.prototype.writeIntBE=function(r,t,n,a){if(r=+r,t=t|0,!a){var i=Math.pow(2,8*n-1);checkInt(this,r,t,n,i-1,-i)}var o=n-1,s=1,l=0;for(this[t+o]=r&255;--o>=0&&(s*=256);)r<0&&l===0&&this[t+o+1]!==0&&(l=1),this[t+o]=(r/s>>0)-l&255;return t+n},Buffer.prototype.writeInt8=function(r,t,n){return r=+r,t=t|0,n||checkInt(this,r,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[t]=r&255,t+1},Buffer.prototype.writeInt16LE=function(r,t,n){return r=+r,t=t|0,n||checkInt(this,r,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=r&255,this[t+1]=r>>>8):objectWriteUInt16(this,r,t,!0),t+2},Buffer.prototype.writeInt16BE=function(r,t,n){return r=+r,t=t|0,n||checkInt(this,r,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=r&255):objectWriteUInt16(this,r,t,!1),t+2},Buffer.prototype.writeInt32LE=function(r,t,n){return r=+r,t=t|0,n||checkInt(this,r,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=r&255,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24):objectWriteUInt32(this,r,t,!0),t+4},Buffer.prototype.writeInt32BE=function(r,t,n){return r=+r,t=t|0,n||checkInt(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255):objectWriteUInt32(this,r,t,!1),t+4};function checkIEEE754(e,r,t,n,a,i){if(t+n>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function writeFloat(e,r,t,n,a){return a||checkIEEE754(e,r,t,4),write(e,r,t,n,23,4),t+4}Buffer.prototype.writeFloatLE=function(r,t,n){return writeFloat(this,r,t,!0,n)},Buffer.prototype.writeFloatBE=function(r,t,n){return writeFloat(this,r,t,!1,n)};function writeDouble(e,r,t,n,a){return a||checkIEEE754(e,r,t,8),write(e,r,t,n,52,8),t+8}Buffer.prototype.writeDoubleLE=function(r,t,n){return writeDouble(this,r,t,!0,n)},Buffer.prototype.writeDoubleBE=function(r,t,n){return writeDouble(this,r,t,!1,n)},Buffer.prototype.copy=function(r,t,n,a){if(n||(n=0),!a&&a!==0&&(a=this.length),t>=r.length&&(t=r.length),t||(t=0),a>0&&a<n&&(a=n),a===n||r.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),r.length-t<a-n&&(a=r.length-t+n);var i=a-n,o;if(this===r&&n<t&&t<a)for(o=i-1;o>=0;--o)r[o+t]=this[o+n];else if(i<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)r[o+t]=this[o+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+i),t);return i},Buffer.prototype.fill=function(r,t,n,a){if(typeof r=="string"){if(typeof t=="string"?(a=t,t=0,n=this.length):typeof n=="string"&&(a=n,n=this.length),r.length===1){var i=r.charCodeAt(0);i<256&&(r=i)}if(a!==void 0&&typeof a!="string")throw new TypeError("encoding must be a string");if(typeof a=="string"&&!Buffer.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else typeof r=="number"&&(r=r&255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,r||(r=0);var o;if(typeof r=="number")for(o=t;o<n;++o)this[o]=r;else{var s=internalIsBuffer(r)?r:utf8ToBytes(new Buffer(r,a).toString()),l=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%l]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(e){if(e=stringtrim(e).replace(INVALID_BASE64_RE,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,r){r=r||1/0;for(var t,n=e.length,a=null,i=[],o=0;o<n;++o){if(t=e.charCodeAt(o),t>55295&&t<57344){if(!a){if(t>56319){(r-=3)>-1&&i.push(239,191,189);continue}else if(o+1===n){(r-=3)>-1&&i.push(239,191,189);continue}a=t;continue}if(t<56320){(r-=3)>-1&&i.push(239,191,189),a=t;continue}t=(a-55296<<10|t-56320)+65536}else a&&(r-=3)>-1&&i.push(239,191,189);if(a=null,t<128){if((r-=1)<0)break;i.push(t)}else if(t<2048){if((r-=2)<0)break;i.push(t>>6|192,t&63|128)}else if(t<65536){if((r-=3)<0)break;i.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((r-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return i}function asciiToBytes(e){for(var r=[],t=0;t<e.length;++t)r.push(e.charCodeAt(t)&255);return r}function utf16leToBytes(e,r){for(var t,n,a,i=[],o=0;o<e.length&&!((r-=2)<0);++o)t=e.charCodeAt(o),n=t>>8,a=t%256,i.push(a),i.push(n);return i}function base64ToBytes(e){return toByteArray(base64clean(e))}function blitBuffer(e,r,t,n){for(var a=0;a<n&&!(a+t>=r.length||a>=e.length);++a)r[a+t]=e[a];return a}function isnan(e){return e!==e}function isBuffer(e){return e!=null&&(!!e._isBuffer||isFastBuffer(e)||isSlowBuffer(e))}function isFastBuffer(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function isSlowBuffer(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&isFastBuffer(e.slice(0,0))}function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;typeof global$1.setTimeout=="function"&&(cachedSetTimeout=setTimeout),typeof global$1.clearTimeout=="function"&&(cachedClearTimeout=clearTimeout);function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch{try{return cachedSetTimeout.call(null,e,0)}catch{return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch{try{return cachedClearTimeout.call(null,e)}catch{return cachedClearTimeout.call(this,e)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var r=queue.length;r;){for(currentQueue=queue,queue=[];++queueIndex<r;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,r=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];queue.push(new Item(e,r)),queue.length===1&&!draining&&runTimeout(drainQueue)}function Item(e,r){this.fun=e,this.array=r}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding$1(e){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(e){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global$1.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return new Date().getTime()};function hrtime(e){var r=performanceNow.call(performance)*.001,t=Math.floor(r),n=Math.floor(r%1*1e9);return e&&(t=t-e[0],n=n-e[1],n<0&&(t--,n+=1e9)),[t,n]}var startTime=new Date;function uptime(){var e=new Date,r=e-startTime;return r/1e3}var browser$1={nextTick,title,browser,env,argv,version,versions,on,addListener,once,off,removeListener,removeAllListeners,emit,binding:binding$1,cwd,chdir,umask,hrtime,platform,release,config,uptime},commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(e){var r=e.default;if(typeof r=="function"){var t=function(){return r.apply(this,arguments)};t.prototype=r.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),t}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var domain;function EventHandlers(){}EventHandlers.prototype=Object.create(null);function EventEmitter(){EventEmitter.init.call(this)}EventEmitter.EventEmitter=EventEmitter,EventEmitter.usingDomains=!1,EventEmitter.prototype.domain=void 0,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.init=function(){this.domain=null,EventEmitter.usingDomains&&domain.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new EventHandlers,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||isNaN(r))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=r,this};function $getMaxListeners(e){return e._maxListeners===void 0?EventEmitter.defaultMaxListeners:e._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return $getMaxListeners(this)};function emitNone(e,r,t){if(r)e.call(t);else for(var n=e.length,a=arrayClone(e,n),i=0;i<n;++i)a[i].call(t)}function emitOne(e,r,t,n){if(r)e.call(t,n);else for(var a=e.length,i=arrayClone(e,a),o=0;o<a;++o)i[o].call(t,n)}function emitTwo(e,r,t,n,a){if(r)e.call(t,n,a);else for(var i=e.length,o=arrayClone(e,i),s=0;s<i;++s)o[s].call(t,n,a)}function emitThree(e,r,t,n,a,i){if(r)e.call(t,n,a,i);else for(var o=e.length,s=arrayClone(e,o),l=0;l<o;++l)s[l].call(t,n,a,i)}function emitMany(e,r,t,n){if(r)e.apply(t,n);else for(var a=e.length,i=arrayClone(e,a),o=0;o<a;++o)i[o].apply(t,n)}EventEmitter.prototype.emit=function(r){var t,n,a,i,o,s,l,f=r==="error";if(s=this._events,s)f=f&&s.error==null;else if(!f)return!1;if(l=this.domain,f){if(t=arguments[1],l)t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=l,t.domainThrown=!1,l.emit("error",t);else{if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return!1}if(n=s[r],!n)return!1;var w=typeof n=="function";switch(a=arguments.length,a){case 1:emitNone(n,w,this);break;case 2:emitOne(n,w,this,arguments[1]);break;case 3:emitTwo(n,w,this,arguments[1],arguments[2]);break;case 4:emitThree(n,w,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(a-1),o=1;o<a;o++)i[o-1]=arguments[o];emitMany(n,w,this,i)}return!0};function _addListener(e,r,t,n){var a,i,o;if(typeof t!="function")throw new TypeError('"listener" argument must be a function');if(i=e._events,i?(i.newListener&&(e.emit("newListener",r,t.listener?t.listener:t),i=e._events),o=i[r]):(i=e._events=new EventHandlers,e._eventsCount=0),!o)o=i[r]=t,++e._eventsCount;else if(typeof o=="function"?o=i[r]=n?[t,o]:[o,t]:n?o.unshift(t):o.push(t),!o.warned&&(a=$getMaxListeners(e),a&&a>0&&o.length>a)){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+r+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=r,s.count=o.length,emitWarning(s)}return e}function emitWarning(e){typeof console.warn=="function"?console.warn(e):console.log(e)}EventEmitter.prototype.addListener=function(r,t){return _addListener(this,r,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(r,t){return _addListener(this,r,t,!0)};function _onceWrap(e,r,t){var n=!1;function a(){e.removeListener(r,a),n||(n=!0,t.apply(e,arguments))}return a.listener=t,a}EventEmitter.prototype.once=function(r,t){if(typeof t!="function")throw new TypeError('"listener" argument must be a function');return this.on(r,_onceWrap(this,r,t)),this},EventEmitter.prototype.prependOnceListener=function(r,t){if(typeof t!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(r,_onceWrap(this,r,t)),this},EventEmitter.prototype.removeListener=function(r,t){var n,a,i,o,s;if(typeof t!="function")throw new TypeError('"listener" argument must be a function');if(a=this._events,!a)return this;if(n=a[r],!n)return this;if(n===t||n.listener&&n.listener===t)--this._eventsCount===0?this._events=new EventHandlers:(delete a[r],a.removeListener&&this.emit("removeListener",r,n.listener||t));else if(typeof n!="function"){for(i=-1,o=n.length;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount===0)return this._events=new EventHandlers,this;delete a[r]}else spliceOne(n,i);a.removeListener&&this.emit("removeListener",r,s||t)}return this},EventEmitter.prototype.removeAllListeners=function(r){var t,n;if(n=this._events,!n)return this;if(!n.removeListener)return arguments.length===0?(this._events=new EventHandlers,this._eventsCount=0):n[r]&&(--this._eventsCount===0?this._events=new EventHandlers:delete n[r]),this;if(arguments.length===0){for(var a=Object.keys(n),i=0,o;i<a.length;++i)o=a[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=new EventHandlers,this._eventsCount=0,this}if(t=n[r],typeof t=="function")this.removeListener(r,t);else if(t)do this.removeListener(r,t[t.length-1]);while(t[0]);return this},EventEmitter.prototype.listeners=function(r){var t,n,a=this._events;return a?(t=a[r],t?typeof t=="function"?n=[t.listener||t]:n=unwrapListeners(t):n=[]):n=[],n},EventEmitter.listenerCount=function(e,r){return typeof e.listenerCount=="function"?e.listenerCount(r):listenerCount$1.call(e,r)},EventEmitter.prototype.listenerCount=listenerCount$1;function listenerCount$1(e){var r=this._events;if(r){var t=r[e];if(typeof t=="function")return 1;if(t)return t.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function spliceOne(e,r){for(var t=r,n=t+1,a=e.length;n<a;t+=1,n+=1)e[t]=e[n];e.pop()}function arrayClone(e,r){for(var t=new Array(r);r--;)t[r]=e[r];return t}function unwrapListeners(e){for(var r=new Array(e.length),t=0;t<r.length;++t)r[t]=e[t].listener||e[t];return r}var inherits;typeof Object.create=="function"?inherits=function(r,t){r.super_=t,r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:inherits=function(r,t){r.super_=t;var n=function(){};n.prototype=t.prototype,r.prototype=new n,r.prototype.constructor=r};const inherits$1=inherits;var formatRegExp=/%[sdj%]/g;function format$1(e){if(!isString$1(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,a=n.length,i=String(e).replace(formatRegExp,function(s){if(s==="%%")return"%";if(t>=a)return s;switch(s){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch{return"[Circular]"}default:return s}}),o=n[t];t<a;o=n[++t])isNull(o)||!isObject(o)?i+=" "+o:i+=" "+inspect(o);return i}function deprecate(e,r){if(isUndefined(global$1.process))return function(){return deprecate(e,r).apply(this,arguments)};if(browser$1.noDeprecation===!0)return e;var t=!1;function n(){if(!t){if(browser$1.throwDeprecation)throw new Error(r);browser$1.traceDeprecation?console.trace(r):console.error(r),t=!0}return e.apply(this,arguments)}return n}var debugs={},debugEnviron;function debuglog(e){if(isUndefined(debugEnviron)&&(debugEnviron=browser$1.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=0;debugs[e]=function(){var t=format$1.apply(null,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]}function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&_extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"\x1B["+inspect.colors[t][0]+"m"+e+"\x1B["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(t,n){r[t]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction$1(r.inspect)&&r.inspect!==inspect&&!(r.constructor&&r.constructor.prototype===r)){var n=r.inspect(t,e);return isString$1(n)||(n=formatValue(e,n,t)),n}var a=formatPrimitive(e,r);if(a)return a;var i=Object.keys(r),o=arrayToHash(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(r)),isError(r)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return formatError(r);if(i.length===0){if(isFunction$1(r)){var s=r.name?": "+r.name:"";return e.stylize("[Function"+s+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var l="",f=!1,c=["{","}"];if(isArray$1(r)&&(f=!0,c=["[","]"]),isFunction$1(r)){var w=r.name?": "+r.name:"";l=" [Function"+w+"]"}if(isRegExp(r)&&(l=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(l=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(l=" "+formatError(r)),i.length===0&&(!f||r.length==0))return c[0]+l+c[1];if(t<0)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var R;return f?R=formatArray(e,r,t,o,i):R=i.map(function(m){return formatProperty(e,r,t,o,m,f)}),e.seen.pop(),reduceToSingleString(R,l,c)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString$1(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}if(isNumber(r))return e.stylize(""+r,"number");if(isBoolean(r))return e.stylize(""+r,"boolean");if(isNull(r))return e.stylize("null","null")}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,a){for(var i=[],o=0,s=r.length;o<s;++o)hasOwnProperty$1(r,String(o))?i.push(formatProperty(e,r,t,n,String(o),!0)):i.push("");return a.forEach(function(l){l.match(/^\d+$/)||i.push(formatProperty(e,r,t,n,l,!0))}),i}function formatProperty(e,r,t,n,a,i){var o,s,l;if(l=Object.getOwnPropertyDescriptor(r,a)||{value:r[a]},l.get?l.set?s=e.stylize("[Getter/Setter]","special"):s=e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),hasOwnProperty$1(n,a)||(o="["+a+"]"),s||(e.seen.indexOf(l.value)<0?(isNull(t)?s=formatValue(e,l.value,null):s=formatValue(e,l.value,t-1),s.indexOf(`
`)>-1&&(i?s=s.split(`
`).map(function(f){return"  "+f}).join(`
`).substr(2):s=`
`+s.split(`
`).map(function(f){return"   "+f}).join(`
`))):s=e.stylize("[Circular]","special")),isUndefined(o)){if(i&&a.match(/^\d+$/))return s;o=JSON.stringify(""+a),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function reduceToSingleString(e,r,t){var n=e.reduce(function(a,i){return i.indexOf(`
`)>=0,a+i.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?t[0]+(r===""?"":r+`
 `)+" "+e.join(`,
  `)+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray$1(e){return Array.isArray(e)}function isBoolean(e){return typeof e=="boolean"}function isNull(e){return e===null}function isNullOrUndefined(e){return e==null}function isNumber(e){return typeof e=="number"}function isString$1(e){return typeof e=="string"}function isUndefined(e){return e===void 0}function isRegExp(e){return isObject(e)&&objectToString(e)==="[object RegExp]"}function isObject(e){return typeof e=="object"&&e!==null}function isDate(e){return isObject(e)&&objectToString(e)==="[object Date]"}function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}function isFunction$1(e){return typeof e=="function"}function objectToString(e){return Object.prototype.toString.call(e)}function _extend(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e}function hasOwnProperty$1(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function BufferList(){this.head=null,this.tail=null,this.length=0}BufferList.prototype.push=function(e){var r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length},BufferList.prototype.unshift=function(e){var r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length},BufferList.prototype.shift=function(){if(this.length!==0){var e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(e){if(this.length===0)return"";for(var r=this.head,t=""+r.data;r=r.next;)t+=e+r.data;return t},BufferList.prototype.concat=function(e){if(this.length===0)return Buffer.alloc(0);if(this.length===1)return this.head.data;for(var r=Buffer.allocUnsafe(e>>>0),t=this.head,n=0;t;)t.data.copy(r,n),n+=t.data.length,t=t.next;return r};var isBufferEncoding=Buffer.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function assertEncoding(e){if(e&&!isBufferEncoding(e))throw new Error("Unknown encoding: "+e)}function StringDecoder(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:this.write=passThroughWrite;return}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0}StringDecoder.prototype.write=function(e){for(var r="";this.charLength;){var t=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,t),this.charReceived+=t,this.charReceived<this.charLength)return"";e=e.slice(t,e.length),r=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var a=r.charCodeAt(r.length-1);if(a>=55296&&a<=56319){this.charLength+=this.surrogateSize,r="";continue}if(this.charReceived=this.charLength=0,e.length===0)return r;break}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived),r+=e.toString(this.encoding,0,n);var n=r.length-1,a=r.charCodeAt(n);if(a>=55296&&a<=56319){var i=this.surrogateSize;return this.charLength+=i,this.charReceived+=i,this.charBuffer.copy(this.charBuffer,i,0,i),e.copy(this.charBuffer,0,0,i),r.substring(0,n)}return r},StringDecoder.prototype.detectIncompleteChar=function(e){for(var r=e.length>=3?3:e.length;r>0;r--){var t=e[e.length-r];if(r==1&&t>>5==6){this.charLength=2;break}if(r<=2&&t>>4==14){this.charLength=3;break}if(r<=3&&t>>3==30){this.charLength=4;break}}this.charReceived=r},StringDecoder.prototype.end=function(e){var r="";if(e&&e.length&&(r=this.write(e)),this.charReceived){var t=this.charReceived,n=this.charBuffer,a=this.encoding;r+=n.slice(0,t).toString(a)}return r};function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}Readable.ReadableState=ReadableState;var debug=debuglog("stream");inherits$1(Readable,EventEmitter);function prependListener(e,r,t){if(typeof e.prependListener=="function")return e.prependListener(r,t);!e._events||!e._events[r]?e.on(r,t):Array.isArray(e._events[r])?e._events[r].unshift(t):e._events[r]=[t,e._events[r]]}function listenerCount(e,r){return e.listeners(r).length}function ReadableState(e,r){e=e||{},this.objectMode=!!e.objectMode,r instanceof Duplex&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var t=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=t||t===0?t:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){if(!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this),this.readable=!0,e&&typeof e.read=="function"&&(this._read=e.read),EventEmitter.call(this)}Readable.prototype.push=function(e,r){var t=this._readableState;return!t.objectMode&&typeof e=="string"&&(r=r||t.defaultEncoding,r!==t.encoding&&(e=Buffer.from(e,r),r="")),readableAddChunk(this,t,e,r,!1)},Readable.prototype.unshift=function(e){var r=this._readableState;return readableAddChunk(this,r,e,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1};function readableAddChunk(e,r,t,n,a){var i=chunkInvalid(r,t);if(i)e.emit("error",i);else if(t===null)r.reading=!1,onEofChunk(e,r);else if(r.objectMode||t&&t.length>0)if(r.ended&&!a){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(r.endEmitted&&a){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else{var l;r.decoder&&!a&&!n&&(t=r.decoder.write(t),l=!r.objectMode&&t.length===0),a||(r.reading=!1),l||(r.flowing&&r.length===0&&!r.sync?(e.emit("data",t),e.read(0)):(r.length+=r.objectMode?1:t.length,a?r.buffer.unshift(t):r.buffer.push(t),r.needReadable&&emitReadable(e))),maybeReadMore(e,r)}else a||(r.reading=!1);return needMoreData(r)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}Readable.prototype.setEncoding=function(e){return this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,r){return e<=0||r.length===0&&r.ended?0:r.objectMode?1:e!==e?r.flowing&&r.length?r.buffer.head.data.length:r.length:(e>r.highWaterMark&&(r.highWaterMark=computeNewHighWaterMark(e)),e<=r.length?e:r.ended?r.length:(r.needReadable=!0,0))}Readable.prototype.read=function(e){debug("read",e),e=parseInt(e,10);var r=this._readableState,t=e;if(e!==0&&(r.emittedReadable=!1),e===0&&r.needReadable&&(r.length>=r.highWaterMark||r.ended))return debug("read: emitReadable",r.length,r.ended),r.length===0&&r.ended?endReadable(this):emitReadable(this),null;if(e=howMuchToRead(e,r),e===0&&r.ended)return r.length===0&&endReadable(this),null;var n=r.needReadable;debug("need readable",n),(r.length===0||r.length-e<r.highWaterMark)&&(n=!0,debug("length less than watermark",n)),r.ended||r.reading?(n=!1,debug("reading or ended",n)):n&&(debug("do read"),r.reading=!0,r.sync=!0,r.length===0&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=howMuchToRead(t,r)));var a;return e>0?a=fromList(e,r):a=null,a===null?(r.needReadable=!0,e=0):r.length-=e,r.length===0&&(r.ended||(r.needReadable=!0),t!==e&&r.ended&&endReadable(this)),a!==null&&this.emit("data",a),a};function chunkInvalid(e,r){var t=null;return!Buffer.isBuffer(r)&&typeof r!="string"&&r!==null&&r!==void 0&&!e.objectMode&&(t=new TypeError("Invalid non-string/buffer chunk")),t}function onEofChunk(e,r){if(!r.ended){if(r.decoder){var t=r.decoder.end();t&&t.length&&(r.buffer.push(t),r.length+=r.objectMode?1:t.length)}r.ended=!0,emitReadable(e)}}function emitReadable(e){var r=e._readableState;r.needReadable=!1,r.emittedReadable||(debug("emitReadable",r.flowing),r.emittedReadable=!0,r.sync?nextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,r){r.readingMore||(r.readingMore=!0,nextTick(maybeReadMore_,e,r))}function maybeReadMore_(e,r){for(var t=r.length;!r.reading&&!r.flowing&&!r.ended&&r.length<r.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),t!==r.length);)t=r.length;r.readingMore=!1}Readable.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(e,r){var t=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,debug("pipe count=%d opts=%j",n.pipesCount,r);var a=!r||r.end!==!1,i=a?s:c;n.endEmitted?nextTick(i):t.once("end",i),e.on("unpipe",o);function o(M){debug("onunpipe"),M===t&&c()}function s(){debug("onend"),e.end()}var l=pipeOnDrain(t);e.on("drain",l);var f=!1;function c(){debug("cleanup"),e.removeListener("close",E),e.removeListener("finish",I),e.removeListener("drain",l),e.removeListener("error",m),e.removeListener("unpipe",o),t.removeListener("end",s),t.removeListener("end",c),t.removeListener("data",R),f=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}var w=!1;t.on("data",R);function R(M){debug("ondata"),w=!1;var O=e.write(M);O===!1&&!w&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&indexOf(n.pipes,e)!==-1)&&!f&&(debug("false write response, pause",t._readableState.awaitDrain),t._readableState.awaitDrain++,w=!0),t.pause())}function m(M){debug("onerror",M),C(),e.removeListener("error",m),listenerCount(e,"error")===0&&e.emit("error",M)}prependListener(e,"error",m);function E(){e.removeListener("finish",I),C()}e.once("close",E);function I(){debug("onfinish"),e.removeListener("close",E),C()}e.once("finish",I);function C(){debug("unpipe"),t.unpipe(e)}return e.emit("pipe",t),n.flowing||(debug("pipe resume"),t.resume()),e};function pipeOnDrain(e){return function(){var r=e._readableState;debug("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&e.listeners("data").length&&(r.flowing=!0,flow(e))}}Readable.prototype.unpipe=function(e){var r=this._readableState;if(r.pipesCount===0)return this;if(r.pipesCount===1)return e&&e!==r.pipes?this:(e||(e=r.pipes),r.pipes=null,r.pipesCount=0,r.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var t=r.pipes,n=r.pipesCount;r.pipes=null,r.pipesCount=0,r.flowing=!1;for(var a=0;a<n;a++)t[a].emit("unpipe",this);return this}var i=indexOf(r.pipes,e);return i===-1?this:(r.pipes.splice(i,1),r.pipesCount-=1,r.pipesCount===1&&(r.pipes=r.pipes[0]),e.emit("unpipe",this),this)},Readable.prototype.on=function(e,r){var t=EventEmitter.prototype.on.call(this,e,r);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&emitReadable(this):nextTick(nReadingNextTick,this))}return t},Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,resume(this,e)),this};function resume(e,r){r.resumeScheduled||(r.resumeScheduled=!0,nextTick(resume_,e,r))}function resume_(e,r){r.reading||(debug("resume read 0"),e.read(0)),r.resumeScheduled=!1,r.awaitDrain=0,e.emit("resume"),flow(e),r.flowing&&!r.reading&&e.read(0)}Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function flow(e){var r=e._readableState;for(debug("flow",r.flowing);r.flowing&&e.read()!==null;);}Readable.prototype.wrap=function(e){var r=this._readableState,t=!1,n=this;e.on("end",function(){if(debug("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&n.push(o)}n.push(null)}),e.on("data",function(o){if(debug("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var s=n.push(o);s||(t=!0,e.pause())}});for(var a in e)this[a]===void 0&&typeof e[a]=="function"&&(this[a]=function(o){return function(){return e[o].apply(e,arguments)}}(a));var i=["error","close","destroy","pause","resume"];return forEach(i,function(o){e.on(o,n.emit.bind(n,o))}),n._read=function(o){debug("wrapped _read",o),t&&(t=!1,e.resume())},n},Readable._fromList=fromList;function fromList(e,r){if(r.length===0)return null;var t;return r.objectMode?t=r.buffer.shift():!e||e>=r.length?(r.decoder?t=r.buffer.join(""):r.buffer.length===1?t=r.buffer.head.data:t=r.buffer.concat(r.length),r.buffer.clear()):t=fromListPartial(e,r.buffer,r.decoder),t}function fromListPartial(e,r,t){var n;return e<r.head.data.length?(n=r.head.data.slice(0,e),r.head.data=r.head.data.slice(e)):e===r.head.data.length?n=r.shift():n=t?copyFromBufferString(e,r):copyFromBuffer(e,r),n}function copyFromBufferString(e,r){var t=r.head,n=1,a=t.data;for(e-=a.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?a+=i:a+=i.slice(0,e),e-=o,e===0){o===i.length?(++n,t.next?r.head=t.next:r.head=r.tail=null):(r.head=t,t.data=i.slice(o));break}++n}return r.length-=n,a}function copyFromBuffer(e,r){var t=Buffer.allocUnsafe(e),n=r.head,a=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),e-=o,e===0){o===i.length?(++a,n.next?r.head=n.next:r.head=r.tail=null):(r.head=n,n.data=i.slice(o));break}++a}return r.length-=a,t}function endReadable(e){var r=e._readableState;if(r.length>0)throw new Error('"endReadable()" called on non-empty stream');r.endEmitted||(r.ended=!0,nextTick(endReadableNT,r,e))}function endReadableNT(e,r){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,r.readable=!1,r.emit("end"))}function forEach(e,r){for(var t=0,n=e.length;t<n;t++)r(e[t],t)}function indexOf(e,r){for(var t=0,n=e.length;t<n;t++)if(e[t]===r)return t;return-1}Writable.WritableState=WritableState,inherits$1(Writable,EventEmitter);function nop(){}function WriteReq(e,r,t){this.chunk=e,this.encoding=r,this.callback=t,this.next=null}function WritableState(e,r){Object.defineProperty(this,"buffer",{get:deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,r instanceof Duplex&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var t=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=t||t===0?t:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=e.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){onwrite(r,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function(){for(var r=this.bufferedRequest,t=[];r;)t.push(r),r=r.next;return t};function Writable(e){if(!(this instanceof Writable)&&!(this instanceof Duplex))return new Writable(e);this._writableState=new WritableState(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev)),EventEmitter.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function writeAfterEnd(e,r){var t=new Error("write after end");e.emit("error",t),nextTick(r,t)}function validChunk(e,r,t,n){var a=!0,i=!1;return t===null?i=new TypeError("May not write null values to stream"):!Buffer.isBuffer(t)&&typeof t!="string"&&t!==void 0&&!r.objectMode&&(i=new TypeError("Invalid non-string/buffer chunk")),i&&(e.emit("error",i),nextTick(n,i),a=!1),a}Writable.prototype.write=function(e,r,t){var n=this._writableState,a=!1;return typeof r=="function"&&(t=r,r=null),Buffer.isBuffer(e)?r="buffer":r||(r=n.defaultEncoding),typeof t!="function"&&(t=nop),n.ended?writeAfterEnd(this,t):validChunk(this,n,e,t)&&(n.pendingcb++,a=writeOrBuffer(this,n,e,r,t)),a},Writable.prototype.cork=function(){var e=this._writableState;e.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(r){if(typeof r=="string"&&(r=r.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((r+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+r);return this._writableState.defaultEncoding=r,this};function decodeChunk(e,r,t){return!e.objectMode&&e.decodeStrings!==!1&&typeof r=="string"&&(r=Buffer.from(r,t)),r}function writeOrBuffer(e,r,t,n,a){t=decodeChunk(r,t,n),Buffer.isBuffer(t)&&(n="buffer");var i=r.objectMode?1:t.length;r.length+=i;var o=r.length<r.highWaterMark;if(o||(r.needDrain=!0),r.writing||r.corked){var s=r.lastBufferedRequest;r.lastBufferedRequest=new WriteReq(t,n,a),s?s.next=r.lastBufferedRequest:r.bufferedRequest=r.lastBufferedRequest,r.bufferedRequestCount+=1}else doWrite(e,r,!1,i,t,n,a);return o}function doWrite(e,r,t,n,a,i,o){r.writelen=n,r.writecb=o,r.writing=!0,r.sync=!0,t?e._writev(a,r.onwrite):e._write(a,i,r.onwrite),r.sync=!1}function onwriteError(e,r,t,n,a){--r.pendingcb,t?nextTick(a,n):a(n),e._writableState.errorEmitted=!0,e.emit("error",n)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,r){var t=e._writableState,n=t.sync,a=t.writecb;if(onwriteStateUpdate(t),r)onwriteError(e,t,n,r,a);else{var i=needFinish(t);!i&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&clearBuffer(e,t),n?nextTick(afterWrite,e,t,i,a):afterWrite(e,t,i,a)}}function afterWrite(e,r,t,n){t||onwriteDrain(e,r),r.pendingcb--,n(),finishMaybe(e,r)}function onwriteDrain(e,r){r.length===0&&r.needDrain&&(r.needDrain=!1,e.emit("drain"))}function clearBuffer(e,r){r.bufferProcessing=!0;var t=r.bufferedRequest;if(e._writev&&t&&t.next){var n=r.bufferedRequestCount,a=new Array(n),i=r.corkedRequestsFree;i.entry=t;for(var o=0;t;)a[o]=t,t=t.next,o+=1;doWrite(e,r,!0,r.length,a,"",i.finish),r.pendingcb++,r.lastBufferedRequest=null,i.next?(r.corkedRequestsFree=i.next,i.next=null):r.corkedRequestsFree=new CorkedRequest(r)}else{for(;t;){var s=t.chunk,l=t.encoding,f=t.callback,c=r.objectMode?1:s.length;if(doWrite(e,r,!1,c,s,l,f),t=t.next,r.writing)break}t===null&&(r.lastBufferedRequest=null)}r.bufferedRequestCount=0,r.bufferedRequest=t,r.bufferProcessing=!1}Writable.prototype._write=function(e,r,t){t(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,r,t){var n=this._writableState;typeof e=="function"?(t=e,e=null,r=null):typeof r=="function"&&(t=r,r=null),e!=null&&this.write(e,r),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&endWritable(this,n,t)};function needFinish(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function prefinish(e,r){r.prefinished||(r.prefinished=!0,e.emit("prefinish"))}function finishMaybe(e,r){var t=needFinish(r);return t&&(r.pendingcb===0?(prefinish(e,r),r.finished=!0,e.emit("finish")):prefinish(e,r)),t}function endWritable(e,r,t){r.ending=!0,finishMaybe(e,r),t&&(r.finished?nextTick(t):e.once("finish",t)),r.ended=!0,e.writable=!1}function CorkedRequest(e){var r=this;this.next=null,this.entry=null,this.finish=function(t){var n=r.entry;for(r.entry=null;n;){var a=n.callback;e.pendingcb--,a(t),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=r:e.corkedRequestsFree=r}}inherits$1(Duplex,Readable);for(var keys=Object.keys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);Readable.call(this,e),Writable.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||nextTick(onEndNT,this)}function onEndNT(e){e.end()}inherits$1(Transform,Duplex);function TransformState(e){this.afterTransform=function(r,t){return afterTransform(e,r,t)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(e,r,t){var n=e._transformState;n.transforming=!1;var a=n.writecb;if(!a)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,t!=null&&e.push(t),a(r);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}function Transform(e){if(!(this instanceof Transform))return new Transform(e);Duplex.call(this,e),this._transformState=new TransformState(this);var r=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(t){done(r,t)}):done(r)})}Transform.prototype.push=function(e,r){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,e,r)},Transform.prototype._transform=function(e,r,t){throw new Error("Not implemented")},Transform.prototype._write=function(e,r,t){var n=this._transformState;if(n.writecb=t,n.writechunk=e,n.writeencoding=r,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},Transform.prototype._read=function(e){var r=this._transformState;r.writechunk!==null&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0};function done(e,r){if(r)return e.emit("error",r);var t=e._writableState,n=e._transformState;if(t.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}inherits$1(PassThrough,Transform);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);Transform.call(this,e)}PassThrough.prototype._transform=function(e,r,t){t(null,e)},inherits$1(Stream,EventEmitter),Stream.Readable=Readable,Stream.Writable=Writable,Stream.Duplex=Duplex,Stream.Transform=Transform,Stream.PassThrough=PassThrough,Stream.Stream=Stream;function Stream(){EventEmitter.call(this)}Stream.prototype.pipe=function(e,r){var t=this;function n(c){e.writable&&e.write(c)===!1&&t.pause&&t.pause()}t.on("data",n);function a(){t.readable&&t.resume&&t.resume()}e.on("drain",a),!e._isStdio&&(!r||r.end!==!1)&&(t.on("end",o),t.on("close",s));var i=!1;function o(){i||(i=!0,e.end())}function s(){i||(i=!0,typeof e.destroy=="function"&&e.destroy())}function l(c){if(f(),EventEmitter.listenerCount(this,"error")===0)throw c}t.on("error",l),e.on("error",l);function f(){t.removeListener("data",n),e.removeListener("drain",a),t.removeListener("end",o),t.removeListener("close",s),t.removeListener("error",l),e.removeListener("error",l),t.removeListener("end",f),t.removeListener("close",f),e.removeListener("close",f)}return t.on("end",f),t.on("close",f),e.on("close",f),e.emit("pipe",t),e};const msg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function arraySet(e,r,t,n,a){if(r.subarray&&e.subarray){e.set(r.subarray(t,t+n),a);return}for(var i=0;i<n;i++)e[a+i]=r[t+i]}var Buf8=Uint8Array,Buf16=Uint16Array,Buf32=Int32Array,Z_FIXED$2=4,Z_BINARY$1=0,Z_TEXT$1=1,Z_UNKNOWN$2=2;function zero$1(e){for(var r=e.length;--r>=0;)e[r]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);var static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(e,r,t,n,a){this.static_tree=e,this.extra_bits=r,this.extra_base=t,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(e,r){this.dyn_tree=e,this.max_code=0,this.stat_desc=r}function d_code(e){return e<256?_dist_code[e]:_dist_code[256+(e>>>7)]}function put_short(e,r){e.pending_buf[e.pending++]=r&255,e.pending_buf[e.pending++]=r>>>8&255}function send_bits(e,r,t){e.bi_valid>Buf_size-t?(e.bi_buf|=r<<e.bi_valid&65535,put_short(e,e.bi_buf),e.bi_buf=r>>Buf_size-e.bi_valid,e.bi_valid+=t-Buf_size):(e.bi_buf|=r<<e.bi_valid&65535,e.bi_valid+=t)}function send_code(e,r,t){send_bits(e,t[r*2],t[r*2+1])}function bi_reverse(e,r){var t=0;do t|=e&1,e>>>=1,t<<=1;while(--r>0);return t>>>1}function bi_flush(e){e.bi_valid===16?(put_short(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function gen_bitlen(e,r){var t=r.dyn_tree,n=r.max_code,a=r.stat_desc.static_tree,i=r.stat_desc.has_stree,o=r.stat_desc.extra_bits,s=r.stat_desc.extra_base,l=r.stat_desc.max_length,f,c,w,R,m,E,I=0;for(R=0;R<=MAX_BITS$1;R++)e.bl_count[R]=0;for(t[e.heap[e.heap_max]*2+1]=0,f=e.heap_max+1;f<HEAP_SIZE$1;f++)c=e.heap[f],R=t[t[c*2+1]*2+1]+1,R>l&&(R=l,I++),t[c*2+1]=R,!(c>n)&&(e.bl_count[R]++,m=0,c>=s&&(m=o[c-s]),E=t[c*2],e.opt_len+=E*(R+m),i&&(e.static_len+=E*(a[c*2+1]+m)));if(I!==0){do{for(R=l-1;e.bl_count[R]===0;)R--;e.bl_count[R]--,e.bl_count[R+1]+=2,e.bl_count[l]--,I-=2}while(I>0);for(R=l;R!==0;R--)for(c=e.bl_count[R];c!==0;)w=e.heap[--f],!(w>n)&&(t[w*2+1]!==R&&(e.opt_len+=(R-t[w*2+1])*t[w*2],t[w*2+1]=R),c--)}}function gen_codes(e,r,t){var n=new Array(MAX_BITS$1+1),a=0,i,o;for(i=1;i<=MAX_BITS$1;i++)n[i]=a=a+t[i-1]<<1;for(o=0;o<=r;o++){var s=e[o*2+1];s!==0&&(e[o*2]=bi_reverse(n[s]++,s))}}function tr_static_init(){var e,r,t,n,a,i=new Array(MAX_BITS$1+1);for(t=0,n=0;n<LENGTH_CODES$1-1;n++)for(base_length[n]=t,e=0;e<1<<extra_lbits[n];e++)_length_code[t++]=n;for(_length_code[t-1]=n,a=0,n=0;n<16;n++)for(base_dist[n]=a,e=0;e<1<<extra_dbits[n];e++)_dist_code[a++]=n;for(a>>=7;n<D_CODES$1;n++)for(base_dist[n]=a<<7,e=0;e<1<<extra_dbits[n]-7;e++)_dist_code[256+a++]=n;for(r=0;r<=MAX_BITS$1;r++)i[r]=0;for(e=0;e<=143;)static_ltree[e*2+1]=8,e++,i[8]++;for(;e<=255;)static_ltree[e*2+1]=9,e++,i[9]++;for(;e<=279;)static_ltree[e*2+1]=7,e++,i[7]++;for(;e<=287;)static_ltree[e*2+1]=8,e++,i[8]++;for(gen_codes(static_ltree,L_CODES$1+1,i),e=0;e<D_CODES$1;e++)static_dtree[e*2+1]=5,static_dtree[e*2]=bi_reverse(e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)}function init_block(e){var r;for(r=0;r<L_CODES$1;r++)e.dyn_ltree[r*2]=0;for(r=0;r<D_CODES$1;r++)e.dyn_dtree[r*2]=0;for(r=0;r<BL_CODES$1;r++)e.bl_tree[r*2]=0;e.dyn_ltree[END_BLOCK*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function bi_windup(e){e.bi_valid>8?put_short(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function copy_block(e,r,t,n){bi_windup(e),n&&(put_short(e,t),put_short(e,~t)),arraySet(e.pending_buf,e.window,r,t,e.pending),e.pending+=t}function smaller(e,r,t,n){var a=r*2,i=t*2;return e[a]<e[i]||e[a]===e[i]&&n[r]<=n[t]}function pqdownheap(e,r,t){for(var n=e.heap[t],a=t<<1;a<=e.heap_len&&(a<e.heap_len&&smaller(r,e.heap[a+1],e.heap[a],e.depth)&&a++,!smaller(r,n,e.heap[a],e.depth));)e.heap[t]=e.heap[a],t=a,a<<=1;e.heap[t]=n}function compress_block(e,r,t){var n,a,i=0,o,s;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+i*2]<<8|e.pending_buf[e.d_buf+i*2+1],a=e.pending_buf[e.l_buf+i],i++,n===0?send_code(e,a,r):(o=_length_code[a],send_code(e,o+LITERALS$1+1,r),s=extra_lbits[o],s!==0&&(a-=base_length[o],send_bits(e,a,s)),n--,o=d_code(n),send_code(e,o,t),s=extra_dbits[o],s!==0&&(n-=base_dist[o],send_bits(e,n,s)));while(i<e.last_lit);send_code(e,END_BLOCK,r)}function build_tree(e,r){var t=r.dyn_tree,n=r.stat_desc.static_tree,a=r.stat_desc.has_stree,i=r.stat_desc.elems,o,s,l=-1,f;for(e.heap_len=0,e.heap_max=HEAP_SIZE$1,o=0;o<i;o++)t[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):t[o*2+1]=0;for(;e.heap_len<2;)f=e.heap[++e.heap_len]=l<2?++l:0,t[f*2]=1,e.depth[f]=0,e.opt_len--,a&&(e.static_len-=n[f*2+1]);for(r.max_code=l,o=e.heap_len>>1;o>=1;o--)pqdownheap(e,t,o);f=i;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pqdownheap(e,t,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,t[f*2]=t[o*2]+t[s*2],e.depth[f]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,t[o*2+1]=t[s*2+1]=f,e.heap[1]=f++,pqdownheap(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gen_bitlen(e,r),gen_codes(t,l,e.bl_count)}function scan_tree(e,r,t){var n,a=-1,i,o=r[0*2+1],s=0,l=7,f=4;for(o===0&&(l=138,f=3),r[(t+1)*2+1]=65535,n=0;n<=t;n++)i=o,o=r[(n+1)*2+1],!(++s<l&&i===o)&&(s<f?e.bl_tree[i*2]+=s:i!==0?(i!==a&&e.bl_tree[i*2]++,e.bl_tree[REP_3_6*2]++):s<=10?e.bl_tree[REPZ_3_10*2]++:e.bl_tree[REPZ_11_138*2]++,s=0,a=i,o===0?(l=138,f=3):i===o?(l=6,f=3):(l=7,f=4))}function send_tree(e,r,t){var n,a=-1,i,o=r[0*2+1],s=0,l=7,f=4;for(o===0&&(l=138,f=3),n=0;n<=t;n++)if(i=o,o=r[(n+1)*2+1],!(++s<l&&i===o)){if(s<f)do send_code(e,i,e.bl_tree);while(--s!==0);else i!==0?(i!==a&&(send_code(e,i,e.bl_tree),s--),send_code(e,REP_3_6,e.bl_tree),send_bits(e,s-3,2)):s<=10?(send_code(e,REPZ_3_10,e.bl_tree),send_bits(e,s-3,3)):(send_code(e,REPZ_11_138,e.bl_tree),send_bits(e,s-11,7));s=0,a=i,o===0?(l=138,f=3):i===o?(l=6,f=3):(l=7,f=4)}}function build_bl_tree(e){var r;for(scan_tree(e,e.dyn_ltree,e.l_desc.max_code),scan_tree(e,e.dyn_dtree,e.d_desc.max_code),build_tree(e,e.bl_desc),r=BL_CODES$1-1;r>=3&&e.bl_tree[bl_order[r]*2+1]===0;r--);return e.opt_len+=3*(r+1)+5+5+4,r}function send_all_trees(e,r,t,n){var a;for(send_bits(e,r-257,5),send_bits(e,t-1,5),send_bits(e,n-4,4),a=0;a<n;a++)send_bits(e,e.bl_tree[bl_order[a]*2+1],3);send_tree(e,e.dyn_ltree,r-1),send_tree(e,e.dyn_dtree,t-1)}function detect_data_type(e){var r=4093624447,t;for(t=0;t<=31;t++,r>>>=1)if(r&1&&e.dyn_ltree[t*2]!==0)return Z_BINARY$1;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Z_TEXT$1;for(t=32;t<LITERALS$1;t++)if(e.dyn_ltree[t*2]!==0)return Z_TEXT$1;return Z_BINARY$1}var static_init_done=!1;function _tr_init(e){static_init_done||(tr_static_init(),static_init_done=!0),e.l_desc=new TreeDesc(e.dyn_ltree,static_l_desc),e.d_desc=new TreeDesc(e.dyn_dtree,static_d_desc),e.bl_desc=new TreeDesc(e.bl_tree,static_bl_desc),e.bi_buf=0,e.bi_valid=0,init_block(e)}function _tr_stored_block(e,r,t,n){send_bits(e,(STORED_BLOCK<<1)+(n?1:0),3),copy_block(e,r,t,!0)}function _tr_align(e){send_bits(e,STATIC_TREES<<1,3),send_code(e,END_BLOCK,static_ltree),bi_flush(e)}function _tr_flush_block(e,r,t,n){var a,i,o=0;e.level>0?(e.strm.data_type===Z_UNKNOWN$2&&(e.strm.data_type=detect_data_type(e)),build_tree(e,e.l_desc),build_tree(e,e.d_desc),o=build_bl_tree(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=t+5,t+4<=a&&r!==-1?_tr_stored_block(e,r,t,n):e.strategy===Z_FIXED$2||i===a?(send_bits(e,(STATIC_TREES<<1)+(n?1:0),3),compress_block(e,static_ltree,static_dtree)):(send_bits(e,(DYN_TREES<<1)+(n?1:0),3),send_all_trees(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),compress_block(e,e.dyn_ltree,e.dyn_dtree)),init_block(e),n&&bi_windup(e)}function _tr_tally(e,r,t){return e.pending_buf[e.d_buf+e.last_lit*2]=r>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=r&255,e.pending_buf[e.l_buf+e.last_lit]=t&255,e.last_lit++,r===0?e.dyn_ltree[t*2]++:(e.matches++,r--,e.dyn_ltree[(_length_code[t]+LITERALS$1+1)*2]++,e.dyn_dtree[d_code(r)*2]++),e.last_lit===e.lit_bufsize-1}function adler32(e,r,t,n){for(var a=e&65535|0,i=e>>>16&65535|0,o=0;t!==0;){o=t>2e3?2e3:t,t-=o;do a=a+r[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0}function makeTable(){for(var e,r=[],t=0;t<256;t++){e=t;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;r[t]=e}return r}var crcTable=makeTable();function crc32(e,r,t,n){var a=crcTable,i=n+t;e^=-1;for(var o=n;o<i;o++)e=e>>>8^a[(e^r[o])&255];return e^-1}var Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH$1=1,Z_FULL_FLUSH$1=3,Z_FINISH$2=4,Z_BLOCK$2=5,Z_OK$2=0,Z_STREAM_END$2=1,Z_STREAM_ERROR$2=-2,Z_DATA_ERROR$2=-3,Z_BUF_ERROR$2=-5,Z_DEFAULT_COMPRESSION$1=-1,Z_FILTERED$1=1,Z_HUFFMAN_ONLY$1=2,Z_RLE$1=3,Z_FIXED$1=4,Z_UNKNOWN$1=2,Z_DEFLATED$2=8,MAX_MEM_LEVEL=9,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(e,r){return e.msg=msg[r],r}function rank(e){return(e<<1)-(e>4?9:0)}function zero(e){for(var r=e.length;--r>=0;)e[r]=0}function flush_pending(e){var r=e.state,t=r.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(arraySet(e.output,r.pending_buf,r.pending_out,t,e.next_out),e.next_out+=t,r.pending_out+=t,e.total_out+=t,e.avail_out-=t,r.pending-=t,r.pending===0&&(r.pending_out=0))}function flush_block_only(e,r){_tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,r),e.block_start=e.strstart,flush_pending(e.strm)}function put_byte(e,r){e.pending_buf[e.pending++]=r}function putShortMSB(e,r){e.pending_buf[e.pending++]=r>>>8&255,e.pending_buf[e.pending++]=r&255}function read_buf(e,r,t,n){var a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,arraySet(r,e.input,e.next_in,a,t),e.state.wrap===1?e.adler=adler32(e.adler,r,a,t):e.state.wrap===2&&(e.adler=crc32(e.adler,r,a,t)),e.next_in+=a,e.total_in+=a,a)}function longest_match(e,r){var t=e.max_chain_length,n=e.strstart,a,i,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-MIN_LOOKAHEAD?e.strstart-(e.w_size-MIN_LOOKAHEAD):0,f=e.window,c=e.w_mask,w=e.prev,R=e.strstart+MAX_MATCH,m=f[n+o-1],E=f[n+o];e.prev_length>=e.good_match&&(t>>=2),s>e.lookahead&&(s=e.lookahead);do if(a=r,!(f[a+o]!==E||f[a+o-1]!==m||f[a]!==f[n]||f[++a]!==f[n+1])){n+=2,a++;do;while(f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&n<R);if(i=MAX_MATCH-(R-n),n=R-MAX_MATCH,i>o){if(e.match_start=r,o=i,i>=s)break;m=f[n+o-1],E=f[n+o]}}while((r=w[r&c])>l&&--t!==0);return o<=e.lookahead?o:e.lookahead}function fill_window(e){var r=e.w_size,t,n,a,i,o;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-MIN_LOOKAHEAD)){arraySet(e.window,e.window,r,r,0),e.match_start-=r,e.strstart-=r,e.block_start-=r,n=e.hash_size,t=n;do a=e.head[--t],e.head[t]=a>=r?a-r:0;while(--n);n=r,t=n;do a=e.prev[--t],e.prev[t]=a>=r?a-r:0;while(--n);i+=r}if(e.strm.avail_in===0)break;if(n=read_buf(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=MIN_MATCH)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+MIN_MATCH-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<MIN_MATCH)););}while(e.lookahead<MIN_LOOKAHEAD&&e.strm.avail_in!==0)}function deflate_stored(e,r){var t=65535;for(t>e.pending_buf_size-5&&(t=e.pending_buf_size-5);;){if(e.lookahead<=1){if(fill_window(e),e.lookahead===0&&r===Z_NO_FLUSH$1)return BS_NEED_MORE;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+t;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,flush_block_only(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-MIN_LOOKAHEAD&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=0,r===Z_FINISH$2?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(e.strstart>e.block_start&&(flush_block_only(e,!1),e.strm.avail_out===0),BS_NEED_MORE)}function deflate_fast(e,r){for(var t,n;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&r===Z_NO_FLUSH$1)return BS_NEED_MORE;if(e.lookahead===0)break}if(t=0,e.lookahead>=MIN_MATCH&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,t)),e.match_length>=MIN_MATCH)if(n=_tr_tally(e,e.strstart-e.match_start,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=MIN_MATCH){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,r===Z_FINISH$2?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(e,r){for(var t,n,a;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&r===Z_NO_FLUSH$1)return BS_NEED_MORE;if(e.lookahead===0)break}if(t=0,e.lookahead>=MIN_MATCH&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=MIN_MATCH-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,t),e.match_length<=5&&(e.strategy===Z_FILTERED$1||e.match_length===MIN_MATCH&&e.strstart-e.match_start>4096)&&(e.match_length=MIN_MATCH-1)),e.prev_length>=MIN_MATCH&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-MIN_MATCH,n=_tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-MIN_MATCH),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+MIN_MATCH-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=MIN_MATCH-1,e.strstart++,n&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}else if(e.match_available){if(n=_tr_tally(e,0,e.window[e.strstart-1]),n&&flush_block_only(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return BS_NEED_MORE}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=_tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,r===Z_FINISH$2?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(e,r){for(var t,n,a,i,o=e.window;;){if(e.lookahead<=MAX_MATCH){if(fill_window(e),e.lookahead<=MAX_MATCH&&r===Z_NO_FLUSH$1)return BS_NEED_MORE;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=MIN_MATCH&&e.strstart>0&&(a=e.strstart-1,n=o[a],n===o[++a]&&n===o[++a]&&n===o[++a])){i=e.strstart+MAX_MATCH;do;while(n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&a<i);e.match_length=MAX_MATCH-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=MIN_MATCH?(t=_tr_tally(e,1,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=0,r===Z_FINISH$2?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(e,r){for(var t;;){if(e.lookahead===0&&(fill_window(e),e.lookahead===0)){if(r===Z_NO_FLUSH$1)return BS_NEED_MORE;break}if(e.match_length=0,t=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=0,r===Z_FINISH$2?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.last_lit&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(e,r,t,n,a){this.good_length=e,this.max_lazy=r,this.nice_length=t,this.max_chain=n,this.func=a}var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(e){e.window_size=2*e.w_size,zero(e.head),e.max_lazy_match=configuration_table[e.level].max_lazy,e.good_match=configuration_table[e.level].good_length,e.nice_match=configuration_table[e.level].nice_length,e.max_chain_length=configuration_table[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=MIN_MATCH-1,e.match_available=0,e.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Buf16(HEAP_SIZE*2),this.dyn_dtree=new Buf16((2*D_CODES+1)*2),this.bl_tree=new Buf16((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Buf16(MAX_BITS+1),this.heap=new Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(e){var r;return!e||!e.state?err(e,Z_STREAM_ERROR$2):(e.total_in=e.total_out=0,e.data_type=Z_UNKNOWN$1,r=e.state,r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap?INIT_STATE:BUSY_STATE,e.adler=r.wrap===2?0:1,r.last_flush=Z_NO_FLUSH$1,_tr_init(r),Z_OK$2)}function deflateReset(e){var r=deflateResetKeep(e);return r===Z_OK$2&&lm_init(e.state),r}function deflateInit2(e,r,t,n,a,i){if(!e)return Z_STREAM_ERROR$2;var o=1;if(r===Z_DEFAULT_COMPRESSION$1&&(r=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),a<1||a>MAX_MEM_LEVEL||t!==Z_DEFLATED$2||n<8||n>15||r<0||r>9||i<0||i>Z_FIXED$1)return err(e,Z_STREAM_ERROR$2);n===8&&(n=9);var s=new DeflateState;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new Buf8(s.w_size*2),s.head=new Buf16(s.hash_size),s.prev=new Buf16(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=(1+2)*s.lit_bufsize,s.level=r,s.strategy=i,s.method=t,deflateReset(e)}function deflate$1(e,r){var t,n,a,i;if(!e||!e.state||r>Z_BLOCK$2||r<0)return e?err(e,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===FINISH_STATE&&r!==Z_FINISH$2)return err(e,e.avail_out===0?Z_BUF_ERROR$2:Z_STREAM_ERROR$2);if(n.strm=e,t=n.last_flush,n.last_flush=r,n.status===INIT_STATE)if(n.wrap===2)e.adler=0,put_byte(n,31),put_byte(n,139),put_byte(n,8),n.gzhead?(put_byte(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),put_byte(n,n.gzhead.time&255),put_byte(n,n.gzhead.time>>8&255),put_byte(n,n.gzhead.time>>16&255),put_byte(n,n.gzhead.time>>24&255),put_byte(n,n.level===9?2:n.strategy>=Z_HUFFMAN_ONLY$1||n.level<2?4:0),put_byte(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(put_byte(n,n.gzhead.extra.length&255),put_byte(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=crc32(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=EXTRA_STATE):(put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,n.level===9?2:n.strategy>=Z_HUFFMAN_ONLY$1||n.level<2?4:0),put_byte(n,OS_CODE),n.status=BUSY_STATE);else{var o=Z_DEFLATED$2+(n.w_bits-8<<4)<<8,s=-1;n.strategy>=Z_HUFFMAN_ONLY$1||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,o|=s<<6,n.strstart!==0&&(o|=PRESET_DICT),o+=31-o%31,n.status=BUSY_STATE,putShortMSB(n,o),n.strstart!==0&&(putShortMSB(n,e.adler>>>16),putShortMSB(n,e.adler&65535)),e.adler=1}if(n.status===EXTRA_STATE)if(n.gzhead.extra){for(a=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32(e.adler,n.pending_buf,n.pending-a,a)),flush_pending(e),a=n.pending,n.pending===n.pending_buf_size));)put_byte(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=NAME_STATE)}else n.status=NAME_STATE;if(n.status===NAME_STATE)if(n.gzhead.name){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32(e.adler,n.pending_buf,n.pending-a,a)),flush_pending(e),a=n.pending,n.pending===n.pending_buf_size)){i=1;break}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,put_byte(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32(e.adler,n.pending_buf,n.pending-a,a)),i===0&&(n.gzindex=0,n.status=COMMENT_STATE)}else n.status=COMMENT_STATE;if(n.status===COMMENT_STATE)if(n.gzhead.comment){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32(e.adler,n.pending_buf,n.pending-a,a)),flush_pending(e),a=n.pending,n.pending===n.pending_buf_size)){i=1;break}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,put_byte(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>a&&(e.adler=crc32(e.adler,n.pending_buf,n.pending-a,a)),i===0&&(n.status=HCRC_STATE)}else n.status=HCRC_STATE;if(n.status===HCRC_STATE&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&flush_pending(e),n.pending+2<=n.pending_buf_size&&(put_byte(n,e.adler&255),put_byte(n,e.adler>>8&255),e.adler=0,n.status=BUSY_STATE)):n.status=BUSY_STATE),n.pending!==0){if(flush_pending(e),e.avail_out===0)return n.last_flush=-1,Z_OK$2}else if(e.avail_in===0&&rank(r)<=rank(t)&&r!==Z_FINISH$2)return err(e,Z_BUF_ERROR$2);if(n.status===FINISH_STATE&&e.avail_in!==0)return err(e,Z_BUF_ERROR$2);if(e.avail_in!==0||n.lookahead!==0||r!==Z_NO_FLUSH$1&&n.status!==FINISH_STATE){var l=n.strategy===Z_HUFFMAN_ONLY$1?deflate_huff(n,r):n.strategy===Z_RLE$1?deflate_rle(n,r):configuration_table[n.level].func(n,r);if((l===BS_FINISH_STARTED||l===BS_FINISH_DONE)&&(n.status=FINISH_STATE),l===BS_NEED_MORE||l===BS_FINISH_STARTED)return e.avail_out===0&&(n.last_flush=-1),Z_OK$2;if(l===BS_BLOCK_DONE&&(r===Z_PARTIAL_FLUSH$1?_tr_align(n):r!==Z_BLOCK$2&&(_tr_stored_block(n,0,0,!1),r===Z_FULL_FLUSH$1&&(zero(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),flush_pending(e),e.avail_out===0))return n.last_flush=-1,Z_OK$2}return r!==Z_FINISH$2?Z_OK$2:n.wrap<=0?Z_STREAM_END$2:(n.wrap===2?(put_byte(n,e.adler&255),put_byte(n,e.adler>>8&255),put_byte(n,e.adler>>16&255),put_byte(n,e.adler>>24&255),put_byte(n,e.total_in&255),put_byte(n,e.total_in>>8&255),put_byte(n,e.total_in>>16&255),put_byte(n,e.total_in>>24&255)):(putShortMSB(n,e.adler>>>16),putShortMSB(n,e.adler&65535)),flush_pending(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Z_OK$2:Z_STREAM_END$2)}function deflateEnd(e){var r;return!e||!e.state?Z_STREAM_ERROR$2:(r=e.state.status,r!==INIT_STATE&&r!==EXTRA_STATE&&r!==NAME_STATE&&r!==COMMENT_STATE&&r!==HCRC_STATE&&r!==BUSY_STATE&&r!==FINISH_STATE?err(e,Z_STREAM_ERROR$2):(e.state=null,r===BUSY_STATE?err(e,Z_DATA_ERROR$2):Z_OK$2))}var BAD$1=30,TYPE$1=12;function inflate_fast(e,r){var t,n,a,i,o,s,l,f,c,w,R,m,E,I,C,M,O,D,p,h,y,A,T,_,k;t=e.state,n=e.next_in,_=e.input,a=n+(e.avail_in-5),i=e.next_out,k=e.output,o=i-(r-e.avail_out),s=i+(e.avail_out-257),l=t.dmax,f=t.wsize,c=t.whave,w=t.wnext,R=t.window,m=t.hold,E=t.bits,I=t.lencode,C=t.distcode,M=(1<<t.lenbits)-1,O=(1<<t.distbits)-1;e:do{E<15&&(m+=_[n++]<<E,E+=8,m+=_[n++]<<E,E+=8),D=I[m&M];t:for(;;){if(p=D>>>24,m>>>=p,E-=p,p=D>>>16&255,p===0)k[i++]=D&65535;else if(p&16){h=D&65535,p&=15,p&&(E<p&&(m+=_[n++]<<E,E+=8),h+=m&(1<<p)-1,m>>>=p,E-=p),E<15&&(m+=_[n++]<<E,E+=8,m+=_[n++]<<E,E+=8),D=C[m&O];r:for(;;){if(p=D>>>24,m>>>=p,E-=p,p=D>>>16&255,p&16){if(y=D&65535,p&=15,E<p&&(m+=_[n++]<<E,E+=8,E<p&&(m+=_[n++]<<E,E+=8)),y+=m&(1<<p)-1,y>l){e.msg="invalid distance too far back",t.mode=BAD$1;break e}if(m>>>=p,E-=p,p=i-o,y>p){if(p=y-p,p>c&&t.sane){e.msg="invalid distance too far back",t.mode=BAD$1;break e}if(A=0,T=R,w===0){if(A+=f-p,p<h){h-=p;do k[i++]=R[A++];while(--p);A=i-y,T=k}}else if(w<p){if(A+=f+w-p,p-=w,p<h){h-=p;do k[i++]=R[A++];while(--p);if(A=0,w<h){p=w,h-=p;do k[i++]=R[A++];while(--p);A=i-y,T=k}}}else if(A+=w-p,p<h){h-=p;do k[i++]=R[A++];while(--p);A=i-y,T=k}for(;h>2;)k[i++]=T[A++],k[i++]=T[A++],k[i++]=T[A++],h-=3;h&&(k[i++]=T[A++],h>1&&(k[i++]=T[A++]))}else{A=i-y;do k[i++]=k[A++],k[i++]=k[A++],k[i++]=k[A++],h-=3;while(h>2);h&&(k[i++]=k[A++],h>1&&(k[i++]=k[A++]))}}else if((p&64)===0){D=C[(D&65535)+(m&(1<<p)-1)];continue r}else{e.msg="invalid distance code",t.mode=BAD$1;break e}break}}else if((p&64)===0){D=I[(D&65535)+(m&(1<<p)-1)];continue t}else if(p&32){t.mode=TYPE$1;break e}else{e.msg="invalid literal/length code",t.mode=BAD$1;break e}break}}while(n<a&&i<s);h=E>>3,n-=h,E-=h<<3,m&=(1<<E)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<s?257+(s-i):257-(i-s),t.hold=m,t.bits=E}var MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function inflate_table(e,r,t,n,a,i,o,s){var l=s.bits,f=0,c=0,w=0,R=0,m=0,E=0,I=0,C=0,M=0,O=0,D,p,h,y,A,T=null,_=0,k,L=new Buf16(MAXBITS+1),j=new Buf16(MAXBITS+1),W=null,V=0,te,q,ae;for(f=0;f<=MAXBITS;f++)L[f]=0;for(c=0;c<n;c++)L[r[t+c]]++;for(m=l,R=MAXBITS;R>=1&&L[R]===0;R--);if(m>R&&(m=R),R===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,s.bits=1,0;for(w=1;w<R&&L[w]===0;w++);for(m<w&&(m=w),C=1,f=1;f<=MAXBITS;f++)if(C<<=1,C-=L[f],C<0)return-1;if(C>0&&(e===CODES$1||R!==1))return-1;for(j[1]=0,f=1;f<MAXBITS;f++)j[f+1]=j[f]+L[f];for(c=0;c<n;c++)r[t+c]!==0&&(o[j[r[t+c]]++]=c);if(e===CODES$1?(T=W=o,k=19):e===LENS$1?(T=lbase,_-=257,W=lext,V-=257,k=256):(T=dbase,W=dext,k=-1),O=0,c=0,f=w,A=i,E=m,I=0,h=-1,M=1<<m,y=M-1,e===LENS$1&&M>ENOUGH_LENS$1||e===DISTS$1&&M>ENOUGH_DISTS$1)return 1;for(;;){te=f-I,o[c]<k?(q=0,ae=o[c]):o[c]>k?(q=W[V+o[c]],ae=T[_+o[c]]):(q=32+64,ae=0),D=1<<f-I,p=1<<E,w=p;do p-=D,a[A+(O>>I)+p]=te<<24|q<<16|ae|0;while(p!==0);for(D=1<<f-1;O&D;)D>>=1;if(D!==0?(O&=D-1,O+=D):O=0,c++,--L[f]===0){if(f===R)break;f=r[t+o[c]]}if(f>m&&(O&y)!==h){for(I===0&&(I=m),A+=w,E=f-I,C=1<<E;E+I<R&&(C-=L[E+I],!(C<=0));)E++,C<<=1;if(M+=1<<E,e===LENS$1&&M>ENOUGH_LENS$1||e===DISTS$1&&M>ENOUGH_DISTS$1)return 1;h=O&y,a[h]=m<<24|E<<16|A-i|0}}return O!==0&&(a[A+O]=f-I<<24|64<<16|0),s.bits=m,0}var CODES=0,LENS=1,DISTS=2,Z_FINISH$1=4,Z_BLOCK$1=5,Z_TREES$1=6,Z_OK$1=0,Z_STREAM_END$1=1,Z_NEED_DICT$1=2,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR$1=-5,Z_DEFLATED$1=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592;function zswap32(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Buf16(320),this.work=new Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(e){var r;return!e||!e.state?Z_STREAM_ERROR$1:(r=e.state,e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=r.wrap&1),r.mode=HEAD,r.last=0,r.havedict=0,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Buf32(ENOUGH_LENS),r.distcode=r.distdyn=new Buf32(ENOUGH_DISTS),r.sane=1,r.back=-1,Z_OK$1)}function inflateReset(e){var r;return!e||!e.state?Z_STREAM_ERROR$1:(r=e.state,r.wsize=0,r.whave=0,r.wnext=0,inflateResetKeep(e))}function inflateReset2(e,r){var t,n;return!e||!e.state||(n=e.state,r<0?(t=0,r=-r):(t=(r>>4)+1,r<48&&(r&=15)),r&&(r<8||r>15))?Z_STREAM_ERROR$1:(n.window!==null&&n.wbits!==r&&(n.window=null),n.wrap=t,n.wbits=r,inflateReset(e))}function inflateInit2(e,r){var t,n;return e?(n=new InflateState,e.state=n,n.window=null,t=inflateReset2(e,r),t!==Z_OK$1&&(e.state=null),t):Z_STREAM_ERROR$1}var virgin=!0,lenfix,distfix;function fixedtables(e){if(virgin){var r;for(lenfix=new Buf32(512),distfix=new Buf32(32),r=0;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(inflate_table(LENS,e.lens,0,288,lenfix,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;inflate_table(DISTS,e.lens,0,32,distfix,0,e.work,{bits:5}),virgin=!1}e.lencode=lenfix,e.lenbits=9,e.distcode=distfix,e.distbits=5}function updatewindow(e,r,t,n){var a,i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Buf8(i.wsize)),n>=i.wsize?(arraySet(i.window,r,t-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),arraySet(i.window,r,t-n,a,i.wnext),n-=a,n?(arraySet(i.window,r,t-n,n,0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0}function inflate$1(e,r){var t,n,a,i,o,s,l,f,c,w,R,m,E,I,C=0,M,O,D,p,h,y,A,T,_=new Buf8(4),k,L,j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Z_STREAM_ERROR$1;t=e.state,t.mode===TYPE&&(t.mode=TYPEDO),o=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,n=e.input,s=e.avail_in,f=t.hold,c=t.bits,w=s,R=l,T=Z_OK$1;e:for(;;)switch(t.mode){case HEAD:if(t.wrap===0){t.mode=TYPEDO;break}for(;c<16;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}if(t.wrap&2&&f===35615){t.check=0,_[0]=f&255,_[1]=f>>>8&255,t.check=crc32(t.check,_,2,0),f=0,c=0,t.mode=FLAGS;break}if(t.flags=0,t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",t.mode=BAD;break}if((f&15)!==Z_DEFLATED$1){e.msg="unknown compression method",t.mode=BAD;break}if(f>>>=4,c-=4,A=(f&15)+8,t.wbits===0)t.wbits=A;else if(A>t.wbits){e.msg="invalid window size",t.mode=BAD;break}t.dmax=1<<A,e.adler=t.check=1,t.mode=f&512?DICTID:TYPE,f=0,c=0;break;case FLAGS:for(;c<16;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}if(t.flags=f,(t.flags&255)!==Z_DEFLATED$1){e.msg="unknown compression method",t.mode=BAD;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=BAD;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&(_[0]=f&255,_[1]=f>>>8&255,t.check=crc32(t.check,_,2,0)),f=0,c=0,t.mode=TIME;case TIME:for(;c<32;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}t.head&&(t.head.time=f),t.flags&512&&(_[0]=f&255,_[1]=f>>>8&255,_[2]=f>>>16&255,_[3]=f>>>24&255,t.check=crc32(t.check,_,4,0)),f=0,c=0,t.mode=OS;case OS:for(;c<16;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&(_[0]=f&255,_[1]=f>>>8&255,t.check=crc32(t.check,_,2,0)),f=0,c=0,t.mode=EXLEN;case EXLEN:if(t.flags&1024){for(;c<16;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&(_[0]=f&255,_[1]=f>>>8&255,t.check=crc32(t.check,_,2,0)),f=0,c=0}else t.head&&(t.head.extra=null);t.mode=EXTRA;case EXTRA:if(t.flags&1024&&(m=t.length,m>s&&(m=s),m&&(t.head&&(A=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),arraySet(t.head.extra,n,i,m,A)),t.flags&512&&(t.check=crc32(t.check,n,m,i)),s-=m,i+=m,t.length-=m),t.length))break e;t.length=0,t.mode=NAME;case NAME:if(t.flags&2048){if(s===0)break e;m=0;do A=n[i+m++],t.head&&A&&t.length<65536&&(t.head.name+=String.fromCharCode(A));while(A&&m<s);if(t.flags&512&&(t.check=crc32(t.check,n,m,i)),s-=m,i+=m,A)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=COMMENT;case COMMENT:if(t.flags&4096){if(s===0)break e;m=0;do A=n[i+m++],t.head&&A&&t.length<65536&&(t.head.comment+=String.fromCharCode(A));while(A&&m<s);if(t.flags&512&&(t.check=crc32(t.check,n,m,i)),s-=m,i+=m,A)break e}else t.head&&(t.head.comment=null);t.mode=HCRC;case HCRC:if(t.flags&512){for(;c<16;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}if(f!==(t.check&65535)){e.msg="header crc mismatch",t.mode=BAD;break}f=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=TYPE;break;case DICTID:for(;c<32;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}e.adler=t.check=zswap32(f),f=0,c=0,t.mode=DICT;case DICT:if(t.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,t.hold=f,t.bits=c,Z_NEED_DICT$1;e.adler=t.check=1,t.mode=TYPE;case TYPE:if(r===Z_BLOCK$1||r===Z_TREES$1)break e;case TYPEDO:if(t.last){f>>>=c&7,c-=c&7,t.mode=CHECK;break}for(;c<3;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}switch(t.last=f&1,f>>>=1,c-=1,f&3){case 0:t.mode=STORED;break;case 1:if(fixedtables(t),t.mode=LEN_,r===Z_TREES$1){f>>>=2,c-=2;break e}break;case 2:t.mode=TABLE;break;case 3:e.msg="invalid block type",t.mode=BAD}f>>>=2,c-=2;break;case STORED:for(f>>>=c&7,c-=c&7;c<32;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",t.mode=BAD;break}if(t.length=f&65535,f=0,c=0,t.mode=COPY_,r===Z_TREES$1)break e;case COPY_:t.mode=COPY;case COPY:if(m=t.length,m){if(m>s&&(m=s),m>l&&(m=l),m===0)break e;arraySet(a,n,i,m,o),s-=m,i+=m,l-=m,o+=m,t.length-=m;break}t.mode=TYPE;break;case TABLE:for(;c<14;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}if(t.nlen=(f&31)+257,f>>>=5,c-=5,t.ndist=(f&31)+1,f>>>=5,c-=5,t.ncode=(f&15)+4,f>>>=4,c-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=BAD;break}t.have=0,t.mode=LENLENS;case LENLENS:for(;t.have<t.ncode;){for(;c<3;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}t.lens[j[t.have++]]=f&7,f>>>=3,c-=3}for(;t.have<19;)t.lens[j[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,k={bits:t.lenbits},T=inflate_table(CODES,t.lens,0,19,t.lencode,0,t.work,k),t.lenbits=k.bits,T){e.msg="invalid code lengths set",t.mode=BAD;break}t.have=0,t.mode=CODELENS;case CODELENS:for(;t.have<t.nlen+t.ndist;){for(;C=t.lencode[f&(1<<t.lenbits)-1],M=C>>>24,O=C>>>16&255,D=C&65535,!(M<=c);){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}if(D<16)f>>>=M,c-=M,t.lens[t.have++]=D;else{if(D===16){for(L=M+2;c<L;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}if(f>>>=M,c-=M,t.have===0){e.msg="invalid bit length repeat",t.mode=BAD;break}A=t.lens[t.have-1],m=3+(f&3),f>>>=2,c-=2}else if(D===17){for(L=M+3;c<L;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}f>>>=M,c-=M,A=0,m=3+(f&7),f>>>=3,c-=3}else{for(L=M+7;c<L;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}f>>>=M,c-=M,A=0,m=11+(f&127),f>>>=7,c-=7}if(t.have+m>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=BAD;break}for(;m--;)t.lens[t.have++]=A}}if(t.mode===BAD)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=BAD;break}if(t.lenbits=9,k={bits:t.lenbits},T=inflate_table(LENS,t.lens,0,t.nlen,t.lencode,0,t.work,k),t.lenbits=k.bits,T){e.msg="invalid literal/lengths set",t.mode=BAD;break}if(t.distbits=6,t.distcode=t.distdyn,k={bits:t.distbits},T=inflate_table(DISTS,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,k),t.distbits=k.bits,T){e.msg="invalid distances set",t.mode=BAD;break}if(t.mode=LEN_,r===Z_TREES$1)break e;case LEN_:t.mode=LEN;case LEN:if(s>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,t.hold=f,t.bits=c,inflate_fast(e,R),o=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,n=e.input,s=e.avail_in,f=t.hold,c=t.bits,t.mode===TYPE&&(t.back=-1);break}for(t.back=0;C=t.lencode[f&(1<<t.lenbits)-1],M=C>>>24,O=C>>>16&255,D=C&65535,!(M<=c);){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}if(O&&(O&240)===0){for(p=M,h=O,y=D;C=t.lencode[y+((f&(1<<p+h)-1)>>p)],M=C>>>24,O=C>>>16&255,D=C&65535,!(p+M<=c);){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}f>>>=p,c-=p,t.back+=p}if(f>>>=M,c-=M,t.back+=M,t.length=D,O===0){t.mode=LIT;break}if(O&32){t.back=-1,t.mode=TYPE;break}if(O&64){e.msg="invalid literal/length code",t.mode=BAD;break}t.extra=O&15,t.mode=LENEXT;case LENEXT:if(t.extra){for(L=t.extra;c<L;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=DIST;case DIST:for(;C=t.distcode[f&(1<<t.distbits)-1],M=C>>>24,O=C>>>16&255,D=C&65535,!(M<=c);){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}if((O&240)===0){for(p=M,h=O,y=D;C=t.distcode[y+((f&(1<<p+h)-1)>>p)],M=C>>>24,O=C>>>16&255,D=C&65535,!(p+M<=c);){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}f>>>=p,c-=p,t.back+=p}if(f>>>=M,c-=M,t.back+=M,O&64){e.msg="invalid distance code",t.mode=BAD;break}t.offset=D,t.extra=O&15,t.mode=DISTEXT;case DISTEXT:if(t.extra){for(L=t.extra;c<L;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=BAD;break}t.mode=MATCH;case MATCH:if(l===0)break e;if(m=R-l,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=BAD;break}m>t.wnext?(m-=t.wnext,E=t.wsize-m):E=t.wnext-m,m>t.length&&(m=t.length),I=t.window}else I=a,E=o-t.offset,m=t.length;m>l&&(m=l),l-=m,t.length-=m;do a[o++]=I[E++];while(--m);t.length===0&&(t.mode=LEN);break;case LIT:if(l===0)break e;a[o++]=t.length,l--,t.mode=LEN;break;case CHECK:if(t.wrap){for(;c<32;){if(s===0)break e;s--,f|=n[i++]<<c,c+=8}if(R-=l,e.total_out+=R,t.total+=R,R&&(e.adler=t.check=t.flags?crc32(t.check,a,R,o-R):adler32(t.check,a,R,o-R)),R=l,(t.flags?f:zswap32(f))!==t.check){e.msg="incorrect data check",t.mode=BAD;break}f=0,c=0}t.mode=LENGTH;case LENGTH:if(t.wrap&&t.flags){for(;c<32;){if(s===0)break e;s--,f+=n[i++]<<c,c+=8}if(f!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=BAD;break}f=0,c=0}t.mode=DONE;case DONE:T=Z_STREAM_END$1;break e;case BAD:T=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR$1}return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,t.hold=f,t.bits=c,(t.wsize||R!==e.avail_out&&t.mode<BAD&&(t.mode<CHECK||r!==Z_FINISH$1))&&updatewindow(e,e.output,e.next_out,R-e.avail_out),w-=e.avail_in,R-=e.avail_out,e.total_in+=w,e.total_out+=R,t.total+=R,t.wrap&&R&&(e.adler=t.check=t.flags?crc32(t.check,a,R,e.next_out-R):adler32(t.check,a,R,e.next_out-R)),e.data_type=t.bits+(t.last?64:0)+(t.mode===TYPE?128:0)+(t.mode===LEN_||t.mode===COPY_?256:0),(w===0&&R===0||r===Z_FINISH$1)&&T===Z_OK$1&&(T=Z_BUF_ERROR$1),T}function inflateEnd(e){if(!e||!e.state)return Z_STREAM_ERROR$1;var r=e.state;return r.window&&(r.window=null),e.state=null,Z_OK$1}var NONE=0,DEFLATE=1,INFLATE=2,GZIP=3,GUNZIP=4,DEFLATERAW=5,INFLATERAW=6,UNZIP=7,Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_SYNC_FLUSH=2,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_ERRNO=-1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_NO_COMPRESSION=0,Z_BEST_SPEED=1,Z_BEST_COMPRESSION=9,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2,Z_DEFLATED=8;function Zlib$1(e){if(e<DEFLATE||e>UNZIP)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}Zlib$1.prototype.init=function(e,r,t,n,a){this.windowBits=e,this.level=r,this.memLevel=t,this.strategy=n,(this.mode===GZIP||this.mode===GUNZIP)&&(this.windowBits+=16),this.mode===UNZIP&&(this.windowBits+=32),(this.mode===DEFLATERAW||this.mode===INFLATERAW)&&(this.windowBits=-this.windowBits),this.strm=new ZStream;var i;switch(this.mode){case DEFLATE:case GZIP:case DEFLATERAW:i=deflateInit2(this.strm,this.level,Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case INFLATE:case GUNZIP:case INFLATERAW:case UNZIP:i=inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(i!==Z_OK){this._error(i);return}this.write_in_progress=!1,this.init_done=!0},Zlib$1.prototype.params=function(){throw new Error("deflateParams Not supported")},Zlib$1.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},Zlib$1.prototype.write=function(e,r,t,n,a,i,o){this._writeCheck(),this.write_in_progress=!0;var s=this;return browser$1.nextTick(function(){s.write_in_progress=!1;var l=s._write(e,r,t,n,a,i,o);s.callback(l[0],l[1]),s.pending_close&&s.close()}),this};function bufferSet(e,r){for(var t=0;t<e.length;t++)this[r+t]=e[t]}Zlib$1.prototype.writeSync=function(e,r,t,n,a,i,o){return this._writeCheck(),this._write(e,r,t,n,a,i,o)},Zlib$1.prototype._write=function(e,r,t,n,a,i,o){if(this.write_in_progress=!0,e!==Z_NO_FLUSH&&e!==Z_PARTIAL_FLUSH&&e!==Z_SYNC_FLUSH&&e!==Z_FULL_FLUSH&&e!==Z_FINISH&&e!==Z_BLOCK)throw new Error("Invalid flush value");r==null&&(r=new Buffer(0),n=0,t=0),a._set?a.set=a._set:a.set=bufferSet;var s=this.strm;s.avail_in=n,s.input=r,s.next_in=t,s.avail_out=o,s.output=a,s.next_out=i;var l;switch(this.mode){case DEFLATE:case GZIP:case DEFLATERAW:l=deflate$1(s,e);break;case UNZIP:case INFLATE:case GUNZIP:case INFLATERAW:l=inflate$1(s,e);break;default:throw new Error("Unknown mode "+this.mode)}return l!==Z_STREAM_END&&l!==Z_OK&&this._error(l),this.write_in_progress=!1,[s.avail_in,s.avail_out]},Zlib$1.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,this.mode===DEFLATE||this.mode===GZIP||this.mode===DEFLATERAW?deflateEnd(this.strm):inflateEnd(this.strm),this.mode=NONE};var status;Zlib$1.prototype.reset=function(){switch(this.mode){case DEFLATE:case DEFLATERAW:status=deflateReset(this.strm);break;case INFLATE:case INFLATERAW:status=inflateReset(this.strm);break}status!==Z_OK&&this._error(status)},Zlib$1.prototype._error=function(e){this.onerror(msg[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()};const _binding=Object.freeze(Object.defineProperty({__proto__:null,NONE,DEFLATE,INFLATE,GZIP,GUNZIP,DEFLATERAW,INFLATERAW,UNZIP,Z_NO_FLUSH,Z_PARTIAL_FLUSH,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH,Z_BLOCK,Z_TREES,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_ERRNO,Z_STREAM_ERROR,Z_DATA_ERROR,Z_BUF_ERROR,Z_NO_COMPRESSION,Z_BEST_SPEED,Z_BEST_COMPRESSION,Z_DEFAULT_COMPRESSION,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY,Z_BINARY,Z_TEXT,Z_UNKNOWN,Z_DEFLATED,Zlib:Zlib$1},Symbol.toStringTag,{value:"Module"}));function assert(e,r){if(!e)throw new Error(r)}var binding={};Object.keys(_binding).forEach(function(e){binding[e]=_binding[e]}),binding.Z_MIN_WINDOWBITS=8,binding.Z_MAX_WINDOWBITS=15,binding.Z_DEFAULT_WINDOWBITS=15,binding.Z_MIN_CHUNK=64,binding.Z_MAX_CHUNK=1/0,binding.Z_DEFAULT_CHUNK=16*1024,binding.Z_MIN_MEMLEVEL=1,binding.Z_MAX_MEMLEVEL=9,binding.Z_DEFAULT_MEMLEVEL=8,binding.Z_MIN_LEVEL=-1,binding.Z_MAX_LEVEL=9,binding.Z_DEFAULT_LEVEL=binding.Z_DEFAULT_COMPRESSION;var codes={Z_OK:binding.Z_OK,Z_STREAM_END:binding.Z_STREAM_END,Z_NEED_DICT:binding.Z_NEED_DICT,Z_ERRNO:binding.Z_ERRNO,Z_STREAM_ERROR:binding.Z_STREAM_ERROR,Z_DATA_ERROR:binding.Z_DATA_ERROR,Z_MEM_ERROR:binding.Z_MEM_ERROR,Z_BUF_ERROR:binding.Z_BUF_ERROR,Z_VERSION_ERROR:binding.Z_VERSION_ERROR};Object.keys(codes).forEach(function(e){codes[codes[e]]=e});function createDeflate(e){return new Deflate(e)}function createInflate(e){return new Inflate(e)}function createDeflateRaw(e){return new DeflateRaw(e)}function createInflateRaw(e){return new InflateRaw(e)}function createGzip(e){return new Gzip(e)}function createGunzip(e){return new Gunzip(e)}function createUnzip(e){return new Unzip(e)}function deflate(e,r,t){return typeof r=="function"&&(t=r,r={}),zlibBuffer(new Deflate(r),e,t)}function deflateSync(e,r){return zlibBufferSync(new Deflate(r),e)}function gzip(e,r,t){return typeof r=="function"&&(t=r,r={}),zlibBuffer(new Gzip(r),e,t)}function gzipSync(e,r){return zlibBufferSync(new Gzip(r),e)}function deflateRaw(e,r,t){return typeof r=="function"&&(t=r,r={}),zlibBuffer(new DeflateRaw(r),e,t)}function deflateRawSync(e,r){return zlibBufferSync(new DeflateRaw(r),e)}function unzip(e,r,t){return typeof r=="function"&&(t=r,r={}),zlibBuffer(new Unzip(r),e,t)}function unzipSync(e,r){return zlibBufferSync(new Unzip(r),e)}function inflate(e,r,t){return typeof r=="function"&&(t=r,r={}),zlibBuffer(new Inflate(r),e,t)}function inflateSync(e,r){return zlibBufferSync(new Inflate(r),e)}function gunzip(e,r,t){return typeof r=="function"&&(t=r,r={}),zlibBuffer(new Gunzip(r),e,t)}function gunzipSync(e,r){return zlibBufferSync(new Gunzip(r),e)}function inflateRaw(e,r,t){return typeof r=="function"&&(t=r,r={}),zlibBuffer(new InflateRaw(r),e,t)}function inflateRawSync(e,r){return zlibBufferSync(new InflateRaw(r),e)}function zlibBuffer(e,r,t){var n=[],a=0;e.on("error",o),e.on("end",s),e.end(r),i();function i(){for(var l;(l=e.read())!==null;)n.push(l),a+=l.length;e.once("readable",i)}function o(l){e.removeListener("end",s),e.removeListener("readable",i),t(l)}function s(){var l=Buffer.concat(n,a);n=[],t(null,l),e.close()}}function zlibBufferSync(e,r){if(typeof r=="string"&&(r=new Buffer(r)),!Buffer.isBuffer(r))throw new TypeError("Not a string or buffer");var t=binding.Z_FINISH;return e._processChunk(r,t)}function Deflate(e){if(!(this instanceof Deflate))return new Deflate(e);Zlib.call(this,e,binding.DEFLATE)}function Inflate(e){if(!(this instanceof Inflate))return new Inflate(e);Zlib.call(this,e,binding.INFLATE)}function Gzip(e){if(!(this instanceof Gzip))return new Gzip(e);Zlib.call(this,e,binding.GZIP)}function Gunzip(e){if(!(this instanceof Gunzip))return new Gunzip(e);Zlib.call(this,e,binding.GUNZIP)}function DeflateRaw(e){if(!(this instanceof DeflateRaw))return new DeflateRaw(e);Zlib.call(this,e,binding.DEFLATERAW)}function InflateRaw(e){if(!(this instanceof InflateRaw))return new InflateRaw(e);Zlib.call(this,e,binding.INFLATERAW)}function Unzip(e){if(!(this instanceof Unzip))return new Unzip(e);Zlib.call(this,e,binding.UNZIP)}function Zlib(e,r){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||binding.Z_DEFAULT_CHUNK,Transform.call(this,e),e.flush&&e.flush!==binding.Z_NO_FLUSH&&e.flush!==binding.Z_PARTIAL_FLUSH&&e.flush!==binding.Z_SYNC_FLUSH&&e.flush!==binding.Z_FULL_FLUSH&&e.flush!==binding.Z_FINISH&&e.flush!==binding.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||binding.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<binding.Z_MIN_CHUNK||e.chunkSize>binding.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<binding.Z_MIN_WINDOWBITS||e.windowBits>binding.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<binding.Z_MIN_LEVEL||e.level>binding.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<binding.Z_MIN_MEMLEVEL||e.memLevel>binding.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=binding.Z_FILTERED&&e.strategy!=binding.Z_HUFFMAN_ONLY&&e.strategy!=binding.Z_RLE&&e.strategy!=binding.Z_FIXED&&e.strategy!=binding.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!Buffer.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new binding.Zlib(r);var t=this;this._hadError=!1,this._binding.onerror=function(i,o){t._binding=null,t._hadError=!0;var s=new Error(i);s.errno=o,s.code=binding.codes[o],t.emit("error",s)};var n=binding.Z_DEFAULT_COMPRESSION;typeof e.level=="number"&&(n=e.level);var a=binding.Z_DEFAULT_STRATEGY;typeof e.strategy=="number"&&(a=e.strategy),this._binding.init(e.windowBits||binding.Z_DEFAULT_WINDOWBITS,n,e.memLevel||binding.Z_DEFAULT_MEMLEVEL,a,e.dictionary),this._buffer=new Buffer(this._chunkSize),this._offset=0,this._closed=!1,this._level=n,this._strategy=a,this.once("end",this.close)}inherits$1(Zlib,Transform),Zlib.prototype.params=function(e,r,t){if(e<binding.Z_MIN_LEVEL||e>binding.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(r!=binding.Z_FILTERED&&r!=binding.Z_HUFFMAN_ONLY&&r!=binding.Z_RLE&&r!=binding.Z_FIXED&&r!=binding.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==e||this._strategy!==r){var n=this;this.flush(binding.Z_SYNC_FLUSH,function(){n._binding.params(e,r),n._hadError||(n._level=e,n._strategy=r,t&&t())})}else browser$1.nextTick(t)},Zlib.prototype.reset=function(){return this._binding.reset()},Zlib.prototype._flush=function(e){this._transform(new Buffer(0),"",e)},Zlib.prototype.flush=function(e,r){var t=this._writableState;if((typeof e=="function"||e===void 0&&!r)&&(r=e,e=binding.Z_FULL_FLUSH),t.ended)r&&browser$1.nextTick(r);else if(t.ending)r&&this.once("end",r);else if(t.needDrain){var n=this;this.once("drain",function(){n.flush(r)})}else this._flushFlag=e,this.write(new Buffer(0),"",r)},Zlib.prototype.close=function(e){if(e&&browser$1.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var r=this;browser$1.nextTick(function(){r.emit("close")})}},Zlib.prototype._transform=function(e,r,t){var n,a=this._writableState,i=a.ending||a.ended,o=i&&(!e||a.length===e.length);if(!e===null&&!Buffer.isBuffer(e))return t(new Error("invalid input"));o?n=binding.Z_FINISH:(n=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||binding.Z_NO_FLUSH)),this._processChunk(e,n,t)},Zlib.prototype._processChunk=function(e,r,t){var n=e&&e.length,a=this._chunkSize-this._offset,i=0,o=this,s=typeof t=="function";if(!s){var l=[],f=0,c;this.on("error",function(I){c=I});do var w=this._binding.writeSync(r,e,i,n,this._buffer,this._offset,a);while(!this._hadError&&E(w[0],w[1]));if(this._hadError)throw c;var R=Buffer.concat(l,f);return this.close(),R}var m=this._binding.write(r,e,i,n,this._buffer,this._offset,a);m.buffer=e,m.callback=E;function E(I,C){if(!o._hadError){var M=a-C;if(assert(M>=0,"have should not go down"),M>0){var O=o._buffer.slice(o._offset,o._offset+M);o._offset+=M,s?o.push(O):(l.push(O),f+=O.length)}if((C===0||o._offset>=o._chunkSize)&&(a=o._chunkSize,o._offset=0,o._buffer=new Buffer(o._chunkSize)),C===0){if(i+=n-I,n=I,!s)return!0;var D=o._binding.write(r,e,i,n,o._buffer,o._offset,o._chunkSize);D.callback=E,D.buffer=e;return}if(!s)return!1;t()}}},inherits$1(Deflate,Zlib),inherits$1(Inflate,Zlib),inherits$1(Gzip,Zlib),inherits$1(Gunzip,Zlib),inherits$1(DeflateRaw,Zlib),inherits$1(InflateRaw,Zlib),inherits$1(Unzip,Zlib);const zlib={codes,createDeflate,createInflate,createDeflateRaw,createInflateRaw,createGzip,createGunzip,createUnzip,deflate,deflateSync,gzip,gzipSync,deflateRaw,deflateRawSync,unzip,unzipSync,inflate,inflateSync,gunzip,gunzipSync,inflateRaw,inflateRawSync,Deflate,Inflate,Gzip,Gunzip,DeflateRaw,InflateRaw,Unzip,Zlib},zlib$1=Object.freeze(Object.defineProperty({__proto__:null,codes,createDeflate,createInflate,createDeflateRaw,createInflateRaw,createGzip,createGunzip,createUnzip,deflate,deflateSync,gzip,gzipSync,deflateRaw,deflateRawSync,unzip,unzipSync,inflate,inflateSync,gunzip,gunzipSync,inflateRaw,inflateRawSync,Deflate,Inflate,Gzip,Gunzip,DeflateRaw,InflateRaw,Unzip,Zlib,default:zlib},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(zlib$1);var hasFetch=isFunction(global$1.fetch)&&isFunction(global$1.ReadableStream),_blobConstructor;function blobConstructor(){if(typeof _blobConstructor<"u")return _blobConstructor;try{new global$1.Blob([new ArrayBuffer(1)]),_blobConstructor=!0}catch{_blobConstructor=!1}return _blobConstructor}var xhr;function checkTypeSupport(e){xhr||(xhr=new global$1.XMLHttpRequest,xhr.open("GET",global$1.location.host?"/":"https://example.com"));try{return xhr.responseType=e,xhr.responseType===e}catch{return!1}}var haveArrayBuffer=typeof global$1.ArrayBuffer<"u",haveSlice=haveArrayBuffer&&isFunction(global$1.ArrayBuffer.prototype.slice),arraybuffer=haveArrayBuffer&&checkTypeSupport("arraybuffer"),msstream=!hasFetch&&haveSlice&&checkTypeSupport("ms-stream"),mozchunkedarraybuffer=!hasFetch&&haveArrayBuffer&&checkTypeSupport("moz-chunked-arraybuffer"),overrideMimeType=isFunction(xhr.overrideMimeType),vbArray=isFunction(global$1.VBArray);function isFunction(e){return typeof e=="function"}xhr=null;var rStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};function IncomingMessage(e,r,t){var n=this;Readable.call(n),n._mode=t,n.headers={},n.rawHeaders=[],n.trailers={},n.rawTrailers=[],n.on("end",function(){browser$1.nextTick(function(){n.emit("close")})});var a;if(t==="fetch"){n._fetchResponse=r,n.url=r.url,n.statusCode=r.status,n.statusMessage=r.statusText;for(var i,o,s=r.headers[Symbol.iterator]();i=(o=s.next()).value,!o.done;)n.headers[i[0].toLowerCase()]=i[1],n.rawHeaders.push(i[0],i[1]);var l=r.body.getReader();a=function(){l.read().then(function(R){if(!n._destroyed){if(R.done){n.push(null);return}n.push(new Buffer(R.value)),a()}})},a()}else{n._xhr=e,n._pos=0,n.url=e.responseURL,n.statusCode=e.status,n.statusMessage=e.statusText;var f=e.getAllResponseHeaders().split(/\r?\n/);if(f.forEach(function(R){var m=R.match(/^([^:]+):\s*(.*)/);if(m){var E=m[1].toLowerCase();E==="set-cookie"?(n.headers[E]===void 0&&(n.headers[E]=[]),n.headers[E].push(m[2])):n.headers[E]!==void 0?n.headers[E]+=", "+m[2]:n.headers[E]=m[2],n.rawHeaders.push(m[1],m[2])}}),n._charset="x-user-defined",!overrideMimeType){var c=n.rawHeaders["mime-type"];if(c){var w=c.match(/;\s*charset=([^;])(;|$)/);w&&(n._charset=w[1].toLowerCase())}n._charset||(n._charset="utf-8")}}}inherits$1(IncomingMessage,Readable),IncomingMessage.prototype._read=function(){},IncomingMessage.prototype._onXHRProgress=function(){var e=this,r=e._xhr,t=null;switch(e._mode){case"text:vbarray":if(r.readyState!==rStates.DONE)break;try{t=new global$1.VBArray(r.responseBody).toArray()}catch{}if(t!==null){e.push(new Buffer(t));break}case"text":try{t=r.responseText}catch{e._mode="text:vbarray";break}if(t.length>e._pos){var n=t.substr(e._pos);if(e._charset==="x-user-defined"){for(var a=new Buffer(n.length),i=0;i<n.length;i++)a[i]=n.charCodeAt(i)&255;e.push(a)}else e.push(n,e._charset);e._pos=t.length}break;case"arraybuffer":if(r.readyState!==rStates.DONE||!r.response)break;t=r.response,e.push(new Buffer(new Uint8Array(t)));break;case"moz-chunked-arraybuffer":if(t=r.response,r.readyState!==rStates.LOADING||!t)break;e.push(new Buffer(new Uint8Array(t)));break;case"ms-stream":if(t=r.response,r.readyState!==rStates.LOADING)break;var o=new global$1.MSStreamReader;o.onprogress=function(){o.result.byteLength>e._pos&&(e.push(new Buffer(new Uint8Array(o.result.slice(e._pos)))),e._pos=o.result.byteLength)},o.onload=function(){e.push(null)},o.readAsArrayBuffer(t);break}e._xhr.readyState===rStates.DONE&&e._mode!=="ms-stream"&&e.push(null)};function toArrayBuffer(e){if(e instanceof Uint8Array){if(e.byteOffset===0&&e.byteLength===e.buffer.byteLength)return e.buffer;if(typeof e.buffer.slice=="function")return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(isBuffer(e)){for(var r=new Uint8Array(e.length),t=e.length,n=0;n<t;n++)r[n]=e[n];return r.buffer}else throw new Error("Argument must be a Buffer")}function decideMode(e,r){return hasFetch&&r?"fetch":mozchunkedarraybuffer?"moz-chunked-arraybuffer":msstream?"ms-stream":arraybuffer&&e?"arraybuffer":vbArray&&e?"text:vbarray":"text"}function ClientRequest(e){var r=this;Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new Buffer(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(a){r.setHeader(a,e.headers[a])});var t,n=!0;if(e.mode==="disable-fetch")n=!1,t=!0;else if(e.mode==="prefer-streaming")t=!1;else if(e.mode==="allow-wrong-content-type")t=!overrideMimeType;else if(!e.mode||e.mode==="default"||e.mode==="prefer-fast")t=!0;else throw new Error("Invalid value for opts.mode");r._mode=decideMode(t,n),r.on("finish",function(){r._onFinish()})}inherits$1(ClientRequest,Writable);var unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];ClientRequest.prototype.setHeader=function(e,r){var t=this,n=e.toLowerCase();unsafeHeaders.indexOf(n)===-1&&(t._headers[n]={name:e,value:r})},ClientRequest.prototype.getHeader=function(e){var r=this;return r._headers[e.toLowerCase()].value},ClientRequest.prototype.removeHeader=function(e){var r=this;delete r._headers[e.toLowerCase()]},ClientRequest.prototype._onFinish=function(){var e=this;if(!e._destroyed){var r=e._opts,t=e._headers,n;if((r.method==="POST"||r.method==="PUT"||r.method==="PATCH")&&(blobConstructor()?n=new global$1.Blob(e._body.map(function(o){return toArrayBuffer(o)}),{type:(t["content-type"]||{}).value||""}):n=Buffer.concat(e._body).toString()),e._mode==="fetch"){var a=Object.keys(t).map(function(o){return[t[o].name,t[o].value]});global$1.fetch(e._opts.url,{method:e._opts.method,headers:a,body:n,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then(function(o){e._fetchResponse=o,e._connect()},function(o){e.emit("error",o)})}else{var i=e._xhr=new global$1.XMLHttpRequest;try{i.open(e._opts.method,e._opts.url,!0)}catch(o){browser$1.nextTick(function(){e.emit("error",o)});return}"responseType"in i&&(i.responseType=e._mode.split(":")[0]),"withCredentials"in i&&(i.withCredentials=!!r.withCredentials),e._mode==="text"&&"overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(t).forEach(function(o){i.setRequestHeader(t[o].name,t[o].value)}),e._response=null,i.onreadystatechange=function(){switch(i.readyState){case rStates.LOADING:case rStates.DONE:e._onXHRProgress();break}},e._mode==="moz-chunked-arraybuffer"&&(i.onprogress=function(){e._onXHRProgress()}),i.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{i.send(n)}catch(o){browser$1.nextTick(function(){e.emit("error",o)});return}}}};function statusValid(e){try{var r=e.status;return r!==null&&r!==0}catch{return!1}}ClientRequest.prototype._onXHRProgress=function(){var e=this;!statusValid(e._xhr)||e._destroyed||(e._response||e._connect(),e._response._onXHRProgress())},ClientRequest.prototype._connect=function(){var e=this;e._destroyed||(e._response=new IncomingMessage(e._xhr,e._fetchResponse,e._mode),e.emit("response",e._response))},ClientRequest.prototype._write=function(e,r,t){var n=this;n._body.push(e),t()},ClientRequest.prototype.abort=ClientRequest.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},ClientRequest.prototype.end=function(e,r,t){var n=this;typeof e=="function"&&(t=e,e=void 0),Writable.prototype.end.call(n,e,r,t)},ClientRequest.prototype.flushHeaders=function(){},ClientRequest.prototype.setTimeout=function(){},ClientRequest.prototype.setNoDelay=function(){},ClientRequest.prototype.setSocketKeepAlive=function(){};/*! https://mths.be/punycode v1.4.1 by @mathias */var maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(e){throw new RangeError(errors[e])}function map$1(e,r){for(var t=e.length,n=[];t--;)n[t]=r(e[t]);return n}function mapDomain(e,r){var t=e.split("@"),n="";t.length>1&&(n=t[0]+"@",e=t[1]),e=e.replace(regexSeparators,".");var a=e.split("."),i=map$1(a,r).join(".");return n+i}function ucs2decode(e){for(var r=[],t=0,n=e.length,a,i;t<n;)a=e.charCodeAt(t++),a>=55296&&a<=56319&&t<n?(i=e.charCodeAt(t++),(i&64512)==56320?r.push(((a&1023)<<10)+(i&1023)+65536):(r.push(a),t--)):r.push(a);return r}function digitToBasic(e,r){return e+22+75*(e<26)-((r!=0)<<5)}function adapt(e,r,t){var n=0;for(e=t?floor(e/damp):e>>1,e+=floor(e/r);e>baseMinusTMin*tMax>>1;n+=base)e=floor(e/baseMinusTMin);return floor(n+(baseMinusTMin+1)*e/(e+skew))}function encode(e){var r,t,n,a,i,o,s,l,f,c,w,R=[],m,E,I,C;for(e=ucs2decode(e),m=e.length,r=initialN,t=0,i=initialBias,o=0;o<m;++o)w=e[o],w<128&&R.push(stringFromCharCode(w));for(n=a=R.length,a&&R.push(delimiter);n<m;){for(s=maxInt,o=0;o<m;++o)w=e[o],w>=r&&w<s&&(s=w);for(E=n+1,s-r>floor((maxInt-t)/E)&&error("overflow"),t+=(s-r)*E,r=s,o=0;o<m;++o)if(w=e[o],w<r&&++t>maxInt&&error("overflow"),w==r){for(l=t,f=base;c=f<=i?tMin:f>=i+tMax?tMax:f-i,!(l<c);f+=base)C=l-c,I=base-c,R.push(stringFromCharCode(digitToBasic(c+C%I,0))),l=floor(C/I);R.push(stringFromCharCode(digitToBasic(l,0))),i=adapt(t,E,n==a),t=0,++n}++t,++r}return R.join("")}function toASCII(e){return mapDomain(e,function(r){return regexNonASCII.test(r)?"xn--"+encode(r):r})}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function stringifyPrimitive(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function stringify(e,r,t,n){return r=r||"&",t=t||"=",e===null&&(e=void 0),typeof e=="object"?map(objectKeys(e),function(a){var i=encodeURIComponent(stringifyPrimitive(a))+t;return isArray(e[a])?map(e[a],function(o){return i+encodeURIComponent(stringifyPrimitive(o))}).join(r):i+encodeURIComponent(stringifyPrimitive(e[a]))}).join(r):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(e)):""}function map(e,r){if(e.map)return e.map(r);for(var t=[],n=0;n<e.length;n++)t.push(r(e[n],n));return t}var objectKeys=Object.keys||function(e){var r=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r};function parse$1(e,r,t,n){r=r||"&",t=t||"=";var a={};if(typeof e!="string"||e.length===0)return a;var i=/\+/g;e=e.split(r);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var l=0;l<s;++l){var f=e[l].replace(i,"%20"),c=f.indexOf(t),w,R,m,E;c>=0?(w=f.substr(0,c),R=f.substr(c+1)):(w=f,R=""),m=decodeURIComponent(w),E=decodeURIComponent(R),hasOwnProperty(a,m)?isArray(a[m])?a[m].push(E):a[m]=[a[m],E]:a[m]=E}return a}const url={parse:urlParse,resolve:urlResolve,resolveObject:urlResolveObject,format:urlFormat,Url};function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(e,r,t){if(e&&isObject(e)&&e instanceof Url)return e;var n=new Url;return n.parse(e,r,t),n}Url.prototype.parse=function(e,r,t){return parse(this,e,r,t)};function parse(e,r,t,n){if(!isString$1(r))throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var a=r.indexOf("?"),i=a!==-1&&a<r.indexOf("#")?"?":"#",o=r.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),r=o.join(i);var l=r;if(l=l.trim(),!n&&r.split("#").length===1){var f=simplePathPattern.exec(l);if(f)return e.path=l,e.href=l,e.pathname=f[1],f[2]?(e.search=f[2],t?e.query=parse$1(e.search.substr(1)):e.query=e.search.substr(1)):t&&(e.search="",e.query={}),e}var c=protocolPattern.exec(l);if(c){c=c[0];var w=c.toLowerCase();e.protocol=w,l=l.substr(c.length)}if(n||c||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var R=l.substr(0,2)==="//";R&&!(c&&hostlessProtocol[c])&&(l=l.substr(2),e.slashes=!0)}var m,E,I,C;if(!hostlessProtocol[c]&&(R||c&&!slashedProtocol[c])){var M=-1;for(m=0;m<hostEndingChars.length;m++)E=l.indexOf(hostEndingChars[m]),E!==-1&&(M===-1||E<M)&&(M=E);var O,D;for(M===-1?D=l.lastIndexOf("@"):D=l.lastIndexOf("@",M),D!==-1&&(O=l.slice(0,D),l=l.slice(D+1),e.auth=decodeURIComponent(O)),M=-1,m=0;m<nonHostChars.length;m++)E=l.indexOf(nonHostChars[m]),E!==-1&&(M===-1||E<M)&&(M=E);M===-1&&(M=l.length),e.host=l.slice(0,M),l=l.slice(M),parseHost(e),e.hostname=e.hostname||"";var p=e.hostname[0]==="["&&e.hostname[e.hostname.length-1]==="]";if(!p){var h=e.hostname.split(/\./);for(m=0,I=h.length;m<I;m++){var y=h[m];if(!!y&&!y.match(hostnamePartPattern)){for(var A="",T=0,_=y.length;T<_;T++)y.charCodeAt(T)>127?A+="x":A+=y[T];if(!A.match(hostnamePartPattern)){var k=h.slice(0,m),L=h.slice(m+1),j=y.match(hostnamePartStart);j&&(k.push(j[1]),L.unshift(j[2])),L.length&&(l="/"+L.join(".")+l),e.hostname=k.join(".");break}}}}e.hostname.length>hostnameMaxLen?e.hostname="":e.hostname=e.hostname.toLowerCase(),p||(e.hostname=toASCII(e.hostname)),C=e.port?":"+e.port:"";var W=e.hostname||"";e.host=W+C,e.href+=e.host,p&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!unsafeProtocol[w])for(m=0,I=autoEscape.length;m<I;m++){var V=autoEscape[m];if(l.indexOf(V)!==-1){var te=encodeURIComponent(V);te===V&&(te=escape(V)),l=l.split(V).join(te)}}var q=l.indexOf("#");q!==-1&&(e.hash=l.substr(q),l=l.slice(0,q));var ae=l.indexOf("?");if(ae!==-1?(e.search=l.substr(ae),e.query=l.substr(ae+1),t&&(e.query=parse$1(e.query)),l=l.slice(0,ae)):t&&(e.search="",e.query={}),l&&(e.pathname=l),slashedProtocol[w]&&e.hostname&&!e.pathname&&(e.pathname="/"),e.pathname||e.search){C=e.pathname||"";var X=e.search||"";e.path=C+X}return e.href=format(e),e}function urlFormat(e){return isString$1(e)&&(e=parse({},e)),format(e)}function format(e){var r=e.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var t=e.protocol||"",n=e.pathname||"",a=e.hash||"",i=!1,o="";e.host?i=r+e.host:e.hostname&&(i=r+(e.hostname.indexOf(":")===-1?e.hostname:"["+this.hostname+"]"),e.port&&(i+=":"+e.port)),e.query&&isObject(e.query)&&Object.keys(e.query).length&&(o=stringify(e.query));var s=e.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),e.slashes||(!t||slashedProtocol[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),a&&a.charAt(0)!=="#"&&(a="#"+a),s&&s.charAt(0)!=="?"&&(s="?"+s),n=n.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),s=s.replace("#","%23"),t+i+n+s+a}Url.prototype.format=function(){return format(this)};function urlResolve(e,r){return urlParse(e,!1,!0).resolve(r)}Url.prototype.resolve=function(e){return this.resolveObject(urlParse(e,!1,!0)).format()};function urlResolveObject(e,r){return e?urlParse(e,!1,!0).resolveObject(r):r}Url.prototype.resolveObject=function(e){if(isString$1(e)){var r=new Url;r.parse(e,!1,!0),e=r}for(var t=new Url,n=Object.keys(this),a=0;a<n.length;a++){var i=n[a];t[i]=this[i]}if(t.hash=e.hash,e.href==="")return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),s=0;s<o.length;s++){var l=o[s];l!=="protocol"&&(t[l]=e[l])}return slashedProtocol[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}var f;if(e.protocol&&e.protocol!==t.protocol){if(!slashedProtocol[e.protocol]){for(var c=Object.keys(e),w=0;w<c.length;w++){var R=c[w];t[R]=e[R]}return t.href=t.format(),t}if(t.protocol=e.protocol,!e.host&&!hostlessProtocol[e.protocol]){for(f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),f[0]!==""&&f.unshift(""),f.length<2&&f.unshift(""),t.pathname=f.join("/")}else t.pathname=e.pathname;if(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var m=t.pathname||"",E=t.search||"";t.path=m+E}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var I=t.pathname&&t.pathname.charAt(0)==="/",C=e.host||e.pathname&&e.pathname.charAt(0)==="/",M=C||I||t.host&&e.pathname,O=M,D=t.pathname&&t.pathname.split("/")||[],p=t.protocol&&!slashedProtocol[t.protocol];f=e.pathname&&e.pathname.split("/")||[],p&&(t.hostname="",t.port=null,t.host&&(D[0]===""?D[0]=t.host:D.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(f[0]===""?f[0]=e.host:f.unshift(e.host)),e.host=null),M=M&&(f[0]===""||D[0]===""));var h;if(C)t.host=e.host||e.host===""?e.host:t.host,t.hostname=e.hostname||e.hostname===""?e.hostname:t.hostname,t.search=e.search,t.query=e.query,D=f;else if(f.length)D||(D=[]),D.pop(),D=D.concat(f),t.search=e.search,t.query=e.query;else if(!isNullOrUndefined(e.search))return p&&(t.hostname=t.host=D.shift(),h=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1,h&&(t.auth=h.shift(),t.host=t.hostname=h.shift())),t.search=e.search,t.query=e.query,(!isNull(t.pathname)||!isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t;if(!D.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var y=D.slice(-1)[0],A=(t.host||e.host||D.length>1)&&(y==="."||y==="..")||y==="",T=0,_=D.length;_>=0;_--)y=D[_],y==="."?D.splice(_,1):y===".."?(D.splice(_,1),T++):T&&(D.splice(_,1),T--);if(!M&&!O)for(;T--;T)D.unshift("..");M&&D[0]!==""&&(!D[0]||D[0].charAt(0)!=="/")&&D.unshift(""),A&&D.join("/").substr(-1)!=="/"&&D.push("");var k=D[0]===""||D[0]&&D[0].charAt(0)==="/";return p&&(t.hostname=t.host=k?"":D.length?D.shift():"",h=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1,h&&(t.auth=h.shift(),t.host=t.hostname=h.shift())),M=M||t.host&&D.length,M&&!k&&D.unshift(""),D.length?t.pathname=D.join("/"):(t.pathname=null,t.path=null),(!isNull(t.pathname)||!isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},Url.prototype.parseHost=function(){return parseHost(this)};function parseHost(e){var r=e.host,t=portPattern.exec(r);t&&(t=t[0],t!==":"&&(e.port=t.substr(1)),r=r.substr(0,r.length-t.length)),r&&(e.hostname=r)}const url$1=Object.freeze(Object.defineProperty({__proto__:null,parse:urlParse,resolve:urlResolve,resolveObject:urlResolveObject,format:urlFormat,default:url,Url},Symbol.toStringTag,{value:"Module"}));function request(e,r){typeof e=="string"&&(e=urlParse(e));var t=global$1.location.protocol.search(/^https?:$/)===-1?"http:":"",n=e.protocol||t,a=e.hostname||e.host,i=e.port,o=e.path||"/";a&&a.indexOf(":")!==-1&&(a="["+a+"]"),e.url=(a?n+"//"+a:"")+(i?":"+i:"")+o,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var s=new ClientRequest(e);return r&&s.on("response",r),s}function get(e,r){var t=request(e,r);return t.end(),t}function Agent(){}Agent.defaultMaxSockets=4;var METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};const http={request,get,Agent,METHODS,STATUS_CODES},http$1=Object.freeze(Object.defineProperty({__proto__:null,request,get,Agent,METHODS,STATUS_CODES,default:http},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(http$1),require$$5=getAugmentedNamespace(url$1);(function(module,exports){(function(r,t){module.exports=t()})(commonjsGlobal,function(){return(()=>{var __webpack_modules__=[,(e,r,t)=>{function n(U){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(g){return typeof g}:n=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},n(U)}Object.defineProperty(r,"__esModule",{value:!0}),r.StatTimer=r.RenderingCancelledException=r.PixelsPerInch=r.PageViewport=r.PDFDateString=r.LinkTarget=r.DOMStandardFontDataFactory=r.DOMSVGFactory=r.DOMCanvasFactory=r.DOMCMapReaderFactory=void 0,r.addLinkAttributes=K,r.deprecated=he,r.getFilenameFromUrl=F,r.getPdfFilenameFromUrl=N,r.getXfaPageViewport=$,r.isDataScheme=P,r.isPdfFile=S,r.isValidFetchUrl=ee,r.loadScript=Y;var a=s(t(2)),i=t(4),o=t(135);function s(U){return U&&U.__esModule?U:{default:U}}function l(U,b){var g=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!g){if(Array.isArray(U)||(g=f(U))||b&&U&&typeof U.length=="number"){g&&(U=g);var x=0,z=function(){};return{s:z,n:function(){return x>=U.length?{done:!0}:{done:!1,value:U[x++]}},e:function(ye){throw ye},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H=!0,re=!1,fe;return{s:function(){g=g.call(U)},n:function(){var ye=g.next();return H=ye.done,ye},e:function(ye){re=!0,fe=ye},f:function(){try{!H&&g.return!=null&&g.return()}finally{if(re)throw fe}}}}function f(U,b){if(!!U){if(typeof U=="string")return c(U,b);var g=Object.prototype.toString.call(U).slice(8,-1);if(g==="Object"&&U.constructor&&(g=U.constructor.name),g==="Map"||g==="Set")return Array.from(U);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return c(U,b)}}function c(U,b){(b==null||b>U.length)&&(b=U.length);for(var g=0,x=new Array(b);g<b;g++)x[g]=U[g];return x}function w(U,b,g,x,z,H,re){try{var fe=U[H](re),ge=fe.value}catch(ye){g(ye);return}fe.done?b(ge):Promise.resolve(ge).then(x,z)}function R(U){return function(){var b=this,g=arguments;return new Promise(function(x,z){var H=U.apply(b,g);function re(ge){w(H,x,z,re,fe,"next",ge)}function fe(ge){w(H,x,z,re,fe,"throw",ge)}re(void 0)})}}function m(U,b){if(!(U instanceof b))throw new TypeError("Cannot call a class as a function")}function E(U,b){for(var g=0;g<b.length;g++){var x=b[g];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(U,x.key,x)}}function I(U,b,g){return b&&E(U.prototype,b),g&&E(U,g),U}function C(U,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(b&&b.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),b&&M(U,b)}function M(U,b){return M=Object.setPrototypeOf||function(x,z){return x.__proto__=z,x},M(U,b)}function O(U){var b=h();return function(){var x=y(U),z;if(b){var H=y(this).constructor;z=Reflect.construct(x,arguments,H)}else z=x.apply(this,arguments);return D(this,z)}}function D(U,b){if(b&&(n(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(U)}function p(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(U){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},y(U)}var A="noopener noreferrer nofollow",T="http://www.w3.org/2000/svg",_={CSS:96,PDF:72,get PDF_TO_CSS_UNITS(){return(0,i.shadow)(this,"PDF_TO_CSS_UNITS",this.CSS/this.PDF)}};r.PixelsPerInch=_;var k=function(U){C(g,U);var b=O(g);function g(){var x,z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=z.ownerDocument,re=H===void 0?globalThis.document:H;return m(this,g),x=b.call(this),x._document=re,x}return I(g,[{key:"_createCanvas",value:function(z,H){var re=this._document.createElement("canvas");return re.width=z,re.height=H,re}}]),g}(o.BaseCanvasFactory);r.DOMCanvasFactory=k;function L(U){return j.apply(this,arguments)}function j(){return j=R(a.default.mark(function U(b){var g,x,z=arguments;return a.default.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(g=z.length>1&&z[1]!==void 0?z[1]:!1,!ee(b,document.baseURI)){re.next=21;break}return re.next=4,fetch(b);case 4:if(x=re.sent,x.ok){re.next=7;break}throw new Error(x.statusText);case 7:if(!g){re.next=15;break}return re.t1=Uint8Array,re.next=11,x.arrayBuffer();case 11:re.t2=re.sent,re.t0=new re.t1(re.t2),re.next=20;break;case 15:return re.t3=i.stringToBytes,re.next=18,x.text();case 18:re.t4=re.sent,re.t0=(0,re.t3)(re.t4);case 20:return re.abrupt("return",re.t0);case 21:return re.abrupt("return",new Promise(function(fe,ge){var ye=new XMLHttpRequest;ye.open("GET",b,!0),g&&(ye.responseType="arraybuffer"),ye.onreadystatechange=function(){if(ye.readyState===XMLHttpRequest.DONE){if(ye.status===200||ye.status===0){var me;if(g&&ye.response?me=new Uint8Array(ye.response):!g&&ye.responseText&&(me=(0,i.stringToBytes)(ye.responseText)),me){fe(me);return}}ge(new Error(ye.statusText))}},ye.send(null)}));case 22:case"end":return re.stop()}},U)})),j.apply(this,arguments)}var W=function(U){C(g,U);var b=O(g);function g(){return m(this,g),b.apply(this,arguments)}return I(g,[{key:"_fetchData",value:function(z,H){return L(z,this.isCompressed).then(function(re){return{cMapData:re,compressionType:H}})}}]),g}(o.BaseCMapReaderFactory);r.DOMCMapReaderFactory=W;var V=function(U){C(g,U);var b=O(g);function g(){return m(this,g),b.apply(this,arguments)}return I(g,[{key:"_fetchData",value:function(z){return L(z,!0)}}]),g}(o.BaseStandardFontDataFactory);r.DOMStandardFontDataFactory=V;var te=function(U){C(g,U);var b=O(g);function g(){return m(this,g),b.apply(this,arguments)}return I(g,[{key:"_createSVG",value:function(z){return document.createElementNS(T,z)}}]),g}(o.BaseSVGFactory);r.DOMSVGFactory=te;var q=function(){function U(b){var g=b.viewBox,x=b.scale,z=b.rotation,H=b.offsetX,re=H===void 0?0:H,fe=b.offsetY,ge=fe===void 0?0:fe,ye=b.dontFlip,me=ye===void 0?!1:ye;m(this,U),this.viewBox=g,this.scale=x,this.rotation=z,this.offsetX=re,this.offsetY=ge;var Te=(g[2]+g[0])/2,Re=(g[3]+g[1])/2,xe,Fe,Me,We;switch(z%=360,z<0&&(z+=360),z){case 180:xe=-1,Fe=0,Me=0,We=1;break;case 90:xe=0,Fe=1,Me=1,We=0;break;case 270:xe=0,Fe=-1,Me=-1,We=0;break;case 0:xe=1,Fe=0,Me=0,We=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}me&&(Me=-Me,We=-We);var $e,de,pe,Z;xe===0?($e=Math.abs(Re-g[1])*x+re,de=Math.abs(Te-g[0])*x+ge,pe=Math.abs(g[3]-g[1])*x,Z=Math.abs(g[2]-g[0])*x):($e=Math.abs(Te-g[0])*x+re,de=Math.abs(Re-g[1])*x+ge,pe=Math.abs(g[2]-g[0])*x,Z=Math.abs(g[3]-g[1])*x),this.transform=[xe*x,Fe*x,Me*x,We*x,$e-xe*x*Te-Me*x*Re,de-Fe*x*Te-We*x*Re],this.width=pe,this.height=Z}return I(U,[{key:"clone",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=g.scale,z=x===void 0?this.scale:x,H=g.rotation,re=H===void 0?this.rotation:H,fe=g.offsetX,ge=fe===void 0?this.offsetX:fe,ye=g.offsetY,me=ye===void 0?this.offsetY:ye,Te=g.dontFlip,Re=Te===void 0?!1:Te;return new U({viewBox:this.viewBox.slice(),scale:z,rotation:re,offsetX:ge,offsetY:me,dontFlip:Re})}},{key:"convertToViewportPoint",value:function(g,x){return i.Util.applyTransform([g,x],this.transform)}},{key:"convertToViewportRectangle",value:function(g){var x=i.Util.applyTransform([g[0],g[1]],this.transform),z=i.Util.applyTransform([g[2],g[3]],this.transform);return[x[0],x[1],z[0],z[1]]}},{key:"convertToPdfPoint",value:function(g,x){return i.Util.applyInverseTransform([g,x],this.transform)}}]),U}();r.PageViewport=q;var ae=function(U){C(g,U);var b=O(g);function g(x,z){var H;return m(this,g),H=b.call(this,x,"RenderingCancelledException"),H.type=z,H}return g}(i.BaseException);r.RenderingCancelledException=ae;var X={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};r.LinkTarget=X;function K(U){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=b.url,x=b.target,z=b.rel,H=b.enabled,re=H===void 0?!0:H;(0,i.assert)(g&&typeof g=="string",'addLinkAttributes: A valid "url" parameter must provided.');var fe=(0,i.removeNullCharacters)(g);re?U.href=U.title=fe:(U.href="",U.title="Disabled: ".concat(fe),U.onclick=function(){return!1});var ge="";switch(x){case X.NONE:break;case X.SELF:ge="_self";break;case X.BLANK:ge="_blank";break;case X.PARENT:ge="_parent";break;case X.TOP:ge="_top";break}U.target=ge,U.rel=typeof z=="string"?z:A}function P(U){for(var b=U.length,g=0;g<b&&U[g].trim()==="";)g++;return U.substring(g,g+5).toLowerCase()==="data:"}function S(U){return typeof U=="string"&&/\.pdf$/i.test(U)}function F(U){var b=U.indexOf("#"),g=U.indexOf("?"),x=Math.min(b>0?b:U.length,g>0?g:U.length);return U.substring(U.lastIndexOf("/",x)+1,x)}function N(U){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof U!="string")return b;if(P(U))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),b;var g=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,x=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,z=g.exec(U),H=x.exec(z[1])||x.exec(z[2])||x.exec(z[3]);if(H&&(H=H[0],H.includes("%")))try{H=x.exec(decodeURIComponent(H))[0]}catch{}return H||b}var G=function(){function U(){m(this,U),this.started=Object.create(null),this.times=[]}return I(U,[{key:"time",value:function(g){g in this.started&&(0,i.warn)("Timer is already running for ".concat(g)),this.started[g]=Date.now()}},{key:"timeEnd",value:function(g){g in this.started||(0,i.warn)("Timer has not been started for ".concat(g)),this.times.push({name:g,start:this.started[g],end:Date.now()}),delete this.started[g]}},{key:"toString",value:function(){var g=[],x=0,z=l(this.times),H;try{for(z.s();!(H=z.n()).done;){var re=H.value,fe=re.name;fe.length>x&&(x=fe.length)}}catch(Re){z.e(Re)}finally{z.f()}var ge=l(this.times),ye;try{for(ge.s();!(ye=ge.n()).done;){var me=ye.value,Te=me.end-me.start;g.push("".concat(me.name.padEnd(x)," ").concat(Te,`ms
`))}}catch(Re){ge.e(Re)}finally{ge.f()}return g.join("")}}]),U}();r.StatTimer=G;function ee(U,b){try{var g=b?new URL(U,b):new URL(U),x=g.protocol;return x==="http:"||x==="https:"}catch{return!1}}function Y(U){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise(function(g,x){var z=document.createElement("script");z.src=U,z.onload=function(H){b&&z.remove(),g(H)},z.onerror=function(){x(new Error("Cannot load script at: ".concat(z.src)))},(document.head||document.documentElement).appendChild(z)})}function he(U){console.log("Deprecated API usage: "+U)}var Se,we=function(){function U(){m(this,U)}return I(U,null,[{key:"toDateObject",value:function(g){if(!g||!(0,i.isString)(g))return null;Se||(Se=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var x=Se.exec(g);if(!x)return null;var z=parseInt(x[1],10),H=parseInt(x[2],10);H=H>=1&&H<=12?H-1:0;var re=parseInt(x[3],10);re=re>=1&&re<=31?re:1;var fe=parseInt(x[4],10);fe=fe>=0&&fe<=23?fe:0;var ge=parseInt(x[5],10);ge=ge>=0&&ge<=59?ge:0;var ye=parseInt(x[6],10);ye=ye>=0&&ye<=59?ye:0;var me=x[7]||"Z",Te=parseInt(x[8],10);Te=Te>=0&&Te<=23?Te:0;var Re=parseInt(x[9],10)||0;return Re=Re>=0&&Re<=59?Re:0,me==="-"?(fe+=Te,ge+=Re):me==="+"&&(fe-=Te,ge-=Re),new Date(Date.UTC(z,H,re,fe,ge,ye))}}]),U}();r.PDFDateString=we;function $(U,b){var g=b.scale,x=g===void 0?1:g,z=b.rotation,H=z===void 0?0:z,re=U.attributes.style,fe=re.width,ge=re.height,ye=[0,0,parseInt(fe),parseInt(ge)];return new q({viewBox:ye,scale:x,rotation:H})}},(e,r,t)=>{e.exports=t(3)},(e,r,t)=>{e=t.nmd(e);function n(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(s){return typeof s}:n=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},n(i)}var a=function(i){var o=Object.prototype,s=o.hasOwnProperty,l,f=typeof Symbol=="function"?Symbol:{},c=f.iterator||"@@iterator",w=f.asyncIterator||"@@asyncIterator",R=f.toStringTag||"@@toStringTag";function m(S,F,N){return Object.defineProperty(S,F,{value:N,enumerable:!0,configurable:!0,writable:!0}),S[F]}try{m({},"")}catch{m=function(N,G,ee){return N[G]=ee}}function E(S,F,N,G){var ee=F&&F.prototype instanceof h?F:h,Y=Object.create(ee.prototype),he=new X(G||[]);return Y._invoke=V(S,N,he),Y}i.wrap=E;function I(S,F,N){try{return{type:"normal",arg:S.call(F,N)}}catch(G){return{type:"throw",arg:G}}}var C="suspendedStart",M="suspendedYield",O="executing",D="completed",p={};function h(){}function y(){}function A(){}var T={};m(T,c,function(){return this});var _=Object.getPrototypeOf,k=_&&_(_(K([])));k&&k!==o&&s.call(k,c)&&(T=k);var L=A.prototype=h.prototype=Object.create(T);y.prototype=A,m(L,"constructor",A),m(A,"constructor",y),y.displayName=m(A,R,"GeneratorFunction");function j(S){["next","throw","return"].forEach(function(F){m(S,F,function(N){return this._invoke(F,N)})})}i.isGeneratorFunction=function(S){var F=typeof S=="function"&&S.constructor;return F?F===y||(F.displayName||F.name)==="GeneratorFunction":!1},i.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,A):(S.__proto__=A,m(S,R,"GeneratorFunction")),S.prototype=Object.create(L),S},i.awrap=function(S){return{__await:S}};function W(S,F){function N(Y,he,Se,we){var $=I(S[Y],S,he);if($.type==="throw")we($.arg);else{var U=$.arg,b=U.value;return b&&n(b)==="object"&&s.call(b,"__await")?F.resolve(b.__await).then(function(g){N("next",g,Se,we)},function(g){N("throw",g,Se,we)}):F.resolve(b).then(function(g){U.value=g,Se(U)},function(g){return N("throw",g,Se,we)})}}var G;function ee(Y,he){function Se(){return new F(function(we,$){N(Y,he,we,$)})}return G=G?G.then(Se,Se):Se()}this._invoke=ee}j(W.prototype),m(W.prototype,w,function(){return this}),i.AsyncIterator=W,i.async=function(S,F,N,G,ee){ee===void 0&&(ee=Promise);var Y=new W(E(S,F,N,G),ee);return i.isGeneratorFunction(F)?Y:Y.next().then(function(he){return he.done?he.value:Y.next()})};function V(S,F,N){var G=C;return function(Y,he){if(G===O)throw new Error("Generator is already running");if(G===D){if(Y==="throw")throw he;return P()}for(N.method=Y,N.arg=he;;){var Se=N.delegate;if(Se){var we=te(Se,N);if(we){if(we===p)continue;return we}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(G===C)throw G=D,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);G=O;var $=I(S,F,N);if($.type==="normal"){if(G=N.done?D:M,$.arg===p)continue;return{value:$.arg,done:N.done}}else $.type==="throw"&&(G=D,N.method="throw",N.arg=$.arg)}}}function te(S,F){var N=S.iterator[F.method];if(N===l){if(F.delegate=null,F.method==="throw"){if(S.iterator.return&&(F.method="return",F.arg=l,te(S,F),F.method==="throw"))return p;F.method="throw",F.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var G=I(N,S.iterator,F.arg);if(G.type==="throw")return F.method="throw",F.arg=G.arg,F.delegate=null,p;var ee=G.arg;if(!ee)return F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,p;if(ee.done)F[S.resultName]=ee.value,F.next=S.nextLoc,F.method!=="return"&&(F.method="next",F.arg=l);else return ee;return F.delegate=null,p}j(L),m(L,R,"Generator"),m(L,c,function(){return this}),m(L,"toString",function(){return"[object Generator]"});function q(S){var F={tryLoc:S[0]};1 in S&&(F.catchLoc=S[1]),2 in S&&(F.finallyLoc=S[2],F.afterLoc=S[3]),this.tryEntries.push(F)}function ae(S){var F=S.completion||{};F.type="normal",delete F.arg,S.completion=F}function X(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(q,this),this.reset(!0)}i.keys=function(S){var F=[];for(var N in S)F.push(N);return F.reverse(),function G(){for(;F.length;){var ee=F.pop();if(ee in S)return G.value=ee,G.done=!1,G}return G.done=!0,G}};function K(S){if(S){var F=S[c];if(F)return F.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var N=-1,G=function ee(){for(;++N<S.length;)if(s.call(S,N))return ee.value=S[N],ee.done=!1,ee;return ee.value=l,ee.done=!0,ee};return G.next=G}}return{next:P}}i.values=K;function P(){return{value:l,done:!0}}return X.prototype={constructor:X,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(ae),!F)for(var N in this)N.charAt(0)==="t"&&s.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=l)},stop:function(){this.done=!0;var F=this.tryEntries[0],N=F.completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var N=this;function G($,U){return he.type="throw",he.arg=F,N.next=$,U&&(N.method="next",N.arg=l),!!U}for(var ee=this.tryEntries.length-1;ee>=0;--ee){var Y=this.tryEntries[ee],he=Y.completion;if(Y.tryLoc==="root")return G("end");if(Y.tryLoc<=this.prev){var Se=s.call(Y,"catchLoc"),we=s.call(Y,"finallyLoc");if(Se&&we){if(this.prev<Y.catchLoc)return G(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return G(Y.finallyLoc)}else if(Se){if(this.prev<Y.catchLoc)return G(Y.catchLoc,!0)}else if(we){if(this.prev<Y.finallyLoc)return G(Y.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(F,N){for(var G=this.tryEntries.length-1;G>=0;--G){var ee=this.tryEntries[G];if(ee.tryLoc<=this.prev&&s.call(ee,"finallyLoc")&&this.prev<ee.finallyLoc){var Y=ee;break}}Y&&(F==="break"||F==="continue")&&Y.tryLoc<=N&&N<=Y.finallyLoc&&(Y=null);var he=Y?Y.completion:{};return he.type=F,he.arg=N,Y?(this.method="next",this.next=Y.finallyLoc,p):this.complete(he)},complete:function(F,N){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&N&&(this.next=N),p},finish:function(F){for(var N=this.tryEntries.length-1;N>=0;--N){var G=this.tryEntries[N];if(G.finallyLoc===F)return this.complete(G.completion,G.afterLoc),ae(G),p}},catch:function(F){for(var N=this.tryEntries.length-1;N>=0;--N){var G=this.tryEntries[N];if(G.tryLoc===F){var ee=G.completion;if(ee.type==="throw"){var Y=ee.arg;ae(G)}return Y}}throw new Error("illegal catch attempt")},delegateYield:function(F,N,G){return this.delegate={iterator:K(F),resultName:N,nextLoc:G},this.method==="next"&&(this.arg=l),p}},i}(n(e)==="object"?e.exports:{});try{regeneratorRuntime=a}catch{(typeof globalThis>"u"?"undefined":n(globalThis))==="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.VerbosityLevel=r.Util=r.UnknownErrorException=r.UnexpectedResponseException=r.UNSUPPORTED_FEATURES=r.TextRenderingMode=r.StreamType=r.RenderingIntentFlag=r.PermissionFlag=r.PasswordResponses=r.PasswordException=r.PageActionEventType=r.OPS=r.MissingPDFException=r.IsLittleEndianCached=r.IsEvalSupportedCached=r.InvalidPDFException=r.ImageKind=r.IDENTITY_MATRIX=r.FormatError=r.FontType=r.FONT_IDENTITY_MATRIX=r.DocumentActionEventType=r.CMapCompressionType=r.BaseException=r.AnnotationType=r.AnnotationStateModelType=r.AnnotationReviewState=r.AnnotationReplyType=r.AnnotationMode=r.AnnotationMarkedState=r.AnnotationFlag=r.AnnotationFieldFlag=r.AnnotationBorderStyleType=r.AnnotationActionEventType=r.AbortException=void 0,r.arrayByteLength=ce,r.arraysToBytes=Ae,r.assert=ye,r.bytesToString=J,r.createObjectURL=Pt,r.createPromiseCapability=wt,r.createValidAbsoluteUrl=Re,r.escapeString=Je,r.getModificationDate=Vt,r.getVerbosityLevel=H,r.info=re,r.isArrayBuffer=It,r.isArrayEqual=Ft,r.isAscii=nt,r.isBool=kt,r.isNum=Xt,r.isSameOrigin=me,r.isString=Ot,r.objectFromMap=Ne,r.objectSize=Le,r.removeNullCharacters=ie,r.setVerbosityLevel=z,r.shadow=xe,r.string32=Pe,r.stringToBytes=ve,r.stringToPDFString=Ve,r.stringToUTF16BEString=ot,r.stringToUTF8String=mt,r.unreachable=ge,r.utf8StringToString=pt,r.warn=fe,t(5);function n(le,Ce){for(var ue=0;ue<Ce.length;ue++){var be=Ce[ue];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(le,be.key,be)}}function a(le,Ce,ue){return Ce&&n(le.prototype,Ce),ue&&n(le,ue),le}function i(le){return l(le)||s(le)||E(le)||o()}function o(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(le){if(typeof Symbol<"u"&&le[Symbol.iterator]!=null||le["@@iterator"]!=null)return Array.from(le)}function l(le){if(Array.isArray(le))return I(le)}function f(le,Ce){return R(le)||w(le,Ce)||E(le,Ce)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(le,Ce){var ue=le==null?null:typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(ue!=null){var be=[],ze=!0,He=!1,Ze,qe;try{for(ue=ue.call(le);!(ze=(Ze=ue.next()).done)&&(be.push(Ze.value),!(Ce&&be.length===Ce));ze=!0);}catch(at){He=!0,qe=at}finally{try{!ze&&ue.return!=null&&ue.return()}finally{if(He)throw qe}}return be}}function R(le){if(Array.isArray(le))return le}function m(le,Ce){var ue=typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(!ue){if(Array.isArray(le)||(ue=E(le))||Ce&&le&&typeof le.length=="number"){ue&&(le=ue);var be=0,ze=function(){};return{s:ze,n:function(){return be>=le.length?{done:!0}:{done:!1,value:le[be++]}},e:function(st){throw st},f:ze}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var He=!0,Ze=!1,qe;return{s:function(){ue=ue.call(le)},n:function(){var st=ue.next();return He=st.done,st},e:function(st){Ze=!0,qe=st},f:function(){try{!He&&ue.return!=null&&ue.return()}finally{if(Ze)throw qe}}}}function E(le,Ce){if(!!le){if(typeof le=="string")return I(le,Ce);var ue=Object.prototype.toString.call(le).slice(8,-1);if(ue==="Object"&&le.constructor&&(ue=le.constructor.name),ue==="Map"||ue==="Set")return Array.from(le);if(ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue))return I(le,Ce)}}function I(le,Ce){(Ce==null||Ce>le.length)&&(Ce=le.length);for(var ue=0,be=new Array(Ce);ue<Ce;ue++)be[ue]=le[ue];return be}function C(le){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C=function(ue){return typeof ue}:C=function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},C(le)}function M(le,Ce){if(!(le instanceof Ce))throw new TypeError("Cannot call a class as a function")}function O(le,Ce){if(typeof Ce!="function"&&Ce!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Ce&&D(le,Ce)}function D(le,Ce){return D=Object.setPrototypeOf||function(be,ze){return be.__proto__=ze,be},D(le,Ce)}function p(le){var Ce=A();return function(){var be=T(le),ze;if(Ce){var He=T(this).constructor;ze=Reflect.construct(be,arguments,He)}else ze=be.apply(this,arguments);return h(this,ze)}}function h(le,Ce){if(Ce&&(C(Ce)==="object"||typeof Ce=="function"))return Ce;if(Ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(le)}function y(le){if(le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T(le){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(ue){return ue.__proto__||Object.getPrototypeOf(ue)},T(le)}var _=[1,0,0,1,0,0];r.IDENTITY_MATRIX=_;var k=[.001,0,0,.001,0,0];r.FONT_IDENTITY_MATRIX=k;var L={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};r.RenderingIntentFlag=L;var j={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};r.AnnotationMode=j;var W={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};r.PermissionFlag=W;var V={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};r.TextRenderingMode=V;var te={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};r.ImageKind=te;var q={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};r.AnnotationType=q;var ae={MARKED:"Marked",REVIEW:"Review"};r.AnnotationStateModelType=ae;var X={MARKED:"Marked",UNMARKED:"Unmarked"};r.AnnotationMarkedState=X;var K={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};r.AnnotationReviewState=K;var P={GROUP:"Group",REPLY:"R"};r.AnnotationReplyType=P;var S={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};r.AnnotationFlag=S;var F={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};r.AnnotationFieldFlag=F;var N={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};r.AnnotationBorderStyleType=N;var G={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};r.AnnotationActionEventType=G;var ee={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};r.DocumentActionEventType=ee;var Y={O:"PageOpen",C:"PageClose"};r.PageActionEventType=Y;var he={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};r.StreamType=he;var Se={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};r.FontType=Se;var we={ERRORS:0,WARNINGS:1,INFOS:5};r.VerbosityLevel=we;var $={NONE:0,BINARY:1,STREAM:2};r.CMapCompressionType=$;var U={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};r.OPS=U;var b={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};r.UNSUPPORTED_FEATURES=b;var g={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};r.PasswordResponses=g;var x=we.WARNINGS;function z(le){Number.isInteger(le)&&(x=le)}function H(){return x}function re(le){x>=we.INFOS&&console.log("Info: ".concat(le))}function fe(le){x>=we.WARNINGS&&console.log("Warning: ".concat(le))}function ge(le){throw new Error(le)}function ye(le,Ce){le||ge(Ce)}function me(le,Ce){var ue;try{if(ue=new URL(le),!ue.origin||ue.origin==="null")return!1}catch{return!1}var be=new URL(Ce,ue);return ue.origin===be.origin}function Te(le){if(!le)return!1;switch(le.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Re(le){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!le)return null;try{if(ue&&typeof le=="string"){if(ue.addDefaultProtocol&&le.startsWith("www.")){var be=le.match(/\./g);be&&be.length>=2&&(le="http://".concat(le))}if(ue.tryConvertEncoding)try{le=mt(le)}catch{}}var ze=Ce?new URL(le,Ce):new URL(le);if(Te(ze))return ze}catch{}return null}function xe(le,Ce,ue){return Object.defineProperty(le,Ce,{value:ue,enumerable:!0,configurable:!0,writable:!1}),ue}var Fe=function(){function Ce(ue,be){this.constructor===Ce&&ge("Cannot initialize BaseException."),this.message=ue,this.name=be}return Ce.prototype=new Error,Ce.constructor=Ce,Ce}();r.BaseException=Fe;var Me=function(le){O(ue,le);var Ce=p(ue);function ue(be,ze){var He;return M(this,ue),He=Ce.call(this,be,"PasswordException"),He.code=ze,He}return ue}(Fe);r.PasswordException=Me;var We=function(le){O(ue,le);var Ce=p(ue);function ue(be,ze){var He;return M(this,ue),He=Ce.call(this,be,"UnknownErrorException"),He.details=ze,He}return ue}(Fe);r.UnknownErrorException=We;var $e=function(le){O(ue,le);var Ce=p(ue);function ue(be){return M(this,ue),Ce.call(this,be,"InvalidPDFException")}return ue}(Fe);r.InvalidPDFException=$e;var de=function(le){O(ue,le);var Ce=p(ue);function ue(be){return M(this,ue),Ce.call(this,be,"MissingPDFException")}return ue}(Fe);r.MissingPDFException=de;var pe=function(le){O(ue,le);var Ce=p(ue);function ue(be,ze){var He;return M(this,ue),He=Ce.call(this,be,"UnexpectedResponseException"),He.status=ze,He}return ue}(Fe);r.UnexpectedResponseException=pe;var Z=function(le){O(ue,le);var Ce=p(ue);function ue(be){return M(this,ue),Ce.call(this,be,"FormatError")}return ue}(Fe);r.FormatError=Z;var ne=function(le){O(ue,le);var Ce=p(ue);function ue(be){return M(this,ue),Ce.call(this,be,"AbortException")}return ue}(Fe);r.AbortException=ne;var Q=/\x00+/g,se=/[\x01-\x1F]/g;function ie(le){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof le!="string"?(fe("The argument for removeNullCharacters must be a string."),le):(Ce&&(le=le.replace(se," ")),le.replace(Q,""))}function J(le){ye(le!==null&&C(le)==="object"&&le.length!==void 0,"Invalid argument for bytesToString");var Ce=le.length,ue=8192;if(Ce<ue)return String.fromCharCode.apply(null,le);for(var be=[],ze=0;ze<Ce;ze+=ue){var He=Math.min(ze+ue,Ce),Ze=le.subarray(ze,He);be.push(String.fromCharCode.apply(null,Ze))}return be.join("")}function ve(le){ye(typeof le=="string","Invalid argument for stringToBytes");for(var Ce=le.length,ue=new Uint8Array(Ce),be=0;be<Ce;++be)ue[be]=le.charCodeAt(be)&255;return ue}function ce(le){return le.length!==void 0?le.length:(ye(le.byteLength!==void 0,"arrayByteLength - invalid argument."),le.byteLength)}function Ae(le){var Ce=le.length;if(Ce===1&&le[0]instanceof Uint8Array)return le[0];for(var ue=0,be=0;be<Ce;be++)ue+=ce(le[be]);for(var ze=0,He=new Uint8Array(ue),Ze=0;Ze<Ce;Ze++){var qe=le[Ze];qe instanceof Uint8Array||(typeof qe=="string"?qe=ve(qe):qe=new Uint8Array(qe));var at=qe.byteLength;He.set(qe,ze),ze+=at}return He}function Pe(le){return String.fromCharCode(le>>24&255,le>>16&255,le>>8&255,le&255)}function Le(le){return Object.keys(le).length}function Ne(le){var Ce=Object.create(null),ue=m(le),be;try{for(ue.s();!(be=ue.n()).done;){var ze=f(be.value,2),He=ze[0],Ze=ze[1];Ce[He]=Ze}}catch(qe){ue.e(qe)}finally{ue.f()}return Ce}function Ee(){var le=new Uint8Array(4);le[0]=1;var Ce=new Uint32Array(le.buffer,0,1);return Ce[0]===1}var je={get value(){return xe(this,"value",Ee())}};r.IsLittleEndianCached=je;function Oe(){try{return new Function(""),!0}catch{return!1}}var Ie={get value(){return xe(this,"value",Oe())}};r.IsEvalSupportedCached=Ie;var Ue=i(Array(256).keys()).map(function(le){return le.toString(16).padStart(2,"0")}),Be=function(){function le(){M(this,le)}return a(le,null,[{key:"makeHexColor",value:function(ue,be,ze){return"#".concat(Ue[ue]).concat(Ue[be]).concat(Ue[ze])}},{key:"transform",value:function(ue,be){return[ue[0]*be[0]+ue[2]*be[1],ue[1]*be[0]+ue[3]*be[1],ue[0]*be[2]+ue[2]*be[3],ue[1]*be[2]+ue[3]*be[3],ue[0]*be[4]+ue[2]*be[5]+ue[4],ue[1]*be[4]+ue[3]*be[5]+ue[5]]}},{key:"applyTransform",value:function(ue,be){var ze=ue[0]*be[0]+ue[1]*be[2]+be[4],He=ue[0]*be[1]+ue[1]*be[3]+be[5];return[ze,He]}},{key:"applyInverseTransform",value:function(ue,be){var ze=be[0]*be[3]-be[1]*be[2],He=(ue[0]*be[3]-ue[1]*be[2]+be[2]*be[5]-be[4]*be[3])/ze,Ze=(-ue[0]*be[1]+ue[1]*be[0]+be[4]*be[1]-be[5]*be[0])/ze;return[He,Ze]}},{key:"getAxialAlignedBoundingBox",value:function(ue,be){var ze=le.applyTransform(ue,be),He=le.applyTransform(ue.slice(2,4),be),Ze=le.applyTransform([ue[0],ue[3]],be),qe=le.applyTransform([ue[2],ue[1]],be);return[Math.min(ze[0],He[0],Ze[0],qe[0]),Math.min(ze[1],He[1],Ze[1],qe[1]),Math.max(ze[0],He[0],Ze[0],qe[0]),Math.max(ze[1],He[1],Ze[1],qe[1])]}},{key:"inverseTransform",value:function(ue){var be=ue[0]*ue[3]-ue[1]*ue[2];return[ue[3]/be,-ue[1]/be,-ue[2]/be,ue[0]/be,(ue[2]*ue[5]-ue[4]*ue[3])/be,(ue[4]*ue[1]-ue[5]*ue[0])/be]}},{key:"apply3dTransform",value:function(ue,be){return[ue[0]*be[0]+ue[1]*be[1]+ue[2]*be[2],ue[3]*be[0]+ue[4]*be[1]+ue[5]*be[2],ue[6]*be[0]+ue[7]*be[1]+ue[8]*be[2]]}},{key:"singularValueDecompose2dScale",value:function(ue){var be=[ue[0],ue[2],ue[1],ue[3]],ze=ue[0]*be[0]+ue[1]*be[2],He=ue[0]*be[1]+ue[1]*be[3],Ze=ue[2]*be[0]+ue[3]*be[2],qe=ue[2]*be[1]+ue[3]*be[3],at=(ze+qe)/2,st=Math.sqrt(Math.pow(ze+qe,2)-4*(ze*qe-Ze*He))/2,vt=at+st||1,dt=at-st||1;return[Math.sqrt(vt),Math.sqrt(dt)]}},{key:"normalizeRect",value:function(ue){var be=ue.slice(0);return ue[0]>ue[2]&&(be[0]=ue[2],be[2]=ue[0]),ue[1]>ue[3]&&(be[1]=ue[3],be[3]=ue[1]),be}},{key:"intersect",value:function(ue,be){function ze(at,st){return at-st}var He=[ue[0],ue[2],be[0],be[2]].sort(ze),Ze=[ue[1],ue[3],be[1],be[3]].sort(ze),qe=[];if(ue=le.normalizeRect(ue),be=le.normalizeRect(be),He[0]===ue[0]&&He[1]===be[0]||He[0]===be[0]&&He[1]===ue[0])qe[0]=He[1],qe[2]=He[2];else return null;if(Ze[0]===ue[1]&&Ze[1]===be[1]||Ze[0]===be[1]&&Ze[1]===ue[1])qe[1]=Ze[1],qe[3]=Ze[2];else return null;return qe}},{key:"bezierBoundingBox",value:function(ue,be,ze,He,Ze,qe,at,st){for(var vt=[],dt=[[],[]],At,yt,Mt,it,$t,jt,ar,qt,Ht=0;Ht<2;++Ht){if(Ht===0?(yt=6*ue-12*ze+6*Ze,At=-3*ue+9*ze-9*Ze+3*at,Mt=3*ze-3*ue):(yt=6*be-12*He+6*qe,At=-3*be+9*He-9*qe+3*st,Mt=3*He-3*be),Math.abs(At)<1e-12){if(Math.abs(yt)<1e-12)continue;it=-Mt/yt,0<it&&it<1&&vt.push(it);continue}ar=yt*yt-4*Mt*At,qt=Math.sqrt(ar),!(ar<0)&&($t=(-yt+qt)/(2*At),0<$t&&$t<1&&vt.push($t),jt=(-yt-qt)/(2*At),0<jt&&jt<1&&vt.push(jt))}for(var bt=vt.length,ft,Dt=bt;bt--;)it=vt[bt],ft=1-it,dt[0][bt]=ft*ft*ft*ue+3*ft*ft*it*ze+3*ft*it*it*Ze+it*it*it*at,dt[1][bt]=ft*ft*ft*be+3*ft*ft*it*He+3*ft*it*it*qe+it*it*it*st;return dt[0][Dt]=ue,dt[1][Dt]=be,dt[0][Dt+1]=at,dt[1][Dt+1]=st,dt[0].length=dt[1].length=Dt+2,[Math.min.apply(Math,i(dt[0])),Math.min.apply(Math,i(dt[1])),Math.max.apply(Math,i(dt[0])),Math.max.apply(Math,i(dt[1]))]}}]),le}();r.Util=Be;var Ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ve(le){var Ce=le.length,ue=[];if(le[0]==="\xFE"&&le[1]==="\xFF")for(var be=2;be<Ce;be+=2)ue.push(String.fromCharCode(le.charCodeAt(be)<<8|le.charCodeAt(be+1)));else if(le[0]==="\xFF"&&le[1]==="\xFE")for(var ze=2;ze<Ce;ze+=2)ue.push(String.fromCharCode(le.charCodeAt(ze+1)<<8|le.charCodeAt(ze)));else for(var He=0;He<Ce;++He){var Ze=Ye[le.charCodeAt(He)];ue.push(Ze?String.fromCharCode(Ze):le.charAt(He))}return ue.join("")}function Je(le){return le.replace(/([()\\\n\r])/g,function(Ce){return Ce===`
`?"\\n":Ce==="\r"?"\\r":"\\".concat(Ce)})}function nt(le){return/^[\x00-\x7F]*$/.test(le)}function ot(le){for(var Ce=["\xFE\xFF"],ue=0,be=le.length;ue<be;ue++){var ze=le.charCodeAt(ue);Ce.push(String.fromCharCode(ze>>8&255),String.fromCharCode(ze&255))}return Ce.join("")}function mt(le){return decodeURIComponent(escape(le))}function pt(le){return unescape(encodeURIComponent(le))}function kt(le){return typeof le=="boolean"}function Xt(le){return typeof le=="number"}function Ot(le){return typeof le=="string"}function It(le){return C(le)==="object"&&le!==null&&le.byteLength!==void 0}function Ft(le,Ce){if(le.length!==Ce.length)return!1;for(var ue=0,be=le.length;ue<be;ue++)if(le[ue]!==Ce[ue])return!1;return!0}function Vt(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date,Ce=[le.getUTCFullYear().toString(),(le.getUTCMonth()+1).toString().padStart(2,"0"),le.getUTCDate().toString().padStart(2,"0"),le.getUTCHours().toString().padStart(2,"0"),le.getUTCMinutes().toString().padStart(2,"0"),le.getUTCSeconds().toString().padStart(2,"0")];return Ce.join("")}function wt(){var le=Object.create(null),Ce=!1;return Object.defineProperty(le,"settled",{get:function(){return Ce}}),le.promise=new Promise(function(ue,be){le.resolve=function(ze){Ce=!0,ue(ze)},le.reject=function(ze){Ce=!0,be(ze)}}),le}function Pt(le){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!ue)return URL.createObjectURL(new Blob([le],{type:Ce}));for(var be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ze="data:".concat(Ce,";base64,"),He=0,Ze=le.length;He<Ze;He+=3){var qe=le[He]&255,at=le[He+1]&255,st=le[He+2]&255,vt=qe>>2,dt=(qe&3)<<4|at>>4,At=He+1<Ze?(at&15)<<2|st>>6:64,yt=He+2<Ze?st&63:64;ze+=be[vt]+be[dt]+be[At]+be[yt]}return ze}},(e,r,t)=>{var n=t(6);(typeof globalThis>"u"||!globalThis._pdfjsCompatibilityChecked)&&((typeof globalThis>"u"||globalThis.Math!==Math)&&(globalThis=t(7)),globalThis._pdfjsCompatibilityChecked=!0,function(){globalThis.btoa||!n.isNodeJS||(globalThis.btoa=function(i){return Buffer.from(i,"binary").toString("base64")})}(),function(){globalThis.atob||!n.isNodeJS||(globalThis.atob=function(i){return Buffer.from(i,"base64").toString("binary")})}(),function(){globalThis.DOMMatrix||!n.isNodeJS||(globalThis.DOMMatrix=t(69))}(),function(){Object.fromEntries||t(70)}(),function(){globalThis.Promise.allSettled||(globalThis.Promise=t(97))}(),function(){globalThis.ReadableStream||!n.isNodeJS||(globalThis.ReadableStream=t(134).ReadableStream)}())},(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isNodeJS=void 0;function t(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(o){return typeof o}:t=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t(a)}var n=(typeof browser$1>"u"?"undefined":t(browser$1))==="object"&&browser$1+""=="[object process]"&&!browser$1.versions.nw&&!(browser$1.versions.electron&&browser$1.type&&browser$1.type!=="browser");r.isNodeJS=n},(e,r,t)=>{t(8),e.exports=t(10)},(e,r,t)=>{var n=t(9),a=t(10);n({global:!0},{globalThis:a})},(e,r,t)=>{var n=t(10),a=t(11).f,i=t(47),o=t(50),s=t(41),l=t(57),f=t(68);e.exports=function(c,w){var R=c.target,m=c.global,E=c.stat,I,C,M,O,D,p;if(m?C=n:E?C=n[R]||s(R,{}):C=(n[R]||{}).prototype,C)for(M in w){if(D=w[M],c.noTargetGet?(p=a(C,M),O=p&&p.value):O=C[M],I=f(m?M:R+(E?".":"#")+M,c.forced),!I&&O!==void 0){if(typeof D==typeof O)continue;l(D,O)}(c.sham||O&&O.sham)&&i(D,"sham",!0),o(C,M,D,c)}}},e=>{var r=function(t){return t&&t.Math==Math&&t};e.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")()},(e,r,t)=>{var n=t(12),a=t(14),i=t(15),o=t(16),s=t(17),l=t(22),f=t(42),c=t(45),w=Object.getOwnPropertyDescriptor;r.f=n?w:function(m,E){if(m=s(m),E=l(E),c)try{return w(m,E)}catch{}if(f(m,E))return o(!a(i.f,m,E),m[E])}},(e,r,t)=>{var n=t(13);e.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},e=>{e.exports=function(r){try{return!!r()}catch{return!0}}},e=>{var r=Function.prototype.call;e.exports=r.bind?r.bind(r):function(){return r.apply(r,arguments)}},(e,r)=>{var t={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!t.call({1:2},1);r.f=a?function(o){var s=n(this,o);return!!s&&s.enumerable}:t},e=>{e.exports=function(r,t){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:t}}},(e,r,t)=>{var n=t(18),a=t(21);e.exports=function(i){return n(a(i))}},(e,r,t)=>{var n=t(10),a=t(19),i=t(13),o=t(20),s=n.Object,l=a("".split);e.exports=i(function(){return!s("z").propertyIsEnumerable(0)})?function(f){return o(f)=="String"?l(f,""):s(f)}:s},e=>{var r=Function.prototype,t=r.bind,n=r.call,a=t&&t.bind(n);e.exports=t?function(i){return i&&a(n,i)}:function(i){return i&&function(){return n.apply(i,arguments)}}},(e,r,t)=>{var n=t(19),a=n({}.toString),i=n("".slice);e.exports=function(o){return i(a(o),8,-1)}},(e,r,t)=>{var n=t(10),a=n.TypeError;e.exports=function(i){if(i==null)throw a("Can't call method on "+i);return i}},(e,r,t)=>{var n=t(23),a=t(26);e.exports=function(i){var o=n(i,"string");return a(o)?o:o+""}},(e,r,t)=>{var n=t(10),a=t(14),i=t(24),o=t(26),s=t(33),l=t(36),f=t(37),c=n.TypeError,w=f("toPrimitive");e.exports=function(R,m){if(!i(R)||o(R))return R;var E=s(R,w),I;if(E){if(m===void 0&&(m="default"),I=a(E,R,m),!i(I)||o(I))return I;throw c("Can't convert object to primitive value")}return m===void 0&&(m="number"),l(R,m)}},(e,r,t)=>{var n=t(25);e.exports=function(a){return typeof a=="object"?a!==null:n(a)}},e=>{e.exports=function(r){return typeof r=="function"}},(e,r,t)=>{var n=t(10),a=t(27),i=t(25),o=t(28),s=t(29),l=n.Object;e.exports=s?function(f){return typeof f=="symbol"}:function(f){var c=a("Symbol");return i(c)&&o(c.prototype,l(f))}},(e,r,t)=>{var n=t(10),a=t(25),i=function(o){return a(o)?o:void 0};e.exports=function(o,s){return arguments.length<2?i(n[o]):n[o]&&n[o][s]}},(e,r,t)=>{var n=t(19);e.exports=n({}.isPrototypeOf)},(e,r,t)=>{var n=t(30);e.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(e,r,t)=>{var n=t(31),a=t(13);e.exports=!!Object.getOwnPropertySymbols&&!a(function(){var i=Symbol();return!String(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&n&&n<41})},(e,r,t)=>{var n=t(10),a=t(32),i=n.process,o=n.Deno,s=i&&i.versions||o&&o.version,l=s&&s.v8,f,c;l&&(f=l.split("."),c=f[0]>0&&f[0]<4?1:+(f[0]+f[1])),!c&&a&&(f=a.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=a.match(/Chrome\/(\d+)/),f&&(c=+f[1]))),e.exports=c},(e,r,t)=>{var n=t(27);e.exports=n("navigator","userAgent")||""},(e,r,t)=>{var n=t(34);e.exports=function(a,i){var o=a[i];return o==null?void 0:n(o)}},(e,r,t)=>{var n=t(10),a=t(25),i=t(35),o=n.TypeError;e.exports=function(s){if(a(s))return s;throw o(i(s)+" is not a function")}},(e,r,t)=>{var n=t(10),a=n.String;e.exports=function(i){try{return a(i)}catch{return"Object"}}},(e,r,t)=>{var n=t(10),a=t(14),i=t(25),o=t(24),s=n.TypeError;e.exports=function(l,f){var c,w;if(f==="string"&&i(c=l.toString)&&!o(w=a(c,l))||i(c=l.valueOf)&&!o(w=a(c,l))||f!=="string"&&i(c=l.toString)&&!o(w=a(c,l)))return w;throw s("Can't convert object to primitive value")}},(e,r,t)=>{var n=t(10),a=t(38),i=t(42),o=t(44),s=t(30),l=t(29),f=a("wks"),c=n.Symbol,w=c&&c.for,R=l?c:c&&c.withoutSetter||o;e.exports=function(m){if(!i(f,m)||!(s||typeof f[m]=="string")){var E="Symbol."+m;s&&i(c,m)?f[m]=c[m]:l&&w?f[m]=w(E):f[m]=R(E)}return f[m]}},(e,r,t)=>{var n=t(39),a=t(40);(e.exports=function(i,o){return a[i]||(a[i]=o!==void 0?o:{})})("versions",[]).push({version:"3.19.3",mode:n?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},e=>{e.exports=!1},(e,r,t)=>{var n=t(10),a=t(41),i="__core-js_shared__",o=n[i]||a(i,{});e.exports=o},(e,r,t)=>{var n=t(10),a=Object.defineProperty;e.exports=function(i,o){try{a(n,i,{value:o,configurable:!0,writable:!0})}catch{n[i]=o}return o}},(e,r,t)=>{var n=t(19),a=t(43),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(s,l){return i(a(s),l)}},(e,r,t)=>{var n=t(10),a=t(21),i=n.Object;e.exports=function(o){return i(a(o))}},(e,r,t)=>{var n=t(19),a=0,i=Math.random(),o=n(1 .toString);e.exports=function(s){return"Symbol("+(s===void 0?"":s)+")_"+o(++a+i,36)}},(e,r,t)=>{var n=t(12),a=t(13),i=t(46);e.exports=!n&&!a(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!=7})},(e,r,t)=>{var n=t(10),a=t(24),i=n.document,o=a(i)&&a(i.createElement);e.exports=function(s){return o?i.createElement(s):{}}},(e,r,t)=>{var n=t(12),a=t(48),i=t(16);e.exports=n?function(o,s,l){return a.f(o,s,i(1,l))}:function(o,s,l){return o[s]=l,o}},(e,r,t)=>{var n=t(10),a=t(12),i=t(45),o=t(49),s=t(22),l=n.TypeError,f=Object.defineProperty;r.f=a?f:function(w,R,m){if(o(w),R=s(R),o(m),i)try{return f(w,R,m)}catch{}if("get"in m||"set"in m)throw l("Accessors not supported");return"value"in m&&(w[R]=m.value),w}},(e,r,t)=>{var n=t(10),a=t(24),i=n.String,o=n.TypeError;e.exports=function(s){if(a(s))return s;throw o(i(s)+" is not an object")}},(e,r,t)=>{var n=t(10),a=t(25),i=t(42),o=t(47),s=t(41),l=t(51),f=t(52),c=t(56).CONFIGURABLE,w=f.get,R=f.enforce,m=String(String).split("String");(e.exports=function(E,I,C,M){var O=M?!!M.unsafe:!1,D=M?!!M.enumerable:!1,p=M?!!M.noTargetGet:!1,h=M&&M.name!==void 0?M.name:I,y;if(a(C)&&(String(h).slice(0,7)==="Symbol("&&(h="["+String(h).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(C,"name")||c&&C.name!==h)&&o(C,"name",h),y=R(C),y.source||(y.source=m.join(typeof h=="string"?h:""))),E===n){D?E[I]=C:s(I,C);return}else O?!p&&E[I]&&(D=!0):delete E[I];D?E[I]=C:o(E,I,C)})(Function.prototype,"toString",function(){return a(this)&&w(this).source||l(this)})},(e,r,t)=>{var n=t(19),a=t(25),i=t(40),o=n(Function.toString);a(i.inspectSource)||(i.inspectSource=function(s){return o(s)}),e.exports=i.inspectSource},(e,r,t)=>{var n=t(53),a=t(10),i=t(19),o=t(24),s=t(47),l=t(42),f=t(40),c=t(54),w=t(55),R="Object already initialized",m=a.TypeError,E=a.WeakMap,I,C,M,O=function(_){return M(_)?C(_):I(_,{})},D=function(_){return function(k){var L;if(!o(k)||(L=C(k)).type!==_)throw m("Incompatible receiver, "+_+" required");return L}};if(n||f.state){var p=f.state||(f.state=new E),h=i(p.get),y=i(p.has),A=i(p.set);I=function(_,k){if(y(p,_))throw new m(R);return k.facade=_,A(p,_,k),k},C=function(_){return h(p,_)||{}},M=function(_){return y(p,_)}}else{var T=c("state");w[T]=!0,I=function(_,k){if(l(_,T))throw new m(R);return k.facade=_,s(_,T,k),k},C=function(_){return l(_,T)?_[T]:{}},M=function(_){return l(_,T)}}e.exports={set:I,get:C,has:M,enforce:O,getterFor:D}},(e,r,t)=>{var n=t(10),a=t(25),i=t(51),o=n.WeakMap;e.exports=a(o)&&/native code/.test(i(o))},(e,r,t)=>{var n=t(38),a=t(44),i=n("keys");e.exports=function(o){return i[o]||(i[o]=a(o))}},e=>{e.exports={}},(e,r,t)=>{var n=t(12),a=t(42),i=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,s=a(i,"name"),l=s&&function(){}.name==="something",f=s&&(!n||n&&o(i,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:f}},(e,r,t)=>{var n=t(42),a=t(58),i=t(11),o=t(48);e.exports=function(s,l){for(var f=a(l),c=o.f,w=i.f,R=0;R<f.length;R++){var m=f[R];n(s,m)||c(s,m,w(l,m))}}},(e,r,t)=>{var n=t(27),a=t(19),i=t(59),o=t(67),s=t(49),l=a([].concat);e.exports=n("Reflect","ownKeys")||function(c){var w=i.f(s(c)),R=o.f;return R?l(w,R(c)):w}},(e,r,t)=>{var n=t(60),a=t(66),i=a.concat("length","prototype");r.f=Object.getOwnPropertyNames||function(s){return n(s,i)}},(e,r,t)=>{var n=t(19),a=t(42),i=t(17),o=t(61).indexOf,s=t(55),l=n([].push);e.exports=function(f,c){var w=i(f),R=0,m=[],E;for(E in w)!a(s,E)&&a(w,E)&&l(m,E);for(;c.length>R;)a(w,E=c[R++])&&(~o(m,E)||l(m,E));return m}},(e,r,t)=>{var n=t(17),a=t(62),i=t(64),o=function(s){return function(l,f,c){var w=n(l),R=i(w),m=a(c,R),E;if(s&&f!=f){for(;R>m;)if(E=w[m++],E!=E)return!0}else for(;R>m;m++)if((s||m in w)&&w[m]===f)return s||m||0;return!s&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},(e,r,t)=>{var n=t(63),a=Math.max,i=Math.min;e.exports=function(o,s){var l=n(o);return l<0?a(l+s,0):i(l,s)}},e=>{var r=Math.ceil,t=Math.floor;e.exports=function(n){var a=+n;return a!==a||a===0?0:(a>0?t:r)(a)}},(e,r,t)=>{var n=t(65);e.exports=function(a){return n(a.length)}},(e,r,t)=>{var n=t(63),a=Math.min;e.exports=function(i){return i>0?a(n(i),9007199254740991):0}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(e,r)=>{r.f=Object.getOwnPropertySymbols},(e,r,t)=>{var n=t(13),a=t(25),i=/#|\.prototype\./,o=function(w,R){var m=l[s(w)];return m==c?!0:m==f?!1:a(R)?n(R):!!R},s=o.normalize=function(w){return String(w).replace(i,".").toLowerCase()},l=o.data={},f=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},(e,r,t)=>{var n,a;function i(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(l){return typeof l}:i=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},i(o)}(function(o,s){i(r)==="object"?e.exports=s():(n=s,a=typeof n=="function"?n.call(r,t,r,e):n,a!==void 0&&(e.exports=a))})(void 0,function(){function o(p){var h=new C,y=Array.from(p);if(!y.every(function(we){return!Number.isNaN(we)}))throw TypeError('CSSMatrix: "'+p+'" must only have numbers.');if(y.length===16){var A=y[0],T=y[1],_=y[2],k=y[3],L=y[4],j=y[5],W=y[6],V=y[7],te=y[8],q=y[9],ae=y[10],X=y[11],K=y[12],P=y[13],S=y[14],F=y[15];h.m11=A,h.a=A,h.m21=L,h.c=L,h.m31=te,h.m41=K,h.e=K,h.m12=T,h.b=T,h.m22=j,h.d=j,h.m32=q,h.m42=P,h.f=P,h.m13=_,h.m23=W,h.m33=ae,h.m43=S,h.m14=k,h.m24=V,h.m34=X,h.m44=F}else if(y.length===6){var N=y[0],G=y[1],ee=y[2],Y=y[3],he=y[4],Se=y[5];h.m11=N,h.a=N,h.m12=G,h.b=G,h.m21=ee,h.c=ee,h.m22=Y,h.d=Y,h.m41=he,h.e=he,h.m42=Se,h.f=Se}else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return h}function s(p){var h=Object.keys(new C);if(i(p)==="object"&&h.every(function(y){return y in p}))return o([p.m11,p.m12,p.m13,p.m14,p.m21,p.m22,p.m23,p.m24,p.m31,p.m32,p.m33,p.m34,p.m41,p.m42,p.m43,p.m44]);throw TypeError('CSSMatrix: "'+p+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function l(p){if(typeof p!="string")throw TypeError('CSSMatrix: "'+p+'" is not a string.');var h=String(p).replace(/\s/g,""),y=new C,A='CSSMatrix: invalid transform string "'+p+'"';return h.split(")").filter(function(T){return T}).forEach(function(T){var _=T.split("("),k=_[0],L=_[1];if(!L)throw TypeError(A);var j=L.split(",").map(function(Y){return Y.includes("rad")?parseFloat(Y)*(180/Math.PI):parseFloat(Y)}),W=j[0],V=j[1],te=j[2],q=j[3],ae=[W,V,te],X=[W,V,te,q];if(k==="perspective"&&W&&[V,te].every(function(Y){return Y===void 0}))y.m34=-1/W;else if(k.includes("matrix")&&[6,16].includes(j.length)&&j.every(function(Y){return!Number.isNaN(+Y)})){var K=j.map(function(Y){return Math.abs(Y)<1e-6?0:Y});y=y.multiply(o(K))}else if(k==="translate3d"&&ae.every(function(Y){return!Number.isNaN(+Y)}))y=y.translate(W,V,te);else if(k==="translate"&&W&&te===void 0)y=y.translate(W,V||0,0);else if(k==="rotate3d"&&X.every(function(Y){return!Number.isNaN(+Y)})&&q)y=y.rotateAxisAngle(W,V,te,q);else if(k==="rotate"&&W&&[V,te].every(function(Y){return Y===void 0}))y=y.rotate(0,0,W);else if(k==="scale3d"&&ae.every(function(Y){return!Number.isNaN(+Y)})&&ae.some(function(Y){return Y!==1}))y=y.scale(W,V,te);else if(k==="scale"&&!Number.isNaN(W)&&W!==1&&te===void 0){var P=Number.isNaN(+V),S=P?W:V;y=y.scale(W,S,1)}else if(k==="skew"&&W&&te===void 0)y=y.skewX(W),y=V?y.skewY(V):y;else if(/[XYZ]/.test(k)&&W&&[V,te].every(function(Y){return Y===void 0})&&["translate","rotate","scale","skew"].some(function(Y){return k.includes(Y)}))if(["skewX","skewY"].includes(k))y=y[k](W);else{var F=k.replace(/[XYZ]/,""),N=k.replace(F,""),G=["X","Y","Z"].indexOf(N),ee=[G===0?W:0,G===1?W:0,G===2?W:0];y=y[F].apply(y,ee)}else throw TypeError(A)}),y}function f(p,h,y){var A=new C;return A.m41=p,A.e=p,A.m42=h,A.f=h,A.m43=y,A}function c(p,h,y){var A=new C,T=Math.PI/180,_=p*T,k=h*T,L=y*T,j=Math.cos(_),W=-Math.sin(_),V=Math.cos(k),te=-Math.sin(k),q=Math.cos(L),ae=-Math.sin(L),X=V*q,K=-V*ae;A.m11=X,A.a=X,A.m12=K,A.b=K,A.m13=te;var P=W*te*q+j*ae;A.m21=P,A.c=P;var S=j*q-W*te*ae;return A.m22=S,A.d=S,A.m23=-W*V,A.m31=W*ae-j*te*q,A.m32=W*q+j*te*ae,A.m33=j*V,A}function w(p,h,y,A){var T=new C,_=A*(Math.PI/360),k=Math.sin(_),L=Math.cos(_),j=k*k,W=Math.sqrt(p*p+h*h+y*y),V=p,te=h,q=y;W===0?(V=0,te=0,q=1):(V/=W,te/=W,q/=W);var ae=V*V,X=te*te,K=q*q,P=1-2*(X+K)*j;T.m11=P,T.a=P;var S=2*(V*te*j+q*k*L);T.m12=S,T.b=S,T.m13=2*(V*q*j-te*k*L);var F=2*(te*V*j-q*k*L);T.m21=F,T.c=F;var N=1-2*(K+ae)*j;return T.m22=N,T.d=N,T.m23=2*(te*q*j+V*k*L),T.m31=2*(q*V*j+te*k*L),T.m32=2*(q*te*j-V*k*L),T.m33=1-2*(ae+X)*j,T}function R(p,h,y){var A=new C;return A.m11=p,A.a=p,A.m22=h,A.d=h,A.m33=y,A}function m(p){var h=new C,y=p*Math.PI/180,A=Math.tan(y);return h.m21=A,h.c=A,h}function E(p){var h=new C,y=p*Math.PI/180,A=Math.tan(y);return h.m12=A,h.b=A,h}function I(p,h){var y=h.m11*p.m11+h.m12*p.m21+h.m13*p.m31+h.m14*p.m41,A=h.m11*p.m12+h.m12*p.m22+h.m13*p.m32+h.m14*p.m42,T=h.m11*p.m13+h.m12*p.m23+h.m13*p.m33+h.m14*p.m43,_=h.m11*p.m14+h.m12*p.m24+h.m13*p.m34+h.m14*p.m44,k=h.m21*p.m11+h.m22*p.m21+h.m23*p.m31+h.m24*p.m41,L=h.m21*p.m12+h.m22*p.m22+h.m23*p.m32+h.m24*p.m42,j=h.m21*p.m13+h.m22*p.m23+h.m23*p.m33+h.m24*p.m43,W=h.m21*p.m14+h.m22*p.m24+h.m23*p.m34+h.m24*p.m44,V=h.m31*p.m11+h.m32*p.m21+h.m33*p.m31+h.m34*p.m41,te=h.m31*p.m12+h.m32*p.m22+h.m33*p.m32+h.m34*p.m42,q=h.m31*p.m13+h.m32*p.m23+h.m33*p.m33+h.m34*p.m43,ae=h.m31*p.m14+h.m32*p.m24+h.m33*p.m34+h.m34*p.m44,X=h.m41*p.m11+h.m42*p.m21+h.m43*p.m31+h.m44*p.m41,K=h.m41*p.m12+h.m42*p.m22+h.m43*p.m32+h.m44*p.m42,P=h.m41*p.m13+h.m42*p.m23+h.m43*p.m33+h.m44*p.m43,S=h.m41*p.m14+h.m42*p.m24+h.m43*p.m34+h.m44*p.m44;return o([y,A,T,_,k,L,j,W,V,te,q,ae,X,K,P,S])}var C=function(){for(var h=[],y=arguments.length;y--;)h[y]=arguments[y];var A=this;if(A.a=1,A.b=0,A.c=0,A.d=1,A.e=0,A.f=0,A.m11=1,A.m12=0,A.m13=0,A.m14=0,A.m21=0,A.m22=1,A.m23=0,A.m24=0,A.m31=0,A.m32=0,A.m33=1,A.m34=0,A.m41=0,A.m42=0,A.m43=0,A.m44=1,h&&h.length){var T=[16,6].some(function(_){return _===h.length})?h:h[0];return A.setMatrixValue(T)}return A},M={isIdentity:{configurable:!0},is2D:{configurable:!0}};M.isIdentity.set=function(p){this.isIdentity=p},M.isIdentity.get=function(){var p=this;return p.m11===1&&p.m12===0&&p.m13===0&&p.m14===0&&p.m21===0&&p.m22===1&&p.m23===0&&p.m24===0&&p.m31===0&&p.m32===0&&p.m33===1&&p.m34===0&&p.m41===0&&p.m42===0&&p.m43===0&&p.m44===1},M.is2D.get=function(){var p=this;return p.m31===0&&p.m32===0&&p.m33===1&&p.m34===0&&p.m43===0&&p.m44===1},M.is2D.set=function(p){this.is2D=p},C.prototype.setMatrixValue=function(h){var y=this;return[Array,Float64Array,Float32Array].some(function(A){return h instanceof A})?o(h):typeof h=="string"&&h.length&&h!=="none"?l(h):i(h)==="object"?s(h):y},C.prototype.toArray=function(){var h=this,y=Math.pow(10,6),A;return h.is2D?A=[h.a,h.b,h.c,h.d,h.e,h.f]:A=[h.m11,h.m12,h.m13,h.m14,h.m21,h.m22,h.m23,h.m24,h.m31,h.m32,h.m33,h.m34,h.m41,h.m42,h.m43,h.m44],A.map(function(T){return Math.abs(T)<1e-6?0:(T*y>>0)/y})},C.prototype.toString=function(){var h=this,y=h.toArray(),A=h.is2D?"matrix":"matrix3d";return A+"("+y+")"},C.prototype.toJSON=function(){var h=this,y=h.is2D,A=h.isIdentity;return Object.assign({},h,{is2D:y,isIdentity:A})},C.prototype.multiply=function(h){return I(this,h)},C.prototype.translate=function(h,y,A){var T=h,_=y,k=A;return k===void 0&&(k=0),_===void 0&&(_=0),I(this,f(T,_,k))},C.prototype.scale=function(h,y,A){var T=h,_=y,k=A;return _===void 0&&(_=h),k===void 0&&(k=1),I(this,R(T,_,k))},C.prototype.rotate=function(h,y,A){var T=h,_=y,k=A;return _===void 0&&(_=0),k===void 0&&(k=T,T=0),I(this,c(T,_,k))},C.prototype.rotateAxisAngle=function(h,y,A,T){if([h,y,A,T].some(function(_){return Number.isNaN(_)}))throw new TypeError("CSSMatrix: expecting 4 values");return I(this,w(h,y,A,T))},C.prototype.skewX=function(h){return I(this,m(h))},C.prototype.skewY=function(h){return I(this,E(h))},C.prototype.transformPoint=function(h){var y=this,A=f(h.x,h.y,h.z);return A.m44=h.w||1,A=y.multiply(A),{x:A.m41,y:A.m42,z:A.m43,w:A.m44}},C.prototype.transform=function(h){var y=this,A=y.m11*h.x+y.m12*h.y+y.m13*h.z+y.m14*h.w,T=y.m21*h.x+y.m22*h.y+y.m23*h.z+y.m24*h.w,_=y.m31*h.x+y.m32*h.y+y.m33*h.z+y.m34*h.w,k=y.m41*h.x+y.m42*h.y+y.m43*h.z+y.m44*h.w;return{x:A/k,y:T/k,z:_/k,w:k}},Object.defineProperties(C.prototype,M),Object.assign(C,{Translate:f,Rotate:c,RotateAxisAngle:w,Scale:R,SkewX:m,SkewY:E,Multiply:I,fromArray:o,fromMatrix:s,fromString:l});var O="0.0.24",D=O;return Object.assign(C,{Version:D}),C})},(e,r,t)=>{t(71),t(86);var n=t(96);e.exports=n.Object.fromEntries},(e,r,t)=>{var n=t(17),a=t(72),i=t(77),o=t(52),s=t(78),l="Array Iterator",f=o.set,c=o.getterFor(l);e.exports=s(Array,"Array",function(w,R){f(this,{type:l,target:n(w),index:0,kind:R})},function(){var w=c(this),R=w.target,m=w.kind,E=w.index++;return!R||E>=R.length?(w.target=void 0,{value:void 0,done:!0}):m=="keys"?{value:E,done:!1}:m=="values"?{value:R[E],done:!1}:{value:[E,R[E]],done:!1}},"values"),i.Arguments=i.Array,a("keys"),a("values"),a("entries")},(e,r,t)=>{var n=t(37),a=t(73),i=t(48),o=n("unscopables"),s=Array.prototype;s[o]==null&&i.f(s,o,{configurable:!0,value:a(null)}),e.exports=function(l){s[o][l]=!0}},(e,r,t)=>{var n=t(49),a=t(74),i=t(66),o=t(55),s=t(76),l=t(46),f=t(54),c=">",w="<",R="prototype",m="script",E=f("IE_PROTO"),I=function(){},C=function(h){return w+m+c+h+w+"/"+m+c},M=function(h){h.write(C("")),h.close();var y=h.parentWindow.Object;return h=null,y},O=function(){var h=l("iframe"),y="java"+m+":",A;return h.style.display="none",s.appendChild(h),h.src=String(y),A=h.contentWindow.document,A.open(),A.write(C("document.F=Object")),A.close(),A.F},D,p=function(){try{D=new ActiveXObject("htmlfile")}catch{}p=typeof document<"u"?document.domain&&D?M(D):O():M(D);for(var h=i.length;h--;)delete p[R][i[h]];return p()};o[E]=!0,e.exports=Object.create||function(y,A){var T;return y!==null?(I[R]=n(y),T=new I,I[R]=null,T[E]=y):T=p(),A===void 0?T:a(T,A)}},(e,r,t)=>{var n=t(12),a=t(48),i=t(49),o=t(17),s=t(75);e.exports=n?Object.defineProperties:function(f,c){i(f);for(var w=o(c),R=s(c),m=R.length,E=0,I;m>E;)a.f(f,I=R[E++],w[I]);return f}},(e,r,t)=>{var n=t(60),a=t(66);e.exports=Object.keys||function(o){return n(o,a)}},(e,r,t)=>{var n=t(27);e.exports=n("document","documentElement")},e=>{e.exports={}},(e,r,t)=>{var n=t(9),a=t(14),i=t(39),o=t(56),s=t(25),l=t(79),f=t(81),c=t(84),w=t(83),R=t(47),m=t(50),E=t(37),I=t(77),C=t(80),M=o.PROPER,O=o.CONFIGURABLE,D=C.IteratorPrototype,p=C.BUGGY_SAFARI_ITERATORS,h=E("iterator"),y="keys",A="values",T="entries",_=function(){return this};e.exports=function(k,L,j,W,V,te,q){l(j,L,W);var ae=function(he){if(he===V&&F)return F;if(!p&&he in P)return P[he];switch(he){case y:return function(){return new j(this,he)};case A:return function(){return new j(this,he)};case T:return function(){return new j(this,he)}}return function(){return new j(this)}},X=L+" Iterator",K=!1,P=k.prototype,S=P[h]||P["@@iterator"]||V&&P[V],F=!p&&S||ae(V),N=L=="Array"&&P.entries||S,G,ee,Y;if(N&&(G=f(N.call(new k)),G!==Object.prototype&&G.next&&(!i&&f(G)!==D&&(c?c(G,D):s(G[h])||m(G,h,_)),w(G,X,!0,!0),i&&(I[X]=_))),M&&V==A&&S&&S.name!==A&&(!i&&O?R(P,"name",A):(K=!0,F=function(){return a(S,this)})),V)if(ee={values:ae(A),keys:te?F:ae(y),entries:ae(T)},q)for(Y in ee)(p||K||!(Y in P))&&m(P,Y,ee[Y]);else n({target:L,proto:!0,forced:p||K},ee);return(!i||q)&&P[h]!==F&&m(P,h,F,{name:V}),I[L]=F,ee}},(e,r,t)=>{var n=t(80).IteratorPrototype,a=t(73),i=t(16),o=t(83),s=t(77),l=function(){return this};e.exports=function(f,c,w,R){var m=c+" Iterator";return f.prototype=a(n,{next:i(+!R,w)}),o(f,m,!1,!0),s[m]=l,f}},(e,r,t)=>{var n=t(13),a=t(25),i=t(73),o=t(81),s=t(50),l=t(37),f=t(39),c=l("iterator"),w=!1,R,m,E;[].keys&&(E=[].keys(),"next"in E?(m=o(o(E)),m!==Object.prototype&&(R=m)):w=!0);var I=R==null||n(function(){var C={};return R[c].call(C)!==C});I?R={}:f&&(R=i(R)),a(R[c])||s(R,c,function(){return this}),e.exports={IteratorPrototype:R,BUGGY_SAFARI_ITERATORS:w}},(e,r,t)=>{var n=t(10),a=t(42),i=t(25),o=t(43),s=t(54),l=t(82),f=s("IE_PROTO"),c=n.Object,w=c.prototype;e.exports=l?c.getPrototypeOf:function(R){var m=o(R);if(a(m,f))return m[f];var E=m.constructor;return i(E)&&m instanceof E?E.prototype:m instanceof c?w:null}},(e,r,t)=>{var n=t(13);e.exports=!n(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},(e,r,t)=>{var n=t(48).f,a=t(42),i=t(37),o=i("toStringTag");e.exports=function(s,l,f){s&&!a(s=f?s:s.prototype,o)&&n(s,o,{configurable:!0,value:l})}},(e,r,t)=>{var n=t(19),a=t(49),i=t(85);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o=!1,s={},l;try{l=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),l(s,[]),o=s instanceof Array}catch{}return function(c,w){return a(c),i(w),o?l(c,w):c.__proto__=w,c}}():void 0)},(e,r,t)=>{var n=t(10),a=t(25),i=n.String,o=n.TypeError;e.exports=function(s){if(typeof s=="object"||a(s))return s;throw o("Can't set "+i(s)+" as a prototype")}},(e,r,t)=>{var n=t(9),a=t(87),i=t(95);n({target:"Object",stat:!0},{fromEntries:function(s){var l={};return a(s,function(f,c){i(l,f,c)},{AS_ENTRIES:!0}),l}})},(e,r,t)=>{var n=t(10),a=t(88),i=t(14),o=t(49),s=t(35),l=t(89),f=t(64),c=t(28),w=t(90),R=t(91),m=t(94),E=n.TypeError,I=function(M,O){this.stopped=M,this.result=O},C=I.prototype;e.exports=function(M,O,D){var p=D&&D.that,h=!!(D&&D.AS_ENTRIES),y=!!(D&&D.IS_ITERATOR),A=!!(D&&D.INTERRUPTED),T=a(O,p),_,k,L,j,W,V,te,q=function(X){return _&&m(_,"normal",X),new I(!0,X)},ae=function(X){return h?(o(X),A?T(X[0],X[1],q):T(X[0],X[1])):A?T(X,q):T(X)};if(y)_=M;else{if(k=R(M),!k)throw E(s(M)+" is not iterable");if(l(k)){for(L=0,j=f(M);j>L;L++)if(W=ae(M[L]),W&&c(C,W))return W;return new I(!1)}_=w(M,k)}for(V=_.next;!(te=i(V,_)).done;){try{W=ae(te.value)}catch(X){m(_,"throw",X)}if(typeof W=="object"&&W&&c(C,W))return W}return new I(!1)}},(e,r,t)=>{var n=t(19),a=t(34),i=n(n.bind);e.exports=function(o,s){return a(o),s===void 0?o:i?i(o,s):function(){return o.apply(s,arguments)}}},(e,r,t)=>{var n=t(37),a=t(77),i=n("iterator"),o=Array.prototype;e.exports=function(s){return s!==void 0&&(a.Array===s||o[i]===s)}},(e,r,t)=>{var n=t(10),a=t(14),i=t(34),o=t(49),s=t(35),l=t(91),f=n.TypeError;e.exports=function(c,w){var R=arguments.length<2?l(c):w;if(i(R))return o(a(R,c));throw f(s(c)+" is not iterable")}},(e,r,t)=>{var n=t(92),a=t(33),i=t(77),o=t(37),s=o("iterator");e.exports=function(l){if(l!=null)return a(l,s)||a(l,"@@iterator")||i[n(l)]}},(e,r,t)=>{var n=t(10),a=t(93),i=t(25),o=t(20),s=t(37),l=s("toStringTag"),f=n.Object,c=o(function(){return arguments}())=="Arguments",w=function(R,m){try{return R[m]}catch{}};e.exports=a?o:function(R){var m,E,I;return R===void 0?"Undefined":R===null?"Null":typeof(E=w(m=f(R),l))=="string"?E:c?o(m):(I=o(m))=="Object"&&i(m.callee)?"Arguments":I}},(e,r,t)=>{var n=t(37),a=n("toStringTag"),i={};i[a]="z",e.exports=String(i)==="[object z]"},(e,r,t)=>{var n=t(14),a=t(49),i=t(33);e.exports=function(o,s,l){var f,c;a(o);try{if(f=i(o,"return"),!f){if(s==="throw")throw l;return l}f=n(f,o)}catch(w){c=!0,f=w}if(s==="throw")throw l;if(c)throw f;return a(f),l}},(e,r,t)=>{var n=t(22),a=t(48),i=t(16);e.exports=function(o,s,l){var f=n(s);f in o?a.f(o,f,i(0,l)):o[f]=l}},(e,r,t)=>{var n=t(10);e.exports=n},(e,r,t)=>{t(98),t(71),t(105),t(107),t(129),t(130),t(131),t(132);var n=t(96);e.exports=n.Promise},(e,r,t)=>{var n=t(9),a=t(10),i=t(28),o=t(81),s=t(84),l=t(57),f=t(73),c=t(47),w=t(16),R=t(99),m=t(101),E=t(87),I=t(102),C=t(37),M=t(104),O=C("toStringTag"),D=a.Error,p=[].push,h=function(T,_){var k=arguments.length>2?arguments[2]:void 0,L=i(y,this),j;s?j=s(new D(void 0),L?o(this):y):(j=L?this:f(y),c(j,O,"Error")),c(j,"message",I(_,"")),M&&c(j,"stack",R(j.stack,1)),m(j,k);var W=[];return E(T,p,{that:W}),c(j,"errors",W),j};s?s(h,D):l(h,D);var y=h.prototype=f(D.prototype,{constructor:w(1,h),message:w(1,""),name:w(1,"AggregateError")});n({global:!0},{AggregateError:h})},(e,r,t)=>{var n=t(19),a=t(100),i=n("".replace),o=n("".split),s=n([].join),l=function(R){return String(Error(R).stack)}("zxcasd"),f=/\n\s*at [^:]*:[^\n]*/,c=f.test(l),w=/@[^\n]*\n/.test(l)&&!/zxcasd/.test(l);e.exports=function(R,m){if(typeof R!="string")return R;if(c)for(;m--;)R=i(R,f,"");else if(w)return s(a(o(R,`
`),m),`
`);return R}},(e,r,t)=>{var n=t(10),a=t(62),i=t(64),o=t(95),s=n.Array,l=Math.max;e.exports=function(f,c,w){for(var R=i(f),m=a(c,R),E=a(w===void 0?R:w,R),I=s(l(E-m,0)),C=0;m<E;m++,C++)o(I,C,f[m]);return I.length=C,I}},(e,r,t)=>{var n=t(24),a=t(47);e.exports=function(i,o){n(o)&&"cause"in o&&a(i,"cause",o.cause)}},(e,r,t)=>{var n=t(103);e.exports=function(a,i){return a===void 0?arguments.length<2?"":i:n(a)}},(e,r,t)=>{var n=t(10),a=t(92),i=n.String;e.exports=function(o){if(a(o)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return i(o)}},(e,r,t)=>{var n=t(13),a=t(16);e.exports=!n(function(){var i=Error("a");return"stack"in i?(Object.defineProperty(i,"stack",a(1,7)),i.stack!==7):!0})},(e,r,t)=>{var n=t(93),a=t(50),i=t(106);n||a(Object.prototype,"toString",i,{unsafe:!0})},(e,r,t)=>{var n=t(93),a=t(92);e.exports=n?{}.toString:function(){return"[object "+a(this)+"]"}},(e,r,t)=>{var n=t(9),a=t(39),i=t(10),o=t(27),s=t(14),l=t(108),f=t(50),c=t(109),w=t(84),R=t(83),m=t(110),E=t(34),I=t(25),C=t(24),M=t(111),O=t(51),D=t(87),p=t(112),h=t(113),y=t(116).set,A=t(121),T=t(124),_=t(126),k=t(125),L=t(127),j=t(52),W=t(68),V=t(37),te=t(128),q=t(120),ae=t(31),X=V("species"),K="Promise",P=j.getterFor(K),S=j.set,F=j.getterFor(K),N=l&&l.prototype,G=l,ee=N,Y=i.TypeError,he=i.document,Se=i.process,we=k.f,$=we,U=!!(he&&he.createEvent&&i.dispatchEvent),b=I(i.PromiseRejectionEvent),g="unhandledrejection",x="rejectionhandled",z=0,H=1,re=2,fe=1,ge=2,ye=!1,me,Te,Re,xe,Fe=W(K,function(){var J=O(G),ve=J!==String(G);if(!ve&&ae===66||a&&!ee.finally)return!0;if(ae>=51&&/native code/.test(J))return!1;var ce=new G(function(Le){Le(1)}),Ae=function(Le){Le(function(){},function(){})},Pe=ce.constructor={};return Pe[X]=Ae,ye=ce.then(function(){})instanceof Ae,ye?!ve&&te&&!b:!0}),Me=Fe||!p(function(J){G.all(J).catch(function(){})}),We=function(J){var ve;return C(J)&&I(ve=J.then)?ve:!1},$e=function(J,ve){if(!J.notified){J.notified=!0;var ce=J.reactions;A(function(){for(var Ae=J.value,Pe=J.state==H,Le=0;ce.length>Le;){var Ne=ce[Le++],Ee=Pe?Ne.ok:Ne.fail,je=Ne.resolve,Oe=Ne.reject,Ie=Ne.domain,Ue,Be,Ye;try{Ee?(Pe||(J.rejection===ge&&ne(J),J.rejection=fe),Ee===!0?Ue=Ae:(Ie&&Ie.enter(),Ue=Ee(Ae),Ie&&(Ie.exit(),Ye=!0)),Ue===Ne.promise?Oe(Y("Promise-chain cycle")):(Be=We(Ue))?s(Be,Ue,je,Oe):je(Ue)):Oe(Ae)}catch(Ve){Ie&&!Ye&&Ie.exit(),Oe(Ve)}}J.reactions=[],J.notified=!1,ve&&!J.rejection&&pe(J)})}},de=function(J,ve,ce){var Ae,Pe;U?(Ae=he.createEvent("Event"),Ae.promise=ve,Ae.reason=ce,Ae.initEvent(J,!1,!0),i.dispatchEvent(Ae)):Ae={promise:ve,reason:ce},!b&&(Pe=i["on"+J])?Pe(Ae):J===g&&_("Unhandled promise rejection",ce)},pe=function(J){s(y,i,function(){var ve=J.facade,ce=J.value,Ae=Z(J),Pe;if(Ae&&(Pe=L(function(){q?Se.emit("unhandledRejection",ce,ve):de(g,ve,ce)}),J.rejection=q||Z(J)?ge:fe,Pe.error))throw Pe.value})},Z=function(J){return J.rejection!==fe&&!J.parent},ne=function(J){s(y,i,function(){var ve=J.facade;q?Se.emit("rejectionHandled",ve):de(x,ve,J.value)})},Q=function(J,ve,ce){return function(Ae){J(ve,Ae,ce)}},se=function(J,ve,ce){J.done||(J.done=!0,ce&&(J=ce),J.value=ve,J.state=re,$e(J,!0))},ie=function(J,ve,ce){if(!J.done){J.done=!0,ce&&(J=ce);try{if(J.facade===ve)throw Y("Promise can't be resolved itself");var Ae=We(ve);Ae?A(function(){var Pe={done:!1};try{s(Ae,ve,Q(ie,Pe,J),Q(se,Pe,J))}catch(Le){se(Pe,Le,J)}}):(J.value=ve,J.state=H,$e(J,!1))}catch(Pe){se({done:!1},Pe,J)}}};if(Fe&&(G=function(ve){M(this,ee),E(ve),s(me,this);var ce=P(this);try{ve(Q(ie,ce),Q(se,ce))}catch(Ae){se(ce,Ae)}},ee=G.prototype,me=function(ve){S(this,{type:K,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:z,value:void 0})},me.prototype=c(ee,{then:function(ve,ce){var Ae=F(this),Pe=Ae.reactions,Le=we(h(this,G));return Le.ok=I(ve)?ve:!0,Le.fail=I(ce)&&ce,Le.domain=q?Se.domain:void 0,Ae.parent=!0,Pe[Pe.length]=Le,Ae.state!=z&&$e(Ae,!1),Le.promise},catch:function(J){return this.then(void 0,J)}}),Te=function(){var J=new me,ve=P(J);this.promise=J,this.resolve=Q(ie,ve),this.reject=Q(se,ve)},k.f=we=function(J){return J===G||J===Re?new Te(J):$(J)},!a&&I(l)&&N!==Object.prototype)){xe=N.then,ye||(f(N,"then",function(ve,ce){var Ae=this;return new G(function(Pe,Le){s(xe,Ae,Pe,Le)}).then(ve,ce)},{unsafe:!0}),f(N,"catch",ee.catch,{unsafe:!0}));try{delete N.constructor}catch{}w&&w(N,ee)}n({global:!0,wrap:!0,forced:Fe},{Promise:G}),R(G,K,!1,!0),m(K),Re=o(K),n({target:K,stat:!0,forced:Fe},{reject:function(ve){var ce=we(this);return s(ce.reject,void 0,ve),ce.promise}}),n({target:K,stat:!0,forced:a||Fe},{resolve:function(ve){return T(a&&this===Re?G:this,ve)}}),n({target:K,stat:!0,forced:Me},{all:function(ve){var ce=this,Ae=we(ce),Pe=Ae.resolve,Le=Ae.reject,Ne=L(function(){var Ee=E(ce.resolve),je=[],Oe=0,Ie=1;D(ve,function(Ue){var Be=Oe++,Ye=!1;Ie++,s(Ee,ce,Ue).then(function(Ve){Ye||(Ye=!0,je[Be]=Ve,--Ie||Pe(je))},Le)}),--Ie||Pe(je)});return Ne.error&&Le(Ne.value),Ae.promise},race:function(ve){var ce=this,Ae=we(ce),Pe=Ae.reject,Le=L(function(){var Ne=E(ce.resolve);D(ve,function(Ee){s(Ne,ce,Ee).then(Ae.resolve,Pe)})});return Le.error&&Pe(Le.value),Ae.promise}})},(e,r,t)=>{var n=t(10);e.exports=n.Promise},(e,r,t)=>{var n=t(50);e.exports=function(a,i,o){for(var s in i)n(a,s,i[s],o);return a}},(e,r,t)=>{var n=t(27),a=t(48),i=t(37),o=t(12),s=i("species");e.exports=function(l){var f=n(l),c=a.f;o&&f&&!f[s]&&c(f,s,{configurable:!0,get:function(){return this}})}},(e,r,t)=>{var n=t(10),a=t(28),i=n.TypeError;e.exports=function(o,s){if(a(s,o))return o;throw i("Incorrect invocation")}},(e,r,t)=>{var n=t(37),a=n("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[a]=function(){return this},Array.from(s,function(){throw 2})}catch{}e.exports=function(l,f){if(!f&&!i)return!1;var c=!1;try{var w={};w[a]=function(){return{next:function(){return{done:c=!0}}}},l(w)}catch{}return c}},(e,r,t)=>{var n=t(49),a=t(114),i=t(37),o=i("species");e.exports=function(s,l){var f=n(s).constructor,c;return f===void 0||(c=n(f)[o])==null?l:a(c)}},(e,r,t)=>{var n=t(10),a=t(115),i=t(35),o=n.TypeError;e.exports=function(s){if(a(s))return s;throw o(i(s)+" is not a constructor")}},(e,r,t)=>{var n=t(19),a=t(13),i=t(25),o=t(92),s=t(27),l=t(51),f=function(){},c=[],w=s("Reflect","construct"),R=/^\s*(?:class|function)\b/,m=n(R.exec),E=!R.exec(f),I=function(M){if(!i(M))return!1;try{return w(f,c,M),!0}catch{return!1}},C=function(M){if(!i(M))return!1;switch(o(M)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return E||!!m(R,l(M))};e.exports=!w||a(function(){var M;return I(I.call)||!I(Object)||!I(function(){M=!0})||M})?C:I},(e,r,t)=>{var n=t(10),a=t(117),i=t(88),o=t(25),s=t(42),l=t(13),f=t(76),c=t(118),w=t(46),R=t(119),m=t(120),E=n.setImmediate,I=n.clearImmediate,C=n.process,M=n.Dispatch,O=n.Function,D=n.MessageChannel,p=n.String,h=0,y={},A="onreadystatechange",T,_,k,L;try{T=n.location}catch{}var j=function(q){if(s(y,q)){var ae=y[q];delete y[q],ae()}},W=function(q){return function(){j(q)}},V=function(q){j(q.data)},te=function(q){n.postMessage(p(q),T.protocol+"//"+T.host)};(!E||!I)&&(E=function(ae){var X=c(arguments,1);return y[++h]=function(){a(o(ae)?ae:O(ae),void 0,X)},_(h),h},I=function(ae){delete y[ae]},m?_=function(q){C.nextTick(W(q))}:M&&M.now?_=function(q){M.now(W(q))}:D&&!R?(k=new D,L=k.port2,k.port1.onmessage=V,_=i(L.postMessage,L)):n.addEventListener&&o(n.postMessage)&&!n.importScripts&&T&&T.protocol!=="file:"&&!l(te)?(_=te,n.addEventListener("message",V,!1)):A in w("script")?_=function(q){f.appendChild(w("script"))[A]=function(){f.removeChild(this),j(q)}}:_=function(q){setTimeout(W(q),0)}),e.exports={set:E,clear:I}},e=>{var r=Function.prototype,t=r.apply,n=r.bind,a=r.call;e.exports=typeof Reflect=="object"&&Reflect.apply||(n?a.bind(t):function(){return a.apply(t,arguments)})},(e,r,t)=>{var n=t(19);e.exports=n([].slice)},(e,r,t)=>{var n=t(32);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},(e,r,t)=>{var n=t(20),a=t(10);e.exports=n(a.process)=="process"},(e,r,t)=>{var n=t(10),a=t(88),i=t(11).f,o=t(116).set,s=t(119),l=t(122),f=t(123),c=t(120),w=n.MutationObserver||n.WebKitMutationObserver,R=n.document,m=n.process,E=n.Promise,I=i(n,"queueMicrotask"),C=I&&I.value,M,O,D,p,h,y,A,T;C||(M=function(){var _,k;for(c&&(_=m.domain)&&_.exit();O;){k=O.fn,O=O.next;try{k()}catch(L){throw O?p():D=void 0,L}}D=void 0,_&&_.enter()},!s&&!c&&!f&&w&&R?(h=!0,y=R.createTextNode(""),new w(M).observe(y,{characterData:!0}),p=function(){y.data=h=!h}):!l&&E&&E.resolve?(A=E.resolve(void 0),A.constructor=E,T=a(A.then,A),p=function(){T(M)}):c?p=function(){m.nextTick(M)}:(o=a(o,n),p=function(){o(M)})),e.exports=C||function(_){var k={fn:_,next:void 0};D&&(D.next=k),O||(O=k,p()),D=k}},(e,r,t)=>{var n=t(32),a=t(10);e.exports=/ipad|iphone|ipod/i.test(n)&&a.Pebble!==void 0},(e,r,t)=>{var n=t(32);e.exports=/web0s(?!.*chrome)/i.test(n)},(e,r,t)=>{var n=t(49),a=t(24),i=t(125);e.exports=function(o,s){if(n(o),a(s)&&s.constructor===o)return s;var l=i.f(o),f=l.resolve;return f(s),l.promise}},(e,r,t)=>{var n=t(34),a=function(i){var o,s;this.promise=new i(function(l,f){if(o!==void 0||s!==void 0)throw TypeError("Bad Promise constructor");o=l,s=f}),this.resolve=n(o),this.reject=n(s)};e.exports.f=function(i){return new a(i)}},(e,r,t)=>{var n=t(10);e.exports=function(a,i){var o=n.console;o&&o.error&&(arguments.length==1?o.error(a):o.error(a,i))}},e=>{e.exports=function(r){try{return{error:!1,value:r()}}catch(t){return{error:!0,value:t}}}},e=>{e.exports=typeof window=="object"},(e,r,t)=>{var n=t(9),a=t(14),i=t(34),o=t(125),s=t(127),l=t(87);n({target:"Promise",stat:!0},{allSettled:function(c){var w=this,R=o.f(w),m=R.resolve,E=R.reject,I=s(function(){var C=i(w.resolve),M=[],O=0,D=1;l(c,function(p){var h=O++,y=!1;D++,a(C,w,p).then(function(A){y||(y=!0,M[h]={status:"fulfilled",value:A},--D||m(M))},function(A){y||(y=!0,M[h]={status:"rejected",reason:A},--D||m(M))})}),--D||m(M)});return I.error&&E(I.value),R.promise}})},(e,r,t)=>{var n=t(9),a=t(34),i=t(27),o=t(14),s=t(125),l=t(127),f=t(87),c="No one promise resolved";n({target:"Promise",stat:!0},{any:function(R){var m=this,E=i("AggregateError"),I=s.f(m),C=I.resolve,M=I.reject,O=l(function(){var D=a(m.resolve),p=[],h=0,y=1,A=!1;f(R,function(T){var _=h++,k=!1;y++,o(D,m,T).then(function(L){k||A||(A=!0,C(L))},function(L){k||A||(k=!0,p[_]=L,--y||M(new E(p,c)))})}),--y||M(new E(p,c))});return O.error&&M(O.value),I.promise}})},(e,r,t)=>{var n=t(9),a=t(39),i=t(108),o=t(13),s=t(27),l=t(25),f=t(113),c=t(124),w=t(50),R=!!i&&o(function(){i.prototype.finally.call({then:function(){}},function(){})});if(n({target:"Promise",proto:!0,real:!0,forced:R},{finally:function(E){var I=f(this,s("Promise")),C=l(E);return this.then(C?function(M){return c(I,E()).then(function(){return M})}:E,C?function(M){return c(I,E()).then(function(){throw M})}:E)}}),!a&&l(i)){var m=s("Promise").prototype.finally;i.prototype.finally!==m&&w(i.prototype,"finally",m,{unsafe:!0})}},(e,r,t)=>{var n=t(133).charAt,a=t(103),i=t(52),o=t(78),s="String Iterator",l=i.set,f=i.getterFor(s);o(String,"String",function(c){l(this,{type:s,string:a(c),index:0})},function(){var w=f(this),R=w.string,m=w.index,E;return m>=R.length?{value:void 0,done:!0}:(E=n(R,m),w.index+=E.length,{value:E,done:!1})})},(e,r,t)=>{var n=t(19),a=t(63),i=t(103),o=t(21),s=n("".charAt),l=n("".charCodeAt),f=n("".slice),c=function(w){return function(R,m){var E=i(o(R)),I=a(m),C=E.length,M,O;return I<0||I>=C?w?"":void 0:(M=l(E,I),M<55296||M>56319||I+1===C||(O=l(E,I+1))<56320||O>57343?w?s(E,I):M:w?f(E,I,I+2):(M-55296<<10)+(O-56320)+65536)}};e.exports={codeAt:c(!1),charAt:c(!0)}},function(e,r){(function(t,n){n(r)})(this,function(t){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(u){return"Symbol("+u+")"};function a(){}function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof commonjsGlobal<"u")return commonjsGlobal}var o=i();function s(u){return typeof u=="object"&&u!==null||typeof u=="function"}var l=a,f=Promise,c=Promise.prototype.then,w=Promise.resolve.bind(f),R=Promise.reject.bind(f);function m(u){return new f(u)}function E(u){return w(u)}function I(u){return R(u)}function C(u,d,B){return c.call(u,d,B)}function M(u,d,B){C(C(u,d,B),void 0,l)}function O(u,d){M(u,d)}function D(u,d){M(u,void 0,d)}function p(u,d,B){return C(u,d,B)}function h(u){C(u,void 0,l)}var y=function(){var u=o&&o.queueMicrotask;if(typeof u=="function")return u;var d=E(void 0);return function(B){return C(d,B)}}();function A(u,d,B){if(typeof u!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(u,d,B)}function T(u,d,B){try{return E(A(u,d,B))}catch(oe){return I(oe)}}var _=16384,k=function(){function u(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(u.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),u.prototype.push=function(d){var B=this._back,oe=B;B._elements.length===_-1&&(oe={_elements:[],_next:void 0}),B._elements.push(d),oe!==B&&(this._back=oe,B._next=oe),++this._size},u.prototype.shift=function(){var d=this._front,B=d,oe=this._cursor,_e=oe+1,ke=d._elements,De=ke[oe];return _e===_&&(B=d._next,_e=0),--this._size,this._cursor=_e,d!==B&&(this._front=B),ke[oe]=void 0,De},u.prototype.forEach=function(d){for(var B=this._cursor,oe=this._front,_e=oe._elements;(B!==_e.length||oe._next!==void 0)&&!(B===_e.length&&(oe=oe._next,_e=oe._elements,B=0,_e.length===0));)d(_e[B]),++B},u.prototype.peek=function(){var d=this._front,B=this._cursor;return d._elements[B]},u}();function L(u,d){u._ownerReadableStream=d,d._reader=u,d._state==="readable"?te(u):d._state==="closed"?ae(u):q(u,d._storedError)}function j(u,d){var B=u._ownerReadableStream;return _t(B,d)}function W(u){u._ownerReadableStream._state==="readable"?X(u,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):K(u,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),u._ownerReadableStream._reader=void 0,u._ownerReadableStream=void 0}function V(u){return new TypeError("Cannot "+u+" a stream using a released reader")}function te(u){u._closedPromise=m(function(d,B){u._closedPromise_resolve=d,u._closedPromise_reject=B})}function q(u,d){te(u),X(u,d)}function ae(u){te(u),P(u)}function X(u,d){u._closedPromise_reject!==void 0&&(h(u._closedPromise),u._closedPromise_reject(d),u._closedPromise_resolve=void 0,u._closedPromise_reject=void 0)}function K(u,d){q(u,d)}function P(u){u._closedPromise_resolve!==void 0&&(u._closedPromise_resolve(void 0),u._closedPromise_resolve=void 0,u._closedPromise_reject=void 0)}var S=n("[[AbortSteps]]"),F=n("[[ErrorSteps]]"),N=n("[[CancelSteps]]"),G=n("[[PullSteps]]"),ee=Number.isFinite||function(u){return typeof u=="number"&&isFinite(u)},Y=Math.trunc||function(u){return u<0?Math.ceil(u):Math.floor(u)};function he(u){return typeof u=="object"||typeof u=="function"}function Se(u,d){if(u!==void 0&&!he(u))throw new TypeError(d+" is not an object.")}function we(u,d){if(typeof u!="function")throw new TypeError(d+" is not a function.")}function $(u){return typeof u=="object"&&u!==null||typeof u=="function"}function U(u,d){if(!$(u))throw new TypeError(d+" is not an object.")}function b(u,d,B){if(u===void 0)throw new TypeError("Parameter "+d+" is required in '"+B+"'.")}function g(u,d,B){if(u===void 0)throw new TypeError(d+" is required in '"+B+"'.")}function x(u){return Number(u)}function z(u){return u===0?0:u}function H(u){return z(Y(u))}function re(u,d){var B=0,oe=Number.MAX_SAFE_INTEGER,_e=Number(u);if(_e=z(_e),!ee(_e))throw new TypeError(d+" is not a finite number");if(_e=H(_e),_e<B||_e>oe)throw new TypeError(d+" is outside the accepted range of "+B+" to "+oe+", inclusive");return!ee(_e)||_e===0?0:_e}function fe(u,d){if(!Bt(u))throw new TypeError(d+" is not a ReadableStream.")}function ge(u){return new xe(u)}function ye(u,d){u._reader._readRequests.push(d)}function me(u,d,B){var oe=u._reader,_e=oe._readRequests.shift();B?_e._closeSteps():_e._chunkSteps(d)}function Te(u){return u._reader._readRequests.length}function Re(u){var d=u._reader;return!(d===void 0||!Fe(d))}var xe=function(){function u(d){if(b(d,1,"ReadableStreamDefaultReader"),fe(d,"First parameter"),Ut(d))throw new TypeError("This stream has already been locked for exclusive reading by another reader");L(this,d),this._readRequests=new k}return Object.defineProperty(u.prototype,"closed",{get:function(){return Fe(this)?this._closedPromise:I(We("closed"))},enumerable:!1,configurable:!0}),u.prototype.cancel=function(d){return d===void 0&&(d=void 0),Fe(this)?this._ownerReadableStream===void 0?I(V("cancel")):j(this,d):I(We("cancel"))},u.prototype.read=function(){if(!Fe(this))return I(We("read"));if(this._ownerReadableStream===void 0)return I(V("read from"));var d,B,oe=m(function(ke,De){d=ke,B=De}),_e={_chunkSteps:function(ke){return d({value:ke,done:!1})},_closeSteps:function(){return d({value:void 0,done:!0})},_errorSteps:function(ke){return B(ke)}};return Me(this,_e),oe},u.prototype.releaseLock=function(){if(!Fe(this))throw We("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");W(this)}},u}();Object.defineProperties(xe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(xe.prototype,n.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Fe(u){return!s(u)||!Object.prototype.hasOwnProperty.call(u,"_readRequests")?!1:u instanceof xe}function Me(u,d){var B=u._ownerReadableStream;B._disturbed=!0,B._state==="closed"?d._closeSteps():B._state==="errored"?d._errorSteps(B._storedError):B._readableStreamController[G](d)}function We(u){return new TypeError("ReadableStreamDefaultReader.prototype."+u+" can only be used on a ReadableStreamDefaultReader")}var $e,de;typeof n.asyncIterator=="symbol"&&(de=($e={},$e[n.asyncIterator]=function(){return this},$e),Object.defineProperty(de,n.asyncIterator,{enumerable:!1}));var pe=function(){function u(d,B){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=d,this._preventCancel=B}return u.prototype.next=function(){var d=this,B=function(){return d._nextSteps()};return this._ongoingPromise=this._ongoingPromise?p(this._ongoingPromise,B,B):B(),this._ongoingPromise},u.prototype.return=function(d){var B=this,oe=function(){return B._returnSteps(d)};return this._ongoingPromise?p(this._ongoingPromise,oe,oe):oe()},u.prototype._nextSteps=function(){var d=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var B=this._reader;if(B._ownerReadableStream===void 0)return I(V("iterate"));var oe,_e,ke=m(function(Ge,Ke){oe=Ge,_e=Ke}),De={_chunkSteps:function(Ge){d._ongoingPromise=void 0,y(function(){return oe({value:Ge,done:!1})})},_closeSteps:function(){d._ongoingPromise=void 0,d._isFinished=!0,W(B),oe({value:void 0,done:!0})},_errorSteps:function(Ge){d._ongoingPromise=void 0,d._isFinished=!0,W(B),_e(Ge)}};return Me(B,De),ke},u.prototype._returnSteps=function(d){if(this._isFinished)return Promise.resolve({value:d,done:!0});this._isFinished=!0;var B=this._reader;if(B._ownerReadableStream===void 0)return I(V("finish iterating"));if(!this._preventCancel){var oe=j(B,d);return W(B),p(oe,function(){return{value:d,done:!0}})}return W(B),E({value:d,done:!0})},u}(),Z={next:function(){return Q(this)?this._asyncIteratorImpl.next():I(se("next"))},return:function(u){return Q(this)?this._asyncIteratorImpl.return(u):I(se("return"))}};de!==void 0&&Object.setPrototypeOf(Z,de);function ne(u,d){var B=ge(u),oe=new pe(B,d),_e=Object.create(Z);return _e._asyncIteratorImpl=oe,_e}function Q(u){if(!s(u)||!Object.prototype.hasOwnProperty.call(u,"_asyncIteratorImpl"))return!1;try{return u._asyncIteratorImpl instanceof pe}catch{return!1}}function se(u){return new TypeError("ReadableStreamAsyncIterator."+u+" can only be used on a ReadableSteamAsyncIterator")}var ie=Number.isNaN||function(u){return u!==u};function J(u){return u.slice()}function ve(u,d,B,oe,_e){new Uint8Array(u).set(new Uint8Array(B,oe,_e),d)}function ce(u){return u}function Ae(u){return!1}function Pe(u,d,B){if(u.slice)return u.slice(d,B);var oe=B-d,_e=new ArrayBuffer(oe);return ve(_e,0,u,d,oe),_e}function Le(u){return!(typeof u!="number"||ie(u)||u<0)}function Ne(u){var d=Pe(u.buffer,u.byteOffset,u.byteOffset+u.byteLength);return new Uint8Array(d)}function Ee(u){var d=u._queue.shift();return u._queueTotalSize-=d.size,u._queueTotalSize<0&&(u._queueTotalSize=0),d.value}function je(u,d,B){if(!Le(B)||B===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");u._queue.push({value:d,size:B}),u._queueTotalSize+=B}function Oe(u){var d=u._queue.peek();return d.value}function Ie(u){u._queue=new k,u._queueTotalSize=0}var Ue=function(){function u(){throw new TypeError("Illegal constructor")}return Object.defineProperty(u.prototype,"view",{get:function(){if(!Ve(this))throw Mt("view");return this._view},enumerable:!1,configurable:!0}),u.prototype.respond=function(d){if(!Ve(this))throw Mt("respond");if(b(d,1,"respond"),d=re(d,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Ae(this._view.buffer),st(this._associatedReadableByteStreamController,d)},u.prototype.respondWithNewView=function(d){if(!Ve(this))throw Mt("respondWithNewView");if(b(d,1,"respondWithNewView"),!ArrayBuffer.isView(d))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Ae(d.buffer),vt(this._associatedReadableByteStreamController,d)},u}();Object.defineProperties(Ue.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Ue.prototype,n.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Be=function(){function u(){throw new TypeError("Illegal constructor")}return Object.defineProperty(u.prototype,"byobRequest",{get:function(){if(!Ye(this))throw it("byobRequest");return qe(this)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"desiredSize",{get:function(){if(!Ye(this))throw it("desiredSize");return at(this)},enumerable:!1,configurable:!0}),u.prototype.close=function(){if(!Ye(this))throw it("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var d=this._controlledReadableByteStream._state;if(d!=="readable")throw new TypeError("The stream (in "+d+" state) is not in the readable state and cannot be closed");ze(this)},u.prototype.enqueue=function(d){if(!Ye(this))throw it("enqueue");if(b(d,1,"enqueue"),!ArrayBuffer.isView(d))throw new TypeError("chunk must be an array buffer view");if(d.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(d.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var B=this._controlledReadableByteStream._state;if(B!=="readable")throw new TypeError("The stream (in "+B+" state) is not in the readable state and cannot be enqueued to");He(this,d)},u.prototype.error=function(d){if(d===void 0&&(d=void 0),!Ye(this))throw it("error");Ze(this,d)},u.prototype[N]=function(d){nt(this),Ie(this);var B=this._cancelAlgorithm(d);return be(this),B},u.prototype[G]=function(d){var B=this._controlledReadableByteStream;if(this._queueTotalSize>0){var oe=this._queue.shift();this._queueTotalSize-=oe.byteLength,Ot(this);var _e=new Uint8Array(oe.buffer,oe.byteOffset,oe.byteLength);d._chunkSteps(_e);return}var ke=this._autoAllocateChunkSize;if(ke!==void 0){var De=void 0;try{De=new ArrayBuffer(ke)}catch(Ke){d._errorSteps(Ke);return}var Ge={buffer:De,bufferByteLength:ke,byteOffset:0,byteLength:ke,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Ge)}ye(B,d),Je(this)},u}();Object.defineProperties(Be.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Be.prototype,n.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ye(u){return!s(u)||!Object.prototype.hasOwnProperty.call(u,"_controlledReadableByteStream")?!1:u instanceof Be}function Ve(u){return!s(u)||!Object.prototype.hasOwnProperty.call(u,"_associatedReadableByteStreamController")?!1:u instanceof Ue}function Je(u){var d=ue(u);if(!!d){if(u._pulling){u._pullAgain=!0;return}u._pulling=!0;var B=u._pullAlgorithm();M(B,function(){u._pulling=!1,u._pullAgain&&(u._pullAgain=!1,Je(u))},function(oe){Ze(u,oe)})}}function nt(u){It(u),u._pendingPullIntos=new k}function ot(u,d){var B=!1;u._state==="closed"&&(B=!0);var oe=mt(d);d.readerType==="default"?me(u,oe,B):ar(u,oe,B)}function mt(u){var d=u.bytesFilled,B=u.elementSize;return new u.viewConstructor(u.buffer,u.byteOffset,d/B)}function pt(u,d,B,oe){u._queue.push({buffer:d,byteOffset:B,byteLength:oe}),u._queueTotalSize+=oe}function kt(u,d){var B=d.elementSize,oe=d.bytesFilled-d.bytesFilled%B,_e=Math.min(u._queueTotalSize,d.byteLength-d.bytesFilled),ke=d.bytesFilled+_e,De=ke-ke%B,Ge=_e,Ke=!1;De>oe&&(Ge=De-d.bytesFilled,Ke=!0);for(var Qe=u._queue;Ge>0;){var et=Qe.peek(),tt=Math.min(Ge,et.byteLength),ct=d.byteOffset+d.bytesFilled;ve(d.buffer,ct,et.buffer,et.byteOffset,tt),et.byteLength===tt?Qe.shift():(et.byteOffset+=tt,et.byteLength-=tt),u._queueTotalSize-=tt,Xt(u,tt,d),Ge-=tt}return Ke}function Xt(u,d,B){B.bytesFilled+=d}function Ot(u){u._queueTotalSize===0&&u._closeRequested?(be(u),cr(u._controlledReadableByteStream)):Je(u)}function It(u){u._byobRequest!==null&&(u._byobRequest._associatedReadableByteStreamController=void 0,u._byobRequest._view=null,u._byobRequest=null)}function Ft(u){for(;u._pendingPullIntos.length>0;){if(u._queueTotalSize===0)return;var d=u._pendingPullIntos.peek();kt(u,d)&&(Ce(u),ot(u._controlledReadableByteStream,d))}}function Vt(u,d,B){var oe=u._controlledReadableByteStream,_e=1;d.constructor!==DataView&&(_e=d.constructor.BYTES_PER_ELEMENT);var ke=d.constructor,De=d.buffer,Ge={buffer:De,bufferByteLength:De.byteLength,byteOffset:d.byteOffset,byteLength:d.byteLength,bytesFilled:0,elementSize:_e,viewConstructor:ke,readerType:"byob"};if(u._pendingPullIntos.length>0){u._pendingPullIntos.push(Ge),jt(oe,B);return}if(oe._state==="closed"){var Ke=new ke(Ge.buffer,Ge.byteOffset,0);B._closeSteps(Ke);return}if(u._queueTotalSize>0){if(kt(u,Ge)){var Qe=mt(Ge);Ot(u),B._chunkSteps(Qe);return}if(u._closeRequested){var et=new TypeError("Insufficient bytes to fill elements in the given buffer");Ze(u,et),B._errorSteps(et);return}}u._pendingPullIntos.push(Ge),jt(oe,B),Je(u)}function wt(u,d){var B=u._controlledReadableByteStream;if(Ht(B))for(;qt(B)>0;){var oe=Ce(u);ot(B,oe)}}function Pt(u,d,B){if(Xt(u,d,B),!(B.bytesFilled<B.elementSize)){Ce(u);var oe=B.bytesFilled%B.elementSize;if(oe>0){var _e=B.byteOffset+B.bytesFilled,ke=Pe(B.buffer,_e-oe,_e);pt(u,ke,0,ke.byteLength)}B.bytesFilled-=oe,ot(u._controlledReadableByteStream,B),Ft(u)}}function le(u,d){var B=u._pendingPullIntos.peek();It(u);var oe=u._controlledReadableByteStream._state;oe==="closed"?wt(u):Pt(u,d,B),Je(u)}function Ce(u){var d=u._pendingPullIntos.shift();return d}function ue(u){var d=u._controlledReadableByteStream;if(d._state!=="readable"||u._closeRequested||!u._started)return!1;if(Re(d)&&Te(d)>0||Ht(d)&&qt(d)>0)return!0;var B=at(u);return B>0}function be(u){u._pullAlgorithm=void 0,u._cancelAlgorithm=void 0}function ze(u){var d=u._controlledReadableByteStream;if(!(u._closeRequested||d._state!=="readable")){if(u._queueTotalSize>0){u._closeRequested=!0;return}if(u._pendingPullIntos.length>0){var B=u._pendingPullIntos.peek();if(B.bytesFilled>0){var oe=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ze(u,oe),oe}}be(u),cr(d)}}function He(u,d){var B=u._controlledReadableByteStream;if(!(u._closeRequested||B._state!=="readable")){var oe=d.buffer,_e=d.byteOffset,ke=d.byteLength,De=oe;if(u._pendingPullIntos.length>0){var Ge=u._pendingPullIntos.peek();Ae(Ge.buffer),Ge.buffer=Ge.buffer}if(It(u),Re(B))if(Te(B)===0)pt(u,De,_e,ke);else{u._pendingPullIntos.length>0&&Ce(u);var Ke=new Uint8Array(De,_e,ke);me(B,Ke,!1)}else Ht(B)?(pt(u,De,_e,ke),Ft(u)):pt(u,De,_e,ke);Je(u)}}function Ze(u,d){var B=u._controlledReadableByteStream;B._state==="readable"&&(nt(u),Ie(u),be(u),Sn(B,d))}function qe(u){if(u._byobRequest===null&&u._pendingPullIntos.length>0){var d=u._pendingPullIntos.peek(),B=new Uint8Array(d.buffer,d.byteOffset+d.bytesFilled,d.byteLength-d.bytesFilled),oe=Object.create(Ue.prototype);yt(oe,u,B),u._byobRequest=oe}return u._byobRequest}function at(u){var d=u._controlledReadableByteStream._state;return d==="errored"?null:d==="closed"?0:u._strategyHWM-u._queueTotalSize}function st(u,d){var B=u._pendingPullIntos.peek(),oe=u._controlledReadableByteStream._state;if(oe==="closed"){if(d!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(d===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(B.bytesFilled+d>B.byteLength)throw new RangeError("bytesWritten out of range")}B.buffer=B.buffer,le(u,d)}function vt(u,d){var B=u._pendingPullIntos.peek(),oe=u._controlledReadableByteStream._state;if(oe==="closed"){if(d.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(d.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(B.byteOffset+B.bytesFilled!==d.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(B.bufferByteLength!==d.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(B.bytesFilled+d.byteLength>B.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var _e=d.byteLength;B.buffer=d.buffer,le(u,_e)}function dt(u,d,B,oe,_e,ke,De){d._controlledReadableByteStream=u,d._pullAgain=!1,d._pulling=!1,d._byobRequest=null,d._queue=d._queueTotalSize=void 0,Ie(d),d._closeRequested=!1,d._started=!1,d._strategyHWM=ke,d._pullAlgorithm=oe,d._cancelAlgorithm=_e,d._autoAllocateChunkSize=De,d._pendingPullIntos=new k,u._readableStreamController=d;var Ge=B();M(E(Ge),function(){d._started=!0,Je(d)},function(Ke){Ze(d,Ke)})}function At(u,d,B){var oe=Object.create(Be.prototype),_e=function(){},ke=function(){return E(void 0)},De=function(){return E(void 0)};d.start!==void 0&&(_e=function(){return d.start(oe)}),d.pull!==void 0&&(ke=function(){return d.pull(oe)}),d.cancel!==void 0&&(De=function(Ke){return d.cancel(Ke)});var Ge=d.autoAllocateChunkSize;if(Ge===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");dt(u,oe,_e,ke,De,B,Ge)}function yt(u,d,B){u._associatedReadableByteStreamController=d,u._view=B}function Mt(u){return new TypeError("ReadableStreamBYOBRequest.prototype."+u+" can only be used on a ReadableStreamBYOBRequest")}function it(u){return new TypeError("ReadableByteStreamController.prototype."+u+" can only be used on a ReadableByteStreamController")}function $t(u){return new bt(u)}function jt(u,d){u._reader._readIntoRequests.push(d)}function ar(u,d,B){var oe=u._reader,_e=oe._readIntoRequests.shift();B?_e._closeSteps(d):_e._chunkSteps(d)}function qt(u){return u._reader._readIntoRequests.length}function Ht(u){var d=u._reader;return!(d===void 0||!ft(d))}var bt=function(){function u(d){if(b(d,1,"ReadableStreamBYOBReader"),fe(d,"First parameter"),Ut(d))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ye(d._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");L(this,d),this._readIntoRequests=new k}return Object.defineProperty(u.prototype,"closed",{get:function(){return ft(this)?this._closedPromise:I(pr("closed"))},enumerable:!1,configurable:!0}),u.prototype.cancel=function(d){return d===void 0&&(d=void 0),ft(this)?this._ownerReadableStream===void 0?I(V("cancel")):j(this,d):I(pr("cancel"))},u.prototype.read=function(d){if(!ft(this))return I(pr("read"));if(!ArrayBuffer.isView(d))return I(new TypeError("view must be an array buffer view"));if(d.byteLength===0)return I(new TypeError("view must have non-zero byteLength"));if(d.buffer.byteLength===0)return I(new TypeError("view's buffer must have non-zero byteLength"));if(Ae(d.buffer),this._ownerReadableStream===void 0)return I(V("read from"));var B,oe,_e=m(function(De,Ge){B=De,oe=Ge}),ke={_chunkSteps:function(De){return B({value:De,done:!1})},_closeSteps:function(De){return B({value:De,done:!0})},_errorSteps:function(De){return oe(De)}};return Dt(this,d,ke),_e},u.prototype.releaseLock=function(){if(!ft(this))throw pr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");W(this)}},u}();Object.defineProperties(bt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(bt.prototype,n.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function ft(u){return!s(u)||!Object.prototype.hasOwnProperty.call(u,"_readIntoRequests")?!1:u instanceof bt}function Dt(u,d,B){var oe=u._ownerReadableStream;oe._disturbed=!0,oe._state==="errored"?B._errorSteps(oe._storedError):Vt(oe._readableStreamController,d,B)}function pr(u){return new TypeError("ReadableStreamBYOBReader.prototype."+u+" can only be used on a ReadableStreamBYOBReader")}function ir(u,d){var B=u.highWaterMark;if(B===void 0)return d;if(ie(B)||B<0)throw new RangeError("Invalid highWaterMark");return B}function vr(u){var d=u.size;return d||function(){return 1}}function gr(u,d){Se(u,d);var B=u==null?void 0:u.highWaterMark,oe=u==null?void 0:u.size;return{highWaterMark:B===void 0?void 0:x(B),size:oe===void 0?void 0:Dn(oe,d+" has member 'size' that")}}function Dn(u,d){return we(u,d),function(B){return x(u(B))}}function Ln(u,d){Se(u,d);var B=u==null?void 0:u.abort,oe=u==null?void 0:u.close,_e=u==null?void 0:u.start,ke=u==null?void 0:u.type,De=u==null?void 0:u.write;return{abort:B===void 0?void 0:Nn(B,u,d+" has member 'abort' that"),close:oe===void 0?void 0:Bn(oe,u,d+" has member 'close' that"),start:_e===void 0?void 0:Un(_e,u,d+" has member 'start' that"),write:De===void 0?void 0:Wn(De,u,d+" has member 'write' that"),type:ke}}function Nn(u,d,B){return we(u,B),function(oe){return T(u,d,[oe])}}function Bn(u,d,B){return we(u,B),function(){return T(u,d,[])}}function Un(u,d,B){return we(u,B),function(oe){return A(u,d,[oe])}}function Wn(u,d,B){return we(u,B),function(oe,_e){return T(u,d,[oe,_e])}}function Kr(u,d){if(!Kt(u))throw new TypeError(d+" is not a WritableStream.")}function zn(u){if(typeof u!="object"||u===null)return!1;try{return typeof u.aborted=="boolean"}catch{return!1}}var $n=typeof AbortController=="function";function jn(){if($n)return new AbortController}var or=function(){function u(d,B){d===void 0&&(d={}),B===void 0&&(B={}),d===void 0?d=null:U(d,"First parameter");var oe=gr(B,"Second parameter"),_e=Ln(d,"First parameter");Jr(this);var ke=_e.type;if(ke!==void 0)throw new RangeError("Invalid type is specified");var De=vr(oe),Ge=ir(oe,1);na(this,_e,Ge,De)}return Object.defineProperty(u.prototype,"locked",{get:function(){if(!Kt(this))throw Sr("locked");return Qt(this)},enumerable:!1,configurable:!0}),u.prototype.abort=function(d){return d===void 0&&(d=void 0),Kt(this)?Qt(this)?I(new TypeError("Cannot abort a stream that already has a writer")):mr(this,d):I(Sr("abort"))},u.prototype.close=function(){return Kt(this)?Qt(this)?I(new TypeError("Cannot close a stream that already has a writer")):Tt(this)?I(new TypeError("Cannot close an already-closing stream")):en(this):I(Sr("close"))},u.prototype.getWriter=function(){if(!Kt(this))throw Sr("getWriter");return Qr(this)},u}();Object.defineProperties(or.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(or.prototype,n.toStringTag,{value:"WritableStream",configurable:!0});function Qr(u){return new sr(u)}function Hn(u,d,B,oe,_e,ke){_e===void 0&&(_e=1),ke===void 0&&(ke=function(){return 1});var De=Object.create(or.prototype);Jr(De);var Ge=Object.create(Jt.prototype);return un(De,Ge,u,d,B,oe,_e,ke),De}function Jr(u){u._state="writable",u._storedError=void 0,u._writer=void 0,u._writableStreamController=void 0,u._writeRequests=new k,u._inFlightWriteRequest=void 0,u._closeRequest=void 0,u._inFlightCloseRequest=void 0,u._pendingAbortRequest=void 0,u._backpressure=!1}function Kt(u){return!s(u)||!Object.prototype.hasOwnProperty.call(u,"_writableStreamController")?!1:u instanceof or}function Qt(u){return u._writer!==void 0}function mr(u,d){var B;if(u._state==="closed"||u._state==="errored")return E(void 0);u._writableStreamController._abortReason=d,(B=u._writableStreamController._abortController)===null||B===void 0||B.abort();var oe=u._state;if(oe==="closed"||oe==="errored")return E(void 0);if(u._pendingAbortRequest!==void 0)return u._pendingAbortRequest._promise;var _e=!1;oe==="erroring"&&(_e=!0,d=void 0);var ke=m(function(De,Ge){u._pendingAbortRequest={_promise:void 0,_resolve:De,_reject:Ge,_reason:d,_wasAlreadyErroring:_e}});return u._pendingAbortRequest._promise=ke,_e||Nr(u,d),ke}function en(u){var d=u._state;if(d==="closed"||d==="errored")return I(new TypeError("The stream (in "+d+" state) is not in the writable state and cannot be closed"));var B=m(function(_e,ke){var De={_resolve:_e,_reject:ke};u._closeRequest=De}),oe=u._writer;return oe!==void 0&&u._backpressure&&d==="writable"&&Yr(oe),aa(u._writableStreamController),B}function Gn(u){var d=m(function(B,oe){var _e={_resolve:B,_reject:oe};u._writeRequests.push(_e)});return d}function Lr(u,d){var B=u._state;if(B==="writable"){Nr(u,d);return}Br(u)}function Nr(u,d){var B=u._writableStreamController;u._state="erroring",u._storedError=d;var oe=u._writer;oe!==void 0&&rn(oe,d),!qn(u)&&B._started&&Br(u)}function Br(u){u._state="errored",u._writableStreamController[F]();var d=u._storedError;if(u._writeRequests.forEach(function(_e){_e._reject(d)}),u._writeRequests=new k,u._pendingAbortRequest===void 0){yr(u);return}var B=u._pendingAbortRequest;if(u._pendingAbortRequest=void 0,B._wasAlreadyErroring){B._reject(d),yr(u);return}var oe=u._writableStreamController[S](B._reason);M(oe,function(){B._resolve(),yr(u)},function(_e){B._reject(_e),yr(u)})}function Yn(u){u._inFlightWriteRequest._resolve(void 0),u._inFlightWriteRequest=void 0}function Zn(u,d){u._inFlightWriteRequest._reject(d),u._inFlightWriteRequest=void 0,Lr(u,d)}function Xn(u){u._inFlightCloseRequest._resolve(void 0),u._inFlightCloseRequest=void 0;var d=u._state;d==="erroring"&&(u._storedError=void 0,u._pendingAbortRequest!==void 0&&(u._pendingAbortRequest._resolve(),u._pendingAbortRequest=void 0)),u._state="closed";var B=u._writer;B!==void 0&&dn(B)}function Vn(u,d){u._inFlightCloseRequest._reject(d),u._inFlightCloseRequest=void 0,u._pendingAbortRequest!==void 0&&(u._pendingAbortRequest._reject(d),u._pendingAbortRequest=void 0),Lr(u,d)}function Tt(u){return!(u._closeRequest===void 0&&u._inFlightCloseRequest===void 0)}function qn(u){return!(u._inFlightWriteRequest===void 0&&u._inFlightCloseRequest===void 0)}function Kn(u){u._inFlightCloseRequest=u._closeRequest,u._closeRequest=void 0}function Qn(u){u._inFlightWriteRequest=u._writeRequests.shift()}function yr(u){u._closeRequest!==void 0&&(u._closeRequest._reject(u._storedError),u._closeRequest=void 0);var d=u._writer;d!==void 0&&Hr(d,u._storedError)}function Ur(u,d){var B=u._writer;B!==void 0&&d!==u._backpressure&&(d?ca(B):Yr(B)),u._backpressure=d}var sr=function(){function u(d){if(b(d,1,"WritableStreamDefaultWriter"),Kr(d,"First parameter"),Qt(d))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=d,d._writer=this;var B=d._state;if(B==="writable")!Tt(d)&&d._backpressure?Ar(this):hn(this),wr(this);else if(B==="erroring")Gr(this,d._storedError),wr(this);else if(B==="closed")hn(this),la(this);else{var oe=d._storedError;Gr(this,oe),cn(this,oe)}}return Object.defineProperty(u.prototype,"closed",{get:function(){return Gt(this)?this._closedPromise:I(Yt("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"desiredSize",{get:function(){if(!Gt(this))throw Yt("desiredSize");if(this._ownerWritableStream===void 0)throw ur("desiredSize");return ra(this)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ready",{get:function(){return Gt(this)?this._readyPromise:I(Yt("ready"))},enumerable:!1,configurable:!0}),u.prototype.abort=function(d){return d===void 0&&(d=void 0),Gt(this)?this._ownerWritableStream===void 0?I(ur("abort")):Jn(this,d):I(Yt("abort"))},u.prototype.close=function(){if(!Gt(this))return I(Yt("close"));var d=this._ownerWritableStream;return d===void 0?I(ur("close")):Tt(d)?I(new TypeError("Cannot close an already-closing stream")):tn(this)},u.prototype.releaseLock=function(){if(!Gt(this))throw Yt("releaseLock");var d=this._ownerWritableStream;d!==void 0&&nn(this)},u.prototype.write=function(d){return d===void 0&&(d=void 0),Gt(this)?this._ownerWritableStream===void 0?I(ur("write to")):an(this,d):I(Yt("write"))},u}();Object.defineProperties(sr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(sr.prototype,n.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Gt(u){return!s(u)||!Object.prototype.hasOwnProperty.call(u,"_ownerWritableStream")?!1:u instanceof sr}function Jn(u,d){var B=u._ownerWritableStream;return mr(B,d)}function tn(u){var d=u._ownerWritableStream;return en(d)}function ea(u){var d=u._ownerWritableStream,B=d._state;return Tt(d)||B==="closed"?E(void 0):B==="errored"?I(d._storedError):tn(u)}function ta(u,d){u._closedPromiseState==="pending"?Hr(u,d):fa(u,d)}function rn(u,d){u._readyPromiseState==="pending"?pn(u,d):da(u,d)}function ra(u){var d=u._ownerWritableStream,B=d._state;return B==="errored"||B==="erroring"?null:B==="closed"?0:ln(d._writableStreamController)}function nn(u){var d=u._ownerWritableStream,B=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");rn(u,B),ta(u,B),d._writer=void 0,u._ownerWritableStream=void 0}function an(u,d){var B=u._ownerWritableStream,oe=B._writableStreamController,_e=ia(oe,d);if(B!==u._ownerWritableStream)return I(ur("write to"));var ke=B._state;if(ke==="errored")return I(B._storedError);if(Tt(B)||ke==="closed")return I(new TypeError("The stream is closing or closed and cannot be written to"));if(ke==="erroring")return I(B._storedError);var De=Gn(B);return oa(oe,d,_e),De}var sn={},Jt=function(){function u(){throw new TypeError("Illegal constructor")}return Object.defineProperty(u.prototype,"abortReason",{get:function(){if(!Wr(this))throw jr("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"signal",{get:function(){if(!Wr(this))throw jr("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),u.prototype.error=function(d){if(d===void 0&&(d=void 0),!Wr(this))throw jr("error");var B=this._controlledWritableStream._state;B==="writable"&&fn(this,d)},u.prototype[S]=function(d){var B=this._abortAlgorithm(d);return br(this),B},u.prototype[F]=function(){Ie(this)},u}();Object.defineProperties(Jt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Jt.prototype,n.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Wr(u){return!s(u)||!Object.prototype.hasOwnProperty.call(u,"_controlledWritableStream")?!1:u instanceof Jt}function un(u,d,B,oe,_e,ke,De,Ge){d._controlledWritableStream=u,u._writableStreamController=d,d._queue=void 0,d._queueTotalSize=void 0,Ie(d),d._abortReason=void 0,d._abortController=jn(),d._started=!1,d._strategySizeAlgorithm=Ge,d._strategyHWM=De,d._writeAlgorithm=oe,d._closeAlgorithm=_e,d._abortAlgorithm=ke;var Ke=$r(d);Ur(u,Ke);var Qe=B(),et=E(Qe);M(et,function(){d._started=!0,_r(d)},function(tt){d._started=!0,Lr(u,tt)})}function na(u,d,B,oe){var _e=Object.create(Jt.prototype),ke=function(){},De=function(){return E(void 0)},Ge=function(){return E(void 0)},Ke=function(){return E(void 0)};d.start!==void 0&&(ke=function(){return d.start(_e)}),d.write!==void 0&&(De=function(Qe){return d.write(Qe,_e)}),d.close!==void 0&&(Ge=function(){return d.close()}),d.abort!==void 0&&(Ke=function(Qe){return d.abort(Qe)}),un(u,_e,ke,De,Ge,Ke,B,oe)}function br(u){u._writeAlgorithm=void 0,u._closeAlgorithm=void 0,u._abortAlgorithm=void 0,u._strategySizeAlgorithm=void 0}function aa(u){je(u,sn,0),_r(u)}function ia(u,d){try{return u._strategySizeAlgorithm(d)}catch(B){return zr(u,B),1}}function ln(u){return u._strategyHWM-u._queueTotalSize}function oa(u,d,B){try{je(u,d,B)}catch(ke){zr(u,ke);return}var oe=u._controlledWritableStream;if(!Tt(oe)&&oe._state==="writable"){var _e=$r(u);Ur(oe,_e)}_r(u)}function _r(u){var d=u._controlledWritableStream;if(!!u._started&&d._inFlightWriteRequest===void 0){var B=d._state;if(B==="erroring"){Br(d);return}if(u._queue.length!==0){var oe=Oe(u);oe===sn?sa(u):ua(u,oe)}}}function zr(u,d){u._controlledWritableStream._state==="writable"&&fn(u,d)}function sa(u){var d=u._controlledWritableStream;Kn(d),Ee(u);var B=u._closeAlgorithm();br(u),M(B,function(){Xn(d)},function(oe){Vn(d,oe)})}function ua(u,d){var B=u._controlledWritableStream;Qn(B);var oe=u._writeAlgorithm(d);M(oe,function(){Yn(B);var _e=B._state;if(Ee(u),!Tt(B)&&_e==="writable"){var ke=$r(u);Ur(B,ke)}_r(u)},function(_e){B._state==="writable"&&br(u),Zn(B,_e)})}function $r(u){var d=ln(u);return d<=0}function fn(u,d){var B=u._controlledWritableStream;br(u),Nr(B,d)}function Sr(u){return new TypeError("WritableStream.prototype."+u+" can only be used on a WritableStream")}function jr(u){return new TypeError("WritableStreamDefaultController.prototype."+u+" can only be used on a WritableStreamDefaultController")}function Yt(u){return new TypeError("WritableStreamDefaultWriter.prototype."+u+" can only be used on a WritableStreamDefaultWriter")}function ur(u){return new TypeError("Cannot "+u+" a stream using a released writer")}function wr(u){u._closedPromise=m(function(d,B){u._closedPromise_resolve=d,u._closedPromise_reject=B,u._closedPromiseState="pending"})}function cn(u,d){wr(u),Hr(u,d)}function la(u){wr(u),dn(u)}function Hr(u,d){u._closedPromise_reject!==void 0&&(h(u._closedPromise),u._closedPromise_reject(d),u._closedPromise_resolve=void 0,u._closedPromise_reject=void 0,u._closedPromiseState="rejected")}function fa(u,d){cn(u,d)}function dn(u){u._closedPromise_resolve!==void 0&&(u._closedPromise_resolve(void 0),u._closedPromise_resolve=void 0,u._closedPromise_reject=void 0,u._closedPromiseState="resolved")}function Ar(u){u._readyPromise=m(function(d,B){u._readyPromise_resolve=d,u._readyPromise_reject=B}),u._readyPromiseState="pending"}function Gr(u,d){Ar(u),pn(u,d)}function hn(u){Ar(u),Yr(u)}function pn(u,d){u._readyPromise_reject!==void 0&&(h(u._readyPromise),u._readyPromise_reject(d),u._readyPromise_resolve=void 0,u._readyPromise_reject=void 0,u._readyPromiseState="rejected")}function ca(u){Ar(u)}function da(u,d){Gr(u,d)}function Yr(u){u._readyPromise_resolve!==void 0&&(u._readyPromise_resolve(void 0),u._readyPromise_resolve=void 0,u._readyPromise_reject=void 0,u._readyPromiseState="fulfilled")}var vn=typeof DOMException<"u"?DOMException:void 0;function ha(u){if(!(typeof u=="function"||typeof u=="object"))return!1;try{return new u,!0}catch{return!1}}function pa(){var u=function(B,oe){this.message=B||"",this.name=oe||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return u.prototype=Object.create(Error.prototype),Object.defineProperty(u.prototype,"constructor",{value:u,writable:!0,configurable:!0}),u}var va=ha(vn)?vn:pa();function gn(u,d,B,oe,_e,ke){var De=ge(u),Ge=Qr(d);u._disturbed=!0;var Ke=!1,Qe=E(void 0);return m(function(et,tt){var ct;if(ke!==void 0){if(ct=function(){var Xe=new va("Aborted","AbortError"),rt=[];oe||rt.push(function(){return d._state==="writable"?mr(d,Xe):E(void 0)}),_e||rt.push(function(){return u._state==="readable"?_t(u,Xe):E(void 0)}),gt(function(){return Promise.all(rt.map(function(lt){return lt()}))},!0,Xe)},ke.aborted){ct();return}ke.addEventListener("abort",ct)}function St(){return m(function(Xe,rt){function lt(Ct){Ct?Xe():C(rr(),lt,rt)}lt(!1)})}function rr(){return Ke?E(!0):C(Ge._readyPromise,function(){return m(function(Xe,rt){Me(De,{_chunkSteps:function(lt){Qe=C(an(Ge,lt),void 0,a),Xe(!1)},_closeSteps:function(){return Xe(!0)},_errorSteps:rt})})})}if(ht(u,De._closedPromise,function(Xe){oe?xt(!0,Xe):gt(function(){return mr(d,Xe)},!0,Xe)}),ht(d,Ge._closedPromise,function(Xe){_e?xt(!0,Xe):gt(function(){return _t(u,Xe)},!0,Xe)}),Rt(u,De._closedPromise,function(){B?xt():gt(function(){return ea(Ge)})}),Tt(d)||d._state==="closed"){var Wt=new TypeError("the destination writable stream closed before all data could be piped to it");_e?xt(!0,Wt):gt(function(){return _t(u,Wt)},!0,Wt)}h(St());function Et(){var Xe=Qe;return C(Qe,function(){return Xe!==Qe?Et():void 0})}function ht(Xe,rt,lt){Xe._state==="errored"?lt(Xe._storedError):D(rt,lt)}function Rt(Xe,rt,lt){Xe._state==="closed"?lt():O(rt,lt)}function gt(Xe,rt,lt){if(Ke)return;Ke=!0,d._state==="writable"&&!Tt(d)?O(Et(),Ct):Ct();function Ct(){M(Xe(),function(){return ut(rt,lt)},function(zt){return ut(!0,zt)})}}function xt(Xe,rt){Ke||(Ke=!0,d._state==="writable"&&!Tt(d)?O(Et(),function(){return ut(Xe,rt)}):ut(Xe,rt))}function ut(Xe,rt){nn(Ge),W(De),ke!==void 0&&ke.removeEventListener("abort",ct),Xe?tt(rt):et(void 0)}})}var er=function(){function u(){throw new TypeError("Illegal constructor")}return Object.defineProperty(u.prototype,"desiredSize",{get:function(){if(!Tr(this))throw Cr("desiredSize");return Zr(this)},enumerable:!1,configurable:!0}),u.prototype.close=function(){if(!Tr(this))throw Cr("close");if(!tr(this))throw new TypeError("The stream is not in a state that permits close");fr(this)},u.prototype.enqueue=function(d){if(d===void 0&&(d=void 0),!Tr(this))throw Cr("enqueue");if(!tr(this))throw new TypeError("The stream is not in a state that permits enqueue");return Rr(this,d)},u.prototype.error=function(d){if(d===void 0&&(d=void 0),!Tr(this))throw Cr("error");Lt(this,d)},u.prototype[N]=function(d){Ie(this);var B=this._cancelAlgorithm(d);return Er(this),B},u.prototype[G]=function(d){var B=this._controlledReadableStream;if(this._queue.length>0){var oe=Ee(this);this._closeRequested&&this._queue.length===0?(Er(this),cr(B)):lr(this),d._chunkSteps(oe)}else ye(B,d),lr(this)},u}();Object.defineProperties(er.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(er.prototype,n.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Tr(u){return!s(u)||!Object.prototype.hasOwnProperty.call(u,"_controlledReadableStream")?!1:u instanceof er}function lr(u){var d=mn(u);if(!!d){if(u._pulling){u._pullAgain=!0;return}u._pulling=!0;var B=u._pullAlgorithm();M(B,function(){u._pulling=!1,u._pullAgain&&(u._pullAgain=!1,lr(u))},function(oe){Lt(u,oe)})}}function mn(u){var d=u._controlledReadableStream;if(!tr(u)||!u._started)return!1;if(Ut(d)&&Te(d)>0)return!0;var B=Zr(u);return B>0}function Er(u){u._pullAlgorithm=void 0,u._cancelAlgorithm=void 0,u._strategySizeAlgorithm=void 0}function fr(u){if(!!tr(u)){var d=u._controlledReadableStream;u._closeRequested=!0,u._queue.length===0&&(Er(u),cr(d))}}function Rr(u,d){if(!!tr(u)){var B=u._controlledReadableStream;if(Ut(B)&&Te(B)>0)me(B,d,!1);else{var oe=void 0;try{oe=u._strategySizeAlgorithm(d)}catch(_e){throw Lt(u,_e),_e}try{je(u,d,oe)}catch(_e){throw Lt(u,_e),_e}}lr(u)}}function Lt(u,d){var B=u._controlledReadableStream;B._state==="readable"&&(Ie(u),Er(u),Sn(B,d))}function Zr(u){var d=u._controlledReadableStream._state;return d==="errored"?null:d==="closed"?0:u._strategyHWM-u._queueTotalSize}function ga(u){return!mn(u)}function tr(u){var d=u._controlledReadableStream._state;return!u._closeRequested&&d==="readable"}function yn(u,d,B,oe,_e,ke,De){d._controlledReadableStream=u,d._queue=void 0,d._queueTotalSize=void 0,Ie(d),d._started=!1,d._closeRequested=!1,d._pullAgain=!1,d._pulling=!1,d._strategySizeAlgorithm=De,d._strategyHWM=ke,d._pullAlgorithm=oe,d._cancelAlgorithm=_e,u._readableStreamController=d;var Ge=B();M(E(Ge),function(){d._started=!0,lr(d)},function(Ke){Lt(d,Ke)})}function ma(u,d,B,oe){var _e=Object.create(er.prototype),ke=function(){},De=function(){return E(void 0)},Ge=function(){return E(void 0)};d.start!==void 0&&(ke=function(){return d.start(_e)}),d.pull!==void 0&&(De=function(){return d.pull(_e)}),d.cancel!==void 0&&(Ge=function(Ke){return d.cancel(Ke)}),yn(u,_e,ke,De,Ge,B,oe)}function Cr(u){return new TypeError("ReadableStreamDefaultController.prototype."+u+" can only be used on a ReadableStreamDefaultController")}function ya(u,d){return Ye(u._readableStreamController)?_a(u):ba(u)}function ba(u,d){var B=ge(u),oe=!1,_e=!1,ke=!1,De=!1,Ge,Ke,Qe,et,tt,ct=m(function(ht){tt=ht});function St(){if(oe)return _e=!0,E(void 0);oe=!0;var ht={_chunkSteps:function(Rt){y(function(){_e=!1;var gt=Rt,xt=Rt;ke||Rr(Qe._readableStreamController,gt),De||Rr(et._readableStreamController,xt),oe=!1,_e&&St()})},_closeSteps:function(){oe=!1,ke||fr(Qe._readableStreamController),De||fr(et._readableStreamController),(!ke||!De)&&tt(void 0)},_errorSteps:function(){oe=!1}};return Me(B,ht),E(void 0)}function rr(ht){if(ke=!0,Ge=ht,De){var Rt=J([Ge,Ke]),gt=_t(u,Rt);tt(gt)}return ct}function Wt(ht){if(De=!0,Ke=ht,ke){var Rt=J([Ge,Ke]),gt=_t(u,Rt);tt(gt)}return ct}function Et(){}return Qe=Xr(Et,St,rr),et=Xr(Et,St,Wt),D(B._closedPromise,function(ht){Lt(Qe._readableStreamController,ht),Lt(et._readableStreamController,ht),(!ke||!De)&&tt(void 0)}),[Qe,et]}function _a(u){var d=ge(u),B=!1,oe=!1,_e=!1,ke=!1,De=!1,Ge,Ke,Qe,et,tt,ct=m(function(ut){tt=ut});function St(ut){D(ut._closedPromise,function(Xe){ut===d&&(Ze(Qe._readableStreamController,Xe),Ze(et._readableStreamController,Xe),(!ke||!De)&&tt(void 0))})}function rr(){ft(d)&&(W(d),d=ge(u),St(d));var ut={_chunkSteps:function(Xe){y(function(){oe=!1,_e=!1;var rt=Xe,lt=Xe;if(!ke&&!De)try{lt=Ne(Xe)}catch(Ct){Ze(Qe._readableStreamController,Ct),Ze(et._readableStreamController,Ct),tt(_t(u,Ct));return}ke||He(Qe._readableStreamController,rt),De||He(et._readableStreamController,lt),B=!1,oe?Et():_e&&ht()})},_closeSteps:function(){B=!1,ke||ze(Qe._readableStreamController),De||ze(et._readableStreamController),Qe._readableStreamController._pendingPullIntos.length>0&&st(Qe._readableStreamController,0),et._readableStreamController._pendingPullIntos.length>0&&st(et._readableStreamController,0),(!ke||!De)&&tt(void 0)},_errorSteps:function(){B=!1}};Me(d,ut)}function Wt(ut,Xe){Fe(d)&&(W(d),d=$t(u),St(d));var rt=Xe?et:Qe,lt=Xe?Qe:et,Ct={_chunkSteps:function(zt){y(function(){oe=!1,_e=!1;var nr=Xe?De:ke,hr=Xe?ke:De;if(hr)nr||vt(rt._readableStreamController,zt);else{var Mn=void 0;try{Mn=Ne(zt)}catch(qr){Ze(rt._readableStreamController,qr),Ze(lt._readableStreamController,qr),tt(_t(u,qr));return}nr||vt(rt._readableStreamController,zt),He(lt._readableStreamController,Mn)}B=!1,oe?Et():_e&&ht()})},_closeSteps:function(zt){B=!1;var nr=Xe?De:ke,hr=Xe?ke:De;nr||ze(rt._readableStreamController),hr||ze(lt._readableStreamController),zt!==void 0&&(nr||vt(rt._readableStreamController,zt),!hr&&lt._readableStreamController._pendingPullIntos.length>0&&st(lt._readableStreamController,0)),(!nr||!hr)&&tt(void 0)},_errorSteps:function(){B=!1}};Dt(d,ut,Ct)}function Et(){if(B)return oe=!0,E(void 0);B=!0;var ut=qe(Qe._readableStreamController);return ut===null?rr():Wt(ut._view,!1),E(void 0)}function ht(){if(B)return _e=!0,E(void 0);B=!0;var ut=qe(et._readableStreamController);return ut===null?rr():Wt(ut._view,!0),E(void 0)}function Rt(ut){if(ke=!0,Ge=ut,De){var Xe=J([Ge,Ke]),rt=_t(u,Xe);tt(rt)}return ct}function gt(ut){if(De=!0,Ke=ut,ke){var Xe=J([Ge,Ke]),rt=_t(u,Xe);tt(rt)}return ct}function xt(){}return Qe=_n(xt,Et,Rt),et=_n(xt,ht,gt),St(d),[Qe,et]}function Sa(u,d){Se(u,d);var B=u,oe=B==null?void 0:B.autoAllocateChunkSize,_e=B==null?void 0:B.cancel,ke=B==null?void 0:B.pull,De=B==null?void 0:B.start,Ge=B==null?void 0:B.type;return{autoAllocateChunkSize:oe===void 0?void 0:re(oe,d+" has member 'autoAllocateChunkSize' that"),cancel:_e===void 0?void 0:wa(_e,B,d+" has member 'cancel' that"),pull:ke===void 0?void 0:Aa(ke,B,d+" has member 'pull' that"),start:De===void 0?void 0:Ta(De,B,d+" has member 'start' that"),type:Ge===void 0?void 0:Ea(Ge,d+" has member 'type' that")}}function wa(u,d,B){return we(u,B),function(oe){return T(u,d,[oe])}}function Aa(u,d,B){return we(u,B),function(oe){return T(u,d,[oe])}}function Ta(u,d,B){return we(u,B),function(oe){return A(u,d,[oe])}}function Ea(u,d){if(u=""+u,u!=="bytes")throw new TypeError(d+" '"+u+"' is not a valid enumeration value for ReadableStreamType");return u}function Ra(u,d){Se(u,d);var B=u==null?void 0:u.mode;return{mode:B===void 0?void 0:Ca(B,d+" has member 'mode' that")}}function Ca(u,d){if(u=""+u,u!=="byob")throw new TypeError(d+" '"+u+"' is not a valid enumeration value for ReadableStreamReaderMode");return u}function ka(u,d){Se(u,d);var B=u==null?void 0:u.preventCancel;return{preventCancel:Boolean(B)}}function bn(u,d){Se(u,d);var B=u==null?void 0:u.preventAbort,oe=u==null?void 0:u.preventCancel,_e=u==null?void 0:u.preventClose,ke=u==null?void 0:u.signal;return ke!==void 0&&Pa(ke,d+" has member 'signal' that"),{preventAbort:Boolean(B),preventCancel:Boolean(oe),preventClose:Boolean(_e),signal:ke}}function Pa(u,d){if(!zn(u))throw new TypeError(d+" is not an AbortSignal.")}function xa(u,d){Se(u,d);var B=u==null?void 0:u.readable;g(B,"readable","ReadableWritablePair"),fe(B,d+" has member 'readable' that");var oe=u==null?void 0:u.writable;return g(oe,"writable","ReadableWritablePair"),Kr(oe,d+" has member 'writable' that"),{readable:B,writable:oe}}var Nt=function(){function u(d,B){d===void 0&&(d={}),B===void 0&&(B={}),d===void 0?d=null:U(d,"First parameter");var oe=gr(B,"Second parameter"),_e=Sa(d,"First parameter");if(Vr(this),_e.type==="bytes"){if(oe.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var ke=ir(oe,0);At(this,_e,ke)}else{var De=vr(oe),ke=ir(oe,1);ma(this,_e,ke,De)}}return Object.defineProperty(u.prototype,"locked",{get:function(){if(!Bt(this))throw Zt("locked");return Ut(this)},enumerable:!1,configurable:!0}),u.prototype.cancel=function(d){return d===void 0&&(d=void 0),Bt(this)?Ut(this)?I(new TypeError("Cannot cancel a stream that already has a reader")):_t(this,d):I(Zt("cancel"))},u.prototype.getReader=function(d){if(d===void 0&&(d=void 0),!Bt(this))throw Zt("getReader");var B=Ra(d,"First parameter");return B.mode===void 0?ge(this):$t(this)},u.prototype.pipeThrough=function(d,B){if(B===void 0&&(B={}),!Bt(this))throw Zt("pipeThrough");b(d,1,"pipeThrough");var oe=xa(d,"First parameter"),_e=bn(B,"Second parameter");if(Ut(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Qt(oe.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var ke=gn(this,oe.writable,_e.preventClose,_e.preventAbort,_e.preventCancel,_e.signal);return h(ke),oe.readable},u.prototype.pipeTo=function(d,B){if(B===void 0&&(B={}),!Bt(this))return I(Zt("pipeTo"));if(d===void 0)return I("Parameter 1 is required in 'pipeTo'.");if(!Kt(d))return I(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var oe;try{oe=bn(B,"Second parameter")}catch(_e){return I(_e)}return Ut(this)?I(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Qt(d)?I(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):gn(this,d,oe.preventClose,oe.preventAbort,oe.preventCancel,oe.signal)},u.prototype.tee=function(){if(!Bt(this))throw Zt("tee");var d=ya(this);return J(d)},u.prototype.values=function(d){if(d===void 0&&(d=void 0),!Bt(this))throw Zt("values");var B=ka(d,"First parameter");return ne(this,B.preventCancel)},u}();Object.defineProperties(Nt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Nt.prototype,n.toStringTag,{value:"ReadableStream",configurable:!0}),typeof n.asyncIterator=="symbol"&&Object.defineProperty(Nt.prototype,n.asyncIterator,{value:Nt.prototype.values,writable:!0,configurable:!0});function Xr(u,d,B,oe,_e){oe===void 0&&(oe=1),_e===void 0&&(_e=function(){return 1});var ke=Object.create(Nt.prototype);Vr(ke);var De=Object.create(er.prototype);return yn(ke,De,u,d,B,oe,_e),ke}function _n(u,d,B){var oe=Object.create(Nt.prototype);Vr(oe);var _e=Object.create(Be.prototype);return dt(oe,_e,u,d,B,0,void 0),oe}function Vr(u){u._state="readable",u._reader=void 0,u._storedError=void 0,u._disturbed=!1}function Bt(u){return!s(u)||!Object.prototype.hasOwnProperty.call(u,"_readableStreamController")?!1:u instanceof Nt}function Ut(u){return u._reader!==void 0}function _t(u,d){if(u._disturbed=!0,u._state==="closed")return E(void 0);if(u._state==="errored")return I(u._storedError);cr(u);var B=u._reader;B!==void 0&&ft(B)&&(B._readIntoRequests.forEach(function(_e){_e._closeSteps(void 0)}),B._readIntoRequests=new k);var oe=u._readableStreamController[N](d);return p(oe,a)}function cr(u){u._state="closed";var d=u._reader;d!==void 0&&(P(d),Fe(d)&&(d._readRequests.forEach(function(B){B._closeSteps()}),d._readRequests=new k))}function Sn(u,d){u._state="errored",u._storedError=d;var B=u._reader;B!==void 0&&(X(B,d),Fe(B)?(B._readRequests.forEach(function(oe){oe._errorSteps(d)}),B._readRequests=new k):(B._readIntoRequests.forEach(function(oe){oe._errorSteps(d)}),B._readIntoRequests=new k))}function Zt(u){return new TypeError("ReadableStream.prototype."+u+" can only be used on a ReadableStream")}function wn(u,d){Se(u,d);var B=u==null?void 0:u.highWaterMark;return g(B,"highWaterMark","QueuingStrategyInit"),{highWaterMark:x(B)}}var An=function(u){return u.byteLength};Object.defineProperty(An,"name",{value:"size",configurable:!0});var kr=function(){function u(d){b(d,1,"ByteLengthQueuingStrategy"),d=wn(d,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=d.highWaterMark}return Object.defineProperty(u.prototype,"highWaterMark",{get:function(){if(!En(this))throw Tn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"size",{get:function(){if(!En(this))throw Tn("size");return An},enumerable:!1,configurable:!0}),u}();Object.defineProperties(kr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(kr.prototype,n.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Tn(u){return new TypeError("ByteLengthQueuingStrategy.prototype."+u+" can only be used on a ByteLengthQueuingStrategy")}function En(u){return!s(u)||!Object.prototype.hasOwnProperty.call(u,"_byteLengthQueuingStrategyHighWaterMark")?!1:u instanceof kr}var Rn=function(){return 1};Object.defineProperty(Rn,"name",{value:"size",configurable:!0});var Pr=function(){function u(d){b(d,1,"CountQueuingStrategy"),d=wn(d,"First parameter"),this._countQueuingStrategyHighWaterMark=d.highWaterMark}return Object.defineProperty(u.prototype,"highWaterMark",{get:function(){if(!kn(this))throw Cn("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"size",{get:function(){if(!kn(this))throw Cn("size");return Rn},enumerable:!1,configurable:!0}),u}();Object.defineProperties(Pr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Pr.prototype,n.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Cn(u){return new TypeError("CountQueuingStrategy.prototype."+u+" can only be used on a CountQueuingStrategy")}function kn(u){return!s(u)||!Object.prototype.hasOwnProperty.call(u,"_countQueuingStrategyHighWaterMark")?!1:u instanceof Pr}function Oa(u,d){Se(u,d);var B=u==null?void 0:u.flush,oe=u==null?void 0:u.readableType,_e=u==null?void 0:u.start,ke=u==null?void 0:u.transform,De=u==null?void 0:u.writableType;return{flush:B===void 0?void 0:Ia(B,u,d+" has member 'flush' that"),readableType:oe,start:_e===void 0?void 0:Fa(_e,u,d+" has member 'start' that"),transform:ke===void 0?void 0:Ma(ke,u,d+" has member 'transform' that"),writableType:De}}function Ia(u,d,B){return we(u,B),function(oe){return T(u,d,[oe])}}function Fa(u,d,B){return we(u,B),function(oe){return A(u,d,[oe])}}function Ma(u,d,B){return we(u,B),function(oe,_e){return T(u,d,[oe,_e])}}var xr=function(){function u(d,B,oe){d===void 0&&(d={}),B===void 0&&(B={}),oe===void 0&&(oe={}),d===void 0&&(d=null);var _e=gr(B,"Second parameter"),ke=gr(oe,"Third parameter"),De=Oa(d,"First parameter");if(De.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(De.writableType!==void 0)throw new RangeError("Invalid writableType specified");var Ge=ir(ke,0),Ke=vr(ke),Qe=ir(_e,1),et=vr(_e),tt,ct=m(function(St){tt=St});Da(this,ct,Qe,et,Ge,Ke),Na(this,De),De.start!==void 0?tt(De.start(this._transformStreamController)):tt(void 0)}return Object.defineProperty(u.prototype,"readable",{get:function(){if(!Pn(this))throw Fn("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"writable",{get:function(){if(!Pn(this))throw Fn("writable");return this._writable},enumerable:!1,configurable:!0}),u}();Object.defineProperties(xr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(xr.prototype,n.toStringTag,{value:"TransformStream",configurable:!0});function Da(u,d,B,oe,_e,ke){function De(){return d}function Ge(ct){return Wa(u,ct)}function Ke(ct){return za(u,ct)}function Qe(){return $a(u)}u._writable=Hn(De,Ge,Qe,Ke,B,oe);function et(){return ja(u)}function tt(ct){return Ir(u,ct),E(void 0)}u._readable=Xr(De,et,tt,_e,ke),u._backpressure=void 0,u._backpressureChangePromise=void 0,u._backpressureChangePromise_resolve=void 0,Fr(u,!0),u._transformStreamController=void 0}function Pn(u){return!s(u)||!Object.prototype.hasOwnProperty.call(u,"_transformStreamController")?!1:u instanceof xr}function Or(u,d){Lt(u._readable._readableStreamController,d),Ir(u,d)}function Ir(u,d){xn(u._transformStreamController),zr(u._writable._writableStreamController,d),u._backpressure&&Fr(u,!1)}function Fr(u,d){u._backpressureChangePromise!==void 0&&u._backpressureChangePromise_resolve(),u._backpressureChangePromise=m(function(B){u._backpressureChangePromise_resolve=B}),u._backpressure=d}var dr=function(){function u(){throw new TypeError("Illegal constructor")}return Object.defineProperty(u.prototype,"desiredSize",{get:function(){if(!Mr(this))throw Dr("desiredSize");var d=this._controlledTransformStream._readable._readableStreamController;return Zr(d)},enumerable:!1,configurable:!0}),u.prototype.enqueue=function(d){if(d===void 0&&(d=void 0),!Mr(this))throw Dr("enqueue");On(this,d)},u.prototype.error=function(d){if(d===void 0&&(d=void 0),!Mr(this))throw Dr("error");Ba(this,d)},u.prototype.terminate=function(){if(!Mr(this))throw Dr("terminate");Ua(this)},u}();Object.defineProperties(dr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(dr.prototype,n.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Mr(u){return!s(u)||!Object.prototype.hasOwnProperty.call(u,"_controlledTransformStream")?!1:u instanceof dr}function La(u,d,B,oe){d._controlledTransformStream=u,u._transformStreamController=d,d._transformAlgorithm=B,d._flushAlgorithm=oe}function Na(u,d){var B=Object.create(dr.prototype),oe=function(ke){try{return On(B,ke),E(void 0)}catch(De){return I(De)}},_e=function(){return E(void 0)};d.transform!==void 0&&(oe=function(ke){return d.transform(ke,B)}),d.flush!==void 0&&(_e=function(){return d.flush(B)}),La(u,B,oe,_e)}function xn(u){u._transformAlgorithm=void 0,u._flushAlgorithm=void 0}function On(u,d){var B=u._controlledTransformStream,oe=B._readable._readableStreamController;if(!tr(oe))throw new TypeError("Readable side is not in a state that permits enqueue");try{Rr(oe,d)}catch(ke){throw Ir(B,ke),B._readable._storedError}var _e=ga(oe);_e!==B._backpressure&&Fr(B,!0)}function Ba(u,d){Or(u._controlledTransformStream,d)}function In(u,d){var B=u._transformAlgorithm(d);return p(B,void 0,function(oe){throw Or(u._controlledTransformStream,oe),oe})}function Ua(u){var d=u._controlledTransformStream,B=d._readable._readableStreamController;fr(B);var oe=new TypeError("TransformStream terminated");Ir(d,oe)}function Wa(u,d){var B=u._transformStreamController;if(u._backpressure){var oe=u._backpressureChangePromise;return p(oe,function(){var _e=u._writable,ke=_e._state;if(ke==="erroring")throw _e._storedError;return In(B,d)})}return In(B,d)}function za(u,d){return Or(u,d),E(void 0)}function $a(u){var d=u._readable,B=u._transformStreamController,oe=B._flushAlgorithm();return xn(B),p(oe,function(){if(d._state==="errored")throw d._storedError;fr(d._readableStreamController)},function(_e){throw Or(u,_e),d._storedError})}function ja(u){return Fr(u,!1),u._backpressureChangePromise}function Dr(u){return new TypeError("TransformStreamDefaultController.prototype."+u+" can only be used on a TransformStreamDefaultController")}function Fn(u){return new TypeError("TransformStream.prototype."+u+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=kr,t.CountQueuingStrategy=Pr,t.ReadableByteStreamController=Be,t.ReadableStream=Nt,t.ReadableStreamBYOBReader=bt,t.ReadableStreamBYOBRequest=Ue,t.ReadableStreamDefaultController=er,t.ReadableStreamDefaultReader=xe,t.TransformStream=xr,t.TransformStreamDefaultController=dr,t.WritableStream=or,t.WritableStreamDefaultController=Jt,t.WritableStreamDefaultWriter=sr,Object.defineProperty(t,"__esModule",{value:!0})})},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BaseStandardFontDataFactory=r.BaseSVGFactory=r.BaseCanvasFactory=r.BaseCMapReaderFactory=void 0;var n=i(t(2)),a=t(4);function i(I){return I&&I.__esModule?I:{default:I}}function o(I,C,M,O,D,p,h){try{var y=I[p](h),A=y.value}catch(T){M(T);return}y.done?C(A):Promise.resolve(A).then(O,D)}function s(I){return function(){var C=this,M=arguments;return new Promise(function(O,D){var p=I.apply(C,M);function h(A){o(p,O,D,h,y,"next",A)}function y(A){o(p,O,D,h,y,"throw",A)}h(void 0)})}}function l(I,C){if(!(I instanceof C))throw new TypeError("Cannot call a class as a function")}function f(I,C){for(var M=0;M<C.length;M++){var O=C[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(I,O.key,O)}}function c(I,C,M){return C&&f(I.prototype,C),M&&f(I,M),I}var w=function(){function I(){l(this,I),this.constructor===I&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}return c(I,[{key:"create",value:function(M,O){if(M<=0||O<=0)throw new Error("Invalid canvas size");var D=this._createCanvas(M,O);return{canvas:D,context:D.getContext("2d")}}},{key:"reset",value:function(M,O,D){if(!M.canvas)throw new Error("Canvas is not specified");if(O<=0||D<=0)throw new Error("Invalid canvas size");M.canvas.width=O,M.canvas.height=D}},{key:"destroy",value:function(M){if(!M.canvas)throw new Error("Canvas is not specified");M.canvas.width=0,M.canvas.height=0,M.canvas=null,M.context=null}},{key:"_createCanvas",value:function(M,O){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}]),I}();r.BaseCanvasFactory=w;var R=function(){function I(C){var M=C.baseUrl,O=M===void 0?null:M,D=C.isCompressed,p=D===void 0?!1:D;l(this,I),this.constructor===I&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=O,this.isCompressed=p}return c(I,[{key:"fetch",value:function(){var C=s(n.default.mark(function O(D){var p=this,h,y,A;return n.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(h=D.name,this.baseUrl){_.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(h){_.next=5;break}throw new Error("CMap name must be specified.");case 5:return y=this.baseUrl+h+(this.isCompressed?".bcmap":""),A=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE,_.abrupt("return",this._fetchData(y,A).catch(function(k){throw new Error("Unable to load ".concat(p.isCompressed?"binary ":"","CMap at: ").concat(y))}));case 8:case"end":return _.stop()}},O,this)}));function M(O){return C.apply(this,arguments)}return M}()},{key:"_fetchData",value:function(M,O){(0,a.unreachable)("Abstract method `_fetchData` called.")}}]),I}();r.BaseCMapReaderFactory=R;var m=function(){function I(C){var M=C.baseUrl,O=M===void 0?null:M;l(this,I),this.constructor===I&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=O}return c(I,[{key:"fetch",value:function(){var C=s(n.default.mark(function O(D){var p,h;return n.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(p=D.filename,this.baseUrl){A.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(p){A.next=5;break}throw new Error("Font filename must be specified.");case 5:return h="".concat(this.baseUrl).concat(p),A.abrupt("return",this._fetchData(h).catch(function(T){throw new Error("Unable to load font data at: ".concat(h))}));case 7:case"end":return A.stop()}},O,this)}));function M(O){return C.apply(this,arguments)}return M}()},{key:"_fetchData",value:function(M){(0,a.unreachable)("Abstract method `_fetchData` called.")}}]),I}();r.BaseStandardFontDataFactory=m;var E=function(){function I(){l(this,I),this.constructor===I&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}return c(I,[{key:"create",value:function(M,O){if(M<=0||O<=0)throw new Error("Invalid SVG dimensions");var D=this._createSVG("svg:svg");return D.setAttribute("version","1.1"),D.setAttribute("width","".concat(M,"px")),D.setAttribute("height","".concat(O,"px")),D.setAttribute("preserveAspectRatio","none"),D.setAttribute("viewBox","0 0 ".concat(M," ").concat(O)),D}},{key:"createElement",value:function(M){if(typeof M!="string")throw new Error("Invalid SVG element type");return this._createSVG(M)}},{key:"_createSVG",value:function(M){(0,a.unreachable)("Abstract method `_createSVG` called.")}}]),I}();r.BaseSVGFactory=E},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(137),_node_utils=__w_pdfjs_require__(138),_annotation_storage=__w_pdfjs_require__(139),_canvas=__w_pdfjs_require__(140),_worker_options=__w_pdfjs_require__(142),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(143),_metadata=__w_pdfjs_require__(144),_optional_content_config=__w_pdfjs_require__(145),_transport_stream=__w_pdfjs_require__(146),_xfa_text=__w_pdfjs_require__(147);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classPrivateFieldInitSpec(e,r,t){_checkPrivateRedeclaration(e,r),r.set(e,t)}function _checkPrivateRedeclaration(e,r){if(r.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,r,t){var n=_classExtractFieldDescriptor(e,r,"set");return _classApplyDescriptorSet(e,n,t),t}function _classApplyDescriptorSet(e,r,t){if(r.set)r.set.call(e,t);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=t}}function _classPrivateFieldGet(e,r){var t=_classExtractFieldDescriptor(e,r,"get");return _classApplyDescriptorGet(e,t)}function _classExtractFieldDescriptor(e,r,t){if(!r.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return r.get(e)}function _classApplyDescriptorGet(e,r){return r.get?r.get.call(e):r.value}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var f=t.next();return i=f.done,f},e:function(f){o=!0,s=f},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}function asyncGeneratorStep(e,r,t,n,a,i,o){try{var s=e[i](o),l=s.value}catch(f){t(f);return}s.done?r(l):Promise.resolve(l).then(n,a)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var i=e.apply(r,t);function o(l){asyncGeneratorStep(i,n,a,o,s,"next",l)}function s(l){asyncGeneratorStep(i,n,a,o,s,"throw",l)}o(void 0)})}}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_unsupportedIterableToArray(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(e,r){if(!!e){if(typeof e=="string")return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,r)}}function _arrayLikeToArray(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _iterableToArrayLimit(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],a=!0,i=!1,o,s;try{for(t=t.call(e);!(a=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));a=!0);}catch(l){i=!0,s=l}finally{try{!a&&t.return!=null&&t.return()}finally{if(i)throw s}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(t){return typeof t}:_typeof=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;var createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var r=new PDFDocumentLoadingTask,t;if(typeof e=="string"||e instanceof URL)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if(_typeof(e)!=="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var n=Object.create(null),a=null,i=null;for(var o in t){var s=t[o];switch(o){case"url":if(typeof window<"u")try{n[o]=new URL(s,window.location).href;continue}catch(c){(0,_util.warn)('Cannot create valid URL: "'.concat(c,'".'))}else if(typeof s=="string"||s instanceof URL){n[o]=s.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":a=s;continue;case"worker":i=s;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&s instanceof Buffer)n[o]=new Uint8Array(s);else{if(s instanceof Uint8Array)break;if(typeof s=="string")n[o]=(0,_util.stringToBytes)(s);else if(_typeof(s)==="object"&&s!==null&&!isNaN(s.length))n[o]=new Uint8Array(s);else if((0,_util.isArrayBuffer)(s))n[o]=new Uint8Array(s);else throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.")}continue}n[o]=s}if(n.rangeChunkSize=n.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=n.stopAtErrors!==!0,n.fontExtraProperties=n.fontExtraProperties===!0,n.pdfBug=n.pdfBug===!0,n.enableXfa=n.enableXfa===!0,(typeof n.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),Number.isInteger(n.maxImageSize)||(n.maxImageSize=-1),typeof n.useWorkerFetch!="boolean"&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof n.isEvalSupported!="boolean"&&(n.isEvalSupported=!0),typeof n.disableFontFace!="boolean"&&(n.disableFontFace=_is_node.isNodeJS),typeof n.useSystemFonts!="boolean"&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),typeof n.ownerDocument>"u"&&(n.ownerDocument=globalThis.document),typeof n.disableRange!="boolean"&&(n.disableRange=!1),typeof n.disableStream!="boolean"&&(n.disableStream=!1),typeof n.disableAutoFetch!="boolean"&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!i){var l={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};i=l.port?PDFWorker.fromPort(l):new PDFWorker(l),r._worker=i}var f=r.docId;return i.promise.then(function(){if(r.destroyed)throw new Error("Loading aborted");var c=_fetchDocument(i,n,a,f),w=new Promise(function(R){var m;a?m=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},a):n.data||(m=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),R(m)});return Promise.all([c,w]).then(function(R){var m=_slicedToArray(R,2),E=m[0],I=m[1];if(r.destroyed)throw new Error("Loading aborted");var C=new _message_handler.MessageHandler(f,E,i.port),M=new WorkerTransport(C,r,I,n);r._transport=M,C.send("Ready",null)})}).catch(r._capability.reject),r}function _fetchDocument(e,r,t,n){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return _fetchDocument2=_asyncToGenerator(_regenerator.default.mark(function e(r,t,n,a){var i;return _regenerator.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!r.destroyed){s.next=2;break}throw new Error("Worker was destroyed");case 2:return n&&(t.length=n.length,t.initialData=n.initialData,t.progressiveDone=n.progressiveDone,t.contentDispositionFilename=n.contentDispositionFilename),s.next=5,r.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.12.313",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,enableXfa:t.enableXfa,useSystemFonts:t.useSystemFonts,cMapUrl:t.useWorkerFetch?t.cMapUrl:null,standardFontDataUrl:t.useWorkerFetch?t.standardFontDataUrl:null});case 5:if(i=s.sent,!r.destroyed){s.next=8;break}throw new Error("Worker was destroyed");case 8:return s.abrupt("return",i);case 9:case"end":return s.stop()}},e)})),_fetchDocument2.apply(this,arguments)}var PDFDocumentLoadingTask=function(){function e(){_classCallCheck(this,e),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat(e.idCounters.doc++),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(e,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var r=_asyncToGenerator(_regenerator.default.mark(function n(){var a;return _regenerator.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.destroyed=!0,o.next=3,(a=this._transport)===null||a===void 0?void 0:a.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return o.stop()}},n,this)}));function t(){return r.apply(this,arguments)}return t}()}],[{key:"idCounters",get:function(){return(0,_util.shadow)(this,"idCounters",{doc:0})}}]),e}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=function(){function e(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;_classCallCheck(this,e),this.length=r,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(e,[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,n){var a=_createForOfIteratorHelper(this._rangeListeners),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;o(t,n)}}catch(s){a.e(s)}finally{a.f()}}},{key:"onDataProgress",value:function(t,n){var a=this;this._readyCapability.promise.then(function(){var i=_createForOfIteratorHelper(a._progressListeners),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;s(t,n)}}catch(l){i.e(l)}finally{i.f()}})}},{key:"onDataProgressiveRead",value:function(t){var n=this;this._readyCapability.promise.then(function(){var a=_createForOfIteratorHelper(n._progressiveReadListeners),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;o(t)}}catch(s){a.e(s)}finally{a.f()}})}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then(function(){var n=_createForOfIteratorHelper(t._progressiveDoneListeners),a;try{for(n.s();!(a=n.n()).done;){var i=a.value;i()}}catch(o){n.e(o)}finally{n.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(t,n){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function e(r,t){var n=this;_classCallCheck(this,e),this._pdfInfo=r,this._transport=t,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:function(){var a=_asyncToGenerator(_regenerator.default.mark(function o(){return _regenerator.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),l.abrupt("return",n.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return l.stop()}},o)}));function i(){return a.apply(this,arguments)}return i}()})}return _createClass(e,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"stats",get:function(){return this._transport.stats}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(t||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),e}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function e(r,t,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;_classCallCheck(this,e),this._pageIndex=r,this._pageInfo=t,this._ownerDocument=a,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}return _createClass(e,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.scale,a=t.rotation,i=a===void 0?this.rotate:a,o=t.offsetX,s=o===void 0?0:o,l=t.offsetY,f=l===void 0?0:l,c=t.dontFlip,w=c===void 0?!1:c;return new _display_utils.PageViewport({viewBox:this.view,scale:n,rotation:i,offsetX:s,offsetY:f,dontFlip:w})}},{key:"getAnnotations",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.intent,a=n===void 0?"display":n,i=this._transport.getRenderingIntent(a),o=this._annotationPromises.get(i.cacheKey);return o||(o=this._transport.getAnnotations(this._pageIndex,i.renderingIntent),this._annotationPromises.set(i.cacheKey,o),o=o.then(function(s){var l=_createForOfIteratorHelper(s),f;try{var c=function(){var R=f.value;R.titleObj!==void 0&&Object.defineProperty(R,"title",{get:function(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),R.titleObj.str}}),R.contentsObj!==void 0&&Object.defineProperty(R,"contents",{get:function(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),R.contentsObj.str}})};for(l.s();!(f=l.n()).done;)c()}catch(w){l.e(w)}finally{l.f()}return s})),o}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){var r=_asyncToGenerator(_regenerator.default.mark(function n(){var a;return _regenerator.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",((a=this._transport._htmlForXfa)===null||a===void 0?void 0:a.children[this._pageIndex])||null);case 1:case"end":return o.stop()}},n,this)}));function t(){return r.apply(this,arguments)}return t}()},{key:"render",value:function(t){var n,a,i=this,o,s=t.canvasContext,l=t.viewport,f=t.intent,c=f===void 0?"display":f,w=t.annotationMode,R=w===void 0?_util.AnnotationMode.ENABLE:w,m=t.transform,E=m===void 0?null:m,I=t.imageLayer,C=I===void 0?null:I,M=t.canvasFactory,O=M===void 0?null:M,D=t.background,p=D===void 0?null:D,h=t.optionalContentConfigPromise,y=h===void 0?null:h,A=t.annotationCanvasMap,T=A===void 0?null:A;((n=arguments[0])===null||n===void 0?void 0:n.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&R===_util.AnnotationMode.ENABLE&&(R=_util.AnnotationMode.ENABLE_FORMS)),((a=arguments[0])===null||a===void 0?void 0:a.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&R===_util.AnnotationMode.ENABLE&&(R=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var _=this._transport.getRenderingIntent(c,R);this.pendingCleanup=!1,y||(y=this._transport.getOptionalContentConfig());var k=this._intentStates.get(_.cacheKey);k||(k=Object.create(null),this._intentStates.set(_.cacheKey,k)),k.streamReaderCancelTimeout&&(clearTimeout(k.streamReaderCancelTimeout),k.streamReaderCancelTimeout=null);var L=O||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),j=!!(_.renderingIntent&_util.RenderingIntentFlag.PRINT);k.displayReadyCapability||(k.displayReadyCapability=(0,_util.createPromiseCapability)(),k.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(_));var W=function(ae){k.renderTasks.delete(V),(i.cleanupAfterRender||j)&&(i.pendingCleanup=!0),i._tryCleanup(),ae?(V.capability.reject(ae),i._abortOperatorList({intentState:k,reason:ae instanceof Error?ae:new Error(ae)})):V.capability.resolve(),i._stats&&(i._stats.timeEnd("Rendering"),i._stats.timeEnd("Overall"))},V=new InternalRenderTask({callback:W,params:{canvasContext:s,viewport:l,transform:E,imageLayer:C,background:p},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:T,operatorList:k.operatorList,pageIndex:this._pageIndex,canvasFactory:L,useRequestAnimationFrame:!j,pdfBug:this._pdfBug});((o=k).renderTasks||(o.renderTasks=new Set)).add(V);var te=V.task;return Promise.all([k.displayReadyCapability.promise,y]).then(function(q){var ae=_slicedToArray(q,2),X=ae[0],K=ae[1];if(i.pendingCleanup){W();return}i._stats&&i._stats.time("Rendering"),V.initializeGraphics({transparency:X,optionalContentConfig:K}),V.operatorListChanged()}).catch(W),te}},{key:"getOperatorList",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.intent,a=n===void 0?"display":n,i=t.annotationMode,o=i===void 0?_util.AnnotationMode.ENABLE:i;function s(){f.operatorList.lastChunk&&(f.opListReadCapability.resolve(f.operatorList),f.renderTasks.delete(c))}var l=this._transport.getRenderingIntent(a,o,!0),f=this._intentStates.get(l.cacheKey);f||(f=Object.create(null),this._intentStates.set(l.cacheKey,f));var c;if(!f.opListReadCapability){var w;c=Object.create(null),c.operatorListChanged=s,f.opListReadCapability=(0,_util.createPromiseCapability)(),((w=f).renderTasks||(w.renderTasks=new Set)).add(c),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(l)}return f.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.normalizeWhitespace,a=n===void 0?!1:n,i=t.disableCombineTextItems,o=i===void 0?!1:i,s=t.includeMarkedContent,l=s===void 0?!1:s,f=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:a===!0,combineTextItems:o!==!0,includeMarkedContent:l===!0},{highWaterMark:f,size:function(w){return w.items.length}})}},{key:"getTextContent",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(function(a){return _xfa_text.XfaText.textContent(a)});var n=this.streamTextContent(t);return new Promise(function(a,i){function o(){s.read().then(function(f){var c,w=f.value,R=f.done;if(R){a(l);return}Object.assign(l.styles,w.styles),(c=l.items).push.apply(c,_toConsumableArray(w.items)),o()},i)}var s=n.getReader(),l={items:[],styles:Object.create(null)};o()})}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0;var t=[],n=_createForOfIteratorHelper(this._intentStates.values()),a;try{for(n.s();!(a=n.n()).done;){var i=a.value;if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability){var o=_createForOfIteratorHelper(i.renderTasks),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;t.push(l.completed),l.cancel()}}catch(f){o.e(f)}finally{o.f()}}}}catch(f){n.e(f)}finally{n.f()}return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pendingCleanup=!0,this._tryCleanup(t)}},{key:"_tryCleanup",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.pendingCleanup)return!1;var n=_createForOfIteratorHelper(this._intentStates.values()),a;try{for(n.s();!(a=n.n()).done;){var i=a.value,o=i.renderTasks,s=i.operatorList;if(o.size>0||!s.lastChunk)return!1}}catch(l){n.e(l)}finally{n.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(t,n){var a=this._intentStates.get(n);!a||(this._stats&&this._stats.timeEnd("Page Request"),a.displayReadyCapability&&a.displayReadyCapability.resolve(t))}},{key:"_renderPageChunk",value:function(t,n){for(var a=0,i=t.length;a<i;a++)n.operatorList.fnArray.push(t.fnArray[a]),n.operatorList.argsArray.push(t.argsArray[a]);n.operatorList.lastChunk=t.lastChunk;var o=_createForOfIteratorHelper(n.renderTasks),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.operatorListChanged()}}catch(f){o.e(f)}finally{o.f()}t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(t){var n=this,a=t.renderingIntent,i=t.cacheKey,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:i,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}),s=o.getReader(),l=this._intentStates.get(i);l.streamReader=s;var f=function c(){s.read().then(function(w){var R=w.value,m=w.done;if(m){l.streamReader=null;return}n._transport.destroyed||(n._renderPageChunk(R,l),c())},function(w){if(l.streamReader=null,!n._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;var R=_createForOfIteratorHelper(l.renderTasks),m;try{for(R.s();!(m=R.n()).done;){var E=m.value;E.operatorListChanged()}}catch(I){R.e(I)}finally{R.f()}n._tryCleanup()}if(l.displayReadyCapability)l.displayReadyCapability.reject(w);else if(l.opListReadCapability)l.opListReadCapability.reject(w);else throw w}})};f()}},{key:"_abortOperatorList",value:function(t){var n=this,a=t.intentState,i=t.reason,o=t.force,s=o===void 0?!1:o;if(!!a.streamReader){if(!s){if(a.renderTasks.size>0)return;if(i instanceof _display_utils.RenderingCancelledException){a.streamReaderCancelTimeout=setTimeout(function(){n._abortOperatorList({intentState:a,reason:i,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(a.streamReader.cancel(new _util.AbortException(i.message)).catch(function(){}),a.streamReader=null,!this._transport.destroyed){var l=_createForOfIteratorHelper(this._intentStates),f;try{for(l.s();!(f=l.n()).done;){var c=_slicedToArray(f.value,2),w=c[0],R=c[1];if(R===a){this._intentStates.delete(w);break}}}catch(m){l.e(m)}finally{l.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),e}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){_classCallCheck(this,e),this._listeners=[],this._deferred=Promise.resolve()}return _createClass(e,[{key:"postMessage",value:function(t,n){var a=this;function i(s){if(globalThis.structuredClone)return globalThis.structuredClone(s,n);function l(c){if(typeof c=="function"||_typeof(c)==="symbol"||c instanceof URL)throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(c==null?void 0:c.toString()));if(_typeof(c)!=="object"||c===null)return c;if(f.has(c))return f.get(c);var w,R;if((w=c.buffer)&&(0,_util.isArrayBuffer)(w))return n!=null&&n.includes(w)?R=new c.constructor(w,c.byteOffset,c.byteLength):R=new c.constructor(c),f.set(c,R),R;if(c instanceof Map){R=new Map,f.set(c,R);var m=_createForOfIteratorHelper(c),E;try{for(m.s();!(E=m.n()).done;){var I=_slicedToArray(E.value,2),C=I[0],M=I[1];R.set(C,l(M))}}catch(_){m.e(_)}finally{m.f()}return R}if(c instanceof Set){R=new Set,f.set(c,R);var O=_createForOfIteratorHelper(c),D;try{for(O.s();!(D=O.n()).done;){var p=D.value;R.add(l(p))}}catch(_){O.e(_)}finally{O.f()}return R}R=Array.isArray(c)?[]:Object.create(null),f.set(c,R);for(var h in c){for(var y,A=void 0,T=c;!(A=Object.getOwnPropertyDescriptor(T,h));)T=Object.getPrototypeOf(T);typeof A.value>"u"||typeof A.value=="function"&&!((y=c.hasOwnProperty)!==null&&y!==void 0&&y.call(c,h))||(R[h]=l(A.value))}return R}var f=new WeakMap;return l(s)}var o={data:i(t)};this._deferred.then(function(){var s=_createForOfIteratorHelper(a._listeners),l;try{for(s.s();!(l=s.n()).done;){var f=l.value;f.call(a,o)}}catch(c){s.e(c)}finally{s.f()}})}},{key:"addEventListener",value:function(t,n){this._listeners.push(n)}},{key:"removeEventListener",value:function(t,n){var a=this._listeners.indexOf(n);this._listeners.splice(a,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if((typeof document>"u"?"undefined":_typeof(document))==="object"){var _document,_document$currentScri,pdfjsFilePath=(_document=document)===null||_document===void 0||(_document$currentScri=_document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(e){var r='importScripts("'.concat(e,'");');return URL.createObjectURL(new Blob([r]))}}var PDFWorker=function(){function PDFWorker(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.name,t=r===void 0?null:r,n=e.port,a=n===void 0?null:n,i=e.verbosity,o=i===void 0?(0,_util.getVerbosityLevel)():i;if(_classCallCheck(this,PDFWorker),a&&PDFWorker._workerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=t,this.destroyed=!1,this.verbosity=o,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a){PDFWorker._workerPorts.set(a,this),this._initializeFromPort(a);return}this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(r){this._port=r,this._messageHandler=new _message_handler.MessageHandler("main","worker",r),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var r=this;if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var t=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));var n=new Worker(t),a=new _message_handler.MessageHandler("main","worker",n),i=function(){n.removeEventListener("error",o),a.destroy(),n.terminate(),r.destroyed?r._readyCapability.reject(new Error("Worker was destroyed")):r._setupFakeWorker()},o=function(){r._webWorker||i()};n.addEventListener("error",o),a.on("test",function(l){if(n.removeEventListener("error",o),r.destroyed){i();return}l?(r._messageHandler=a,r._port=n,r._webWorker=n,r._readyCapability.resolve(),a.send("configure",{verbosity:r.verbosity})):(r._setupFakeWorker(),a.destroy(),n.terminate())}),a.on("ready",function(l){if(n.removeEventListener("error",o),r.destroyed){i();return}try{s()}catch{r._setupFakeWorker()}});var s=function(){var f=new Uint8Array([255]);try{a.send("test",f,[f.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),f[0]=0,a.send("test",f)}};s();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var r=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(function(t){if(r.destroyed){r._readyCapability.reject(new Error("Worker was destroyed"));return}var n=new LoopbackPort;r._port=n;var a="fake".concat(PDFWorkerUtil.fakeWorkerId++),i=new _message_handler.MessageHandler(a+"_worker",a,n);t.setup(i,n);var o=new _message_handler.MessageHandler(a,a+"_worker",n);r._messageHandler=o,r._readyCapability.resolve(),o.send("configure",{verbosity:r.verbosity})}).catch(function(t){r._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"_workerPorts",get:function(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}},{key:"fromPort",value:function(r){if(!(r!=null&&r.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(r.port)?this._workerPorts.get(r.port):new PDFWorker(r)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var r;return((r=globalThis.pdfjsWorker)===null||r===void 0?void 0:r.WorkerMessageHandler)||null}catch{return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this11=this,loader=function(){var _ref15=_asyncToGenerator(_regenerator.default.mark(function _callee4(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(mainWorkerMessageHandler=_this11._mainThreadWorkerMessageHandler,!mainWorkerMessageHandler){_context4.next=3;break}return _context4.abrupt("return",mainWorkerMessageHandler);case 3:if(!(_is_node.isNodeJS&&typeof commonjsRequire=="function")){_context4.next=6;break}return worker=eval("require")(_this11.workerSrc),_context4.abrupt("return",worker.WorkerMessageHandler);case 6:return _context4.next=8,(0,_display_utils.loadScript)(_this11.workerSrc);case 8:return _context4.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context4.stop()}},_callee4)}));return function e(){return _ref15.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}();exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap,WorkerTransport=function(){function e(r,t,n,a){_classCallCheck(this,e),_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=r,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this._params=a,a.useWorkerFetch||(this.CMapReaderFactory=new a.CMapReaderFactory({baseUrl:a.cMapUrl,isCompressed:a.cMapPacked}),this.StandardFontDataFactory=new a.StandardFontDataFactory({baseUrl:a.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(e,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"stats",get:function(){return _classPrivateFieldGet(this,_docStats)}},{key:"getRenderingIntent",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=_util.RenderingIntentFlag.DISPLAY,o="";switch(t){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(t))}switch(n){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,o=this.annotationStorage.lastModified;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(n))}return a&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:"".concat(i,"_").concat(o)}}},{key:"destroy",value:function(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var n=[],a=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;n.push(o._destroy())}}catch(l){a.e(l)}finally{a.f()}_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var s=this.messageHandler.sendWithPromise("Terminate",null);return n.push(s),Promise.all(n).then(function(){t.commonObjs.clear(),t.fontLoader.clear(),_classPrivateFieldSet(t,_metadataPromise,null),t._getFieldObjectsPromise=null,t._hasJSActionsPromise=null,t._networkStream&&t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,n=this.messageHandler,a=this.loadingTask;n.on("GetReader",function(i,o){(0,_util.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(s){t._lastProgress={loaded:s.loaded,total:s.total}},o.onPull=function(){t._fullReader.read().then(function(s){var l=s.value,f=s.done;if(f){o.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(l),"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(l),1,[l])}).catch(function(s){o.error(s)})},o.onCancel=function(s){t._fullReader.cancel(s),o.ready.catch(function(l){if(!t.destroyed)throw l})}}),n.on("ReaderHeadersReady",function(i){var o=(0,_util.createPromiseCapability)(),s=t._fullReader;return s.headersReady.then(function(){if(!s.isStreamingSupported||!s.isRangeSupported){if(t._lastProgress){var l;(l=a.onProgress)===null||l===void 0||l.call(a,t._lastProgress)}s.onProgress=function(f){var c;(c=a.onProgress)===null||c===void 0||c.call(a,{loaded:f.loaded,total:f.total})}}o.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},o.reject),o.promise}),n.on("GetRangeReader",function(i,o){(0,_util.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var s=t._networkStream.getRangeReader(i.begin,i.end);if(!s){o.close();return}o.onPull=function(){s.read().then(function(l){var f=l.value,c=l.done;if(c){o.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(f),"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(f),1,[f])}).catch(function(l){o.error(l)})},o.onCancel=function(l){s.cancel(l),o.ready.catch(function(f){if(!t.destroyed)throw f})}}),n.on("GetDoc",function(i){var o=i.pdfInfo;t._numPages=o.numPages,t._htmlForXfa=o.htmlForXfa,delete o.htmlForXfa,a._capability.resolve(new PDFDocumentProxy(o,t))}),n.on("DocException",function(i){var o;switch(i.name){case"PasswordException":o=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":o=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":o=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":o=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":o=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}a._capability.reject(o)}),n.on("PasswordRequest",function(i){if(t._passwordCapability=(0,_util.createPromiseCapability)(),a.onPassword){var o=function(l){t._passwordCapability.resolve({password:l})};try{a.onPassword(o,i.code)}catch(s){t._passwordCapability.reject(s)}}else t._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return t._passwordCapability.promise}),n.on("DataLoaded",function(i){var o;(o=a.onProgress)===null||o===void 0||o.call(a,{loaded:i.length,total:i.length}),t.downloadInfoCapability.resolve(i)}),n.on("StartRenderPage",function(i){if(!t.destroyed){var o=_classPrivateFieldGet(t,_pageCache).get(i.pageIndex);o._startRenderPage(i.transparency,i.cacheKey)}}),n.on("commonobj",function(i){var o,s=_slicedToArray(i,3),l=s[0],f=s[1],c=s[2];if(!t.destroyed&&!t.commonObjs.has(l))switch(f){case"Font":var w=t._params;if("error"in c){var R=c.error;(0,_util.warn)("Error during font loading: ".concat(R)),t.commonObjs.resolve(l,R);break}var m=null;w.pdfBug&&(o=globalThis.FontInspector)!==null&&o!==void 0&&o.enabled&&(m={registerFont:function(C,M){globalThis.FontInspector.fontAdded(C,M)}});var E=new _font_loader.FontFaceObject(c,{isEvalSupported:w.isEvalSupported,disableFontFace:w.disableFontFace,ignoreErrors:w.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:m});t.fontLoader.bind(E).catch(function(I){return n.sendWithPromise("FontFallback",{id:l})}).finally(function(){!w.fontExtraProperties&&E.data&&(E.data=null),t.commonObjs.resolve(l,E)});break;case"FontPath":case"Image":t.commonObjs.resolve(l,c);break;default:throw new Error("Got unknown common object type ".concat(f))}}),n.on("obj",function(i){var o,s=_slicedToArray(i,4),l=s[0],f=s[1],c=s[2],w=s[3];if(!t.destroyed){var R=_classPrivateFieldGet(t,_pageCache).get(f);if(!R.objs.has(l))switch(c){case"Image":R.objs.resolve(l,w);var m=8e6;(w==null||(o=w.data)===null||o===void 0?void 0:o.length)>m&&(R.cleanupAfterRender=!0);break;case"Pattern":R.objs.resolve(l,w);break;default:throw new Error("Got unknown object type ".concat(c))}}}),n.on("DocProgress",function(i){var o;t.destroyed||(o=a.onProgress)===null||o===void 0||o.call(a,{loaded:i.loaded,total:i.total})}),n.on("DocStats",function(i){t.destroyed||_classPrivateFieldSet(t,_docStats,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),n.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),n.on("FetchBuiltInCMap",function(i){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.CMapReaderFactory?t.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}),n.on("FetchStandardFontData",function(i){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.StandardFontDataFactory?t.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))})}},{key:"_onUnsupportedFeature",value:function(t){var n,a,i=t.featureId;this.destroyed||(n=(a=this.loadingTask).onUnsupportedFeature)===null||n===void 0||n.call(a,i)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(t){var n=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));var a=t-1,i=_classPrivateFieldGet(this,_pagePromises).get(a);if(i)return i;var o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:a}).then(function(s){if(n.destroyed)throw new Error("Transport destroyed");var l=new PDFPageProxy(a,s,n,n._params.ownerDocument,n._params.pdfBug);return _classPrivateFieldGet(n,_pageCache).set(a,l),l});return _classPrivateFieldGet(this,_pagePromises).set(a,o),o}},{key:"getPageIndex",value:function(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t})}},{key:"getAnnotations",value:function(t,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:n})}},{key:"saveDocument",value:function(){var t,n,a=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(t=(n=this._fullReader)===null||n===void 0?void 0:n.filename)!==null&&t!==void 0?t:null}).finally(function(){a.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}},{key:"getStructTree",value:function(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(t){return new _optional_content_config.OptionalContentConfig(t)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this;return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(function(n){var a,i,o,s;return{info:n[0],metadata:n[1]?new _metadata.Metadata(n[1]):null,contentDispositionFilename:(a=(i=t._fullReader)===null||i===void 0?void 0:i.filename)!==null&&a!==void 0?a:null,contentLength:(o=(s=t._fullReader)===null||s===void 0?void 0:s.contentLength)!==null&&o!==void 0?o:null}}))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:function(){var r=_asyncToGenerator(_regenerator.default.mark(function n(){var a,i,o,s,l,f=arguments;return _regenerator.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return a=f.length>0&&f[0]!==void 0?f[0]:!1,w.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){w.next=5;break}return w.abrupt("return");case 5:i=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),w.prev=6,i.s();case 8:if((o=i.n()).done){w.next=15;break}if(s=o.value,l=s.cleanup(),l){w.next=13;break}throw new Error("startCleanup: Page ".concat(s.pageNumber," is currently rendering."));case 13:w.next=8;break;case 15:w.next=20;break;case 17:w.prev=17,w.t0=w.catch(6),i.e(w.t0);case 20:return w.prev=20,i.f(),w.finish(20);case 23:this.commonObjs.clear(),a||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 28:case"end":return w.stop()}},n,this,[[6,17,20,23]])}));function t(){return r.apply(this,arguments)}return t}()},{key:"loadingParams",get:function(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}]),e}(),PDFObjects=function(){function e(){_classCallCheck(this,e),this._objs=Object.create(null)}return _createClass(e,[{key:"_ensureObj",value:function(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(n)return this._ensureObj(t).capability.promise.then(n),null;var a=this._objs[t];if(!a||!a.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return a.data}},{key:"has",value:function(t){var n=this._objs[t];return(n==null?void 0:n.resolved)||!1}},{key:"resolve",value:function(t,n){var a=this._ensureObj(t);a.resolved=!0,a.data=n,a.capability.resolve(n)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),e}(),RenderTask=function(){function e(r){_classCallCheck(this,e),this._internalRenderTask=r,this.onContinue=null}return _createClass(e,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),e}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function e(r){var t=r.callback,n=r.params,a=r.objs,i=r.commonObjs,o=r.annotationCanvasMap,s=r.operatorList,l=r.pageIndex,f=r.canvasFactory,c=r.useRequestAnimationFrame,w=c===void 0?!1:c,R=r.pdfBug,m=R===void 0?!1:R;_classCallCheck(this,e),this.callback=t,this.params=n,this.objs=a,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=l,this.canvasFactory=f,this._pdfBug=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=w===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}return _createClass(e,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(t){var n,a=t.transparency,i=a===void 0?!1:a,o=t.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(e.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");e.canvasInUse.add(this._canvas)}this._pdfBug&&(n=globalThis.StepperManager)!==null&&n!==void 0&&n.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var s=this.params,l=s.canvasContext,f=s.viewport,c=s.transform,w=s.imageLayer,R=s.background;this.gfx=new _canvas.CanvasGraphics(l,this.commonObjs,this.objs,this.canvasFactory,w,o,this.annotationCanvasMap),this.gfx.beginDrawing({transform:c,viewport:f,transparency:i,background:R}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&e.canvasInUse.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}},{key:"_continue",value:function(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var t=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){t._nextBound().catch(t._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:function(){var r=_asyncToGenerator(_regenerator.default.mark(function n(){return _regenerator.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.cancelled){i.next=2;break}return i.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&e.canvasInUse.delete(this._canvas),this.callback()));case 4:case"end":return i.stop()}},n,this)}));function t(){return r.apply(this,arguments)}return t}()}],[{key:"canvasInUse",get:function(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}}]),e}(),version="2.12.313";exports.version=version;var build="a2ae56f39";exports.build=build},(e,r,t)=>{function n(_){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(L){return typeof L}:n=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},n(_)}Object.defineProperty(r,"__esModule",{value:!0}),r.FontLoader=r.FontFaceObject=void 0;var a=o(t(2)),i=t(4);function o(_){return _&&_.__esModule?_:{default:_}}function s(_,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(k&&k.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),k&&l(_,k)}function l(_,k){return l=Object.setPrototypeOf||function(j,W){return j.__proto__=W,j},l(_,k)}function f(_){var k=R();return function(){var j=m(_),W;if(k){var V=m(this).constructor;W=Reflect.construct(j,arguments,V)}else W=j.apply(this,arguments);return c(this,W)}}function c(_,k){if(k&&(n(k)==="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(_)}function w(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(_){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},m(_)}function E(_,k,L,j,W,V,te){try{var q=_[V](te),ae=q.value}catch(X){L(X);return}q.done?k(ae):Promise.resolve(ae).then(j,W)}function I(_){return function(){var k=this,L=arguments;return new Promise(function(j,W){var V=_.apply(k,L);function te(ae){E(V,j,W,te,q,"next",ae)}function q(ae){E(V,j,W,te,q,"throw",ae)}te(void 0)})}}function C(_,k){var L=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!L){if(Array.isArray(_)||(L=M(_))||k&&_&&typeof _.length=="number"){L&&(_=L);var j=0,W=function(){};return{s:W,n:function(){return j>=_.length?{done:!0}:{done:!1,value:_[j++]}},e:function(X){throw X},f:W}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V=!0,te=!1,q;return{s:function(){L=L.call(_)},n:function(){var X=L.next();return V=X.done,X},e:function(X){te=!0,q=X},f:function(){try{!V&&L.return!=null&&L.return()}finally{if(te)throw q}}}}function M(_,k){if(!!_){if(typeof _=="string")return O(_,k);var L=Object.prototype.toString.call(_).slice(8,-1);if(L==="Object"&&_.constructor&&(L=_.constructor.name),L==="Map"||L==="Set")return Array.from(_);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return O(_,k)}}function O(_,k){(k==null||k>_.length)&&(k=_.length);for(var L=0,j=new Array(k);L<k;L++)j[L]=_[L];return j}function D(_,k){if(!(_ instanceof k))throw new TypeError("Cannot call a class as a function")}function p(_,k){for(var L=0;L<k.length;L++){var j=k[L];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}function h(_,k,L){return k&&p(_.prototype,k),L&&p(_,L),_}var y=function(){function _(k){var L=k.docId,j=k.onUnsupportedFeature,W=k.ownerDocument,V=W===void 0?globalThis.document:W;k.styleElement,D(this,_),this.constructor===_&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=L,this._onUnsupportedFeature=j,this._document=V,this.nativeFontFaces=[],this.styleElement=null}return h(_,[{key:"addNativeFontFace",value:function(L){this.nativeFontFaces.push(L),this._document.fonts.add(L)}},{key:"insertRule",value:function(L){var j=this.styleElement;j||(j=this.styleElement=this._document.createElement("style"),j.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(j));var W=j.sheet;W.insertRule(L,W.cssRules.length)}},{key:"clear",value:function(){var L=C(this.nativeFontFaces),j;try{for(L.s();!(j=L.n()).done;){var W=j.value;this._document.fonts.delete(W)}}catch(V){L.e(V)}finally{L.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var k=I(a.default.mark(function j(W){var V=this,te,q;return a.default.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(!(W.attached||W.missingFile)){X.next=2;break}return X.abrupt("return");case 2:if(W.attached=!0,!this.isFontLoadingAPISupported){X.next=19;break}if(te=W.createNativeFontFace(),!te){X.next=18;break}return this.addNativeFontFace(te),X.prev=7,X.next=10,te.loaded;case 10:X.next=18;break;case 12:throw X.prev=12,X.t0=X.catch(7),this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)("Failed to load font '".concat(te.family,"': '").concat(X.t0,"'.")),W.disableFontFace=!0,X.t0;case 18:return X.abrupt("return");case 19:if(q=W.createFontFaceRule(),!q){X.next=26;break}if(this.insertRule(q),!this.isSyncFontLoadingSupported){X.next=24;break}return X.abrupt("return");case 24:return X.next=26,new Promise(function(K){var P=V._queueLoadingCallback(K);V._prepareFontLoadEvent([q],[W],P)});case 26:case"end":return X.stop()}},j,this,[[7,12]])}));function L(j){return k.apply(this,arguments)}return L}()},{key:"_queueLoadingCallback",value:function(L){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var L,j=!!((L=this._document)!==null&&L!==void 0&&L.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",j)}},{key:"isSyncFontLoadingSupported",get:function(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(L,j,W){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),_}(),A;r.FontLoader=A,r.FontLoader=A=function(_){s(L,_);var k=f(L);function L(j){var W;return D(this,L),W=k.call(this,j),W.loadingContext={requests:[],nextRequestId:0},W.loadTestFontId=0,W}return h(L,[{key:"isSyncFontLoadingSupported",get:function(){var W=!1;if(typeof navigator>"u")W=!0;else{var V=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(V==null?void 0:V[1])>=14&&(W=!0)}return(0,i.shadow)(this,"isSyncFontLoadingSupported",W)}},{key:"_queueLoadingCallback",value:function(W){function V(){for((0,i.assert)(!q.done,"completeRequest() cannot be called twice."),q.done=!0;te.requests.length>0&&te.requests[0].done;){var ae=te.requests.shift();setTimeout(ae.callback,0)}}var te=this.loadingContext,q={id:"pdfjs-font-loading-".concat(te.nextRequestId++),done:!1,complete:V,callback:W};return te.requests.push(q),q}},{key:"_loadTestFont",get:function(){var W=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,i.shadow)(this,"_loadTestFont",W())}},{key:"_prepareFontLoadEvent",value:function(W,V,te){function q(me,Te){return me.charCodeAt(Te)<<24|me.charCodeAt(Te+1)<<16|me.charCodeAt(Te+2)<<8|me.charCodeAt(Te+3)&255}function ae(me,Te,Re,xe){var Fe=me.substring(0,Te),Me=me.substring(Te+Re);return Fe+xe+Me}var X,K,P=this._document.createElement("canvas");P.width=1,P.height=1;var S=P.getContext("2d"),F=0;function N(me,Te){if(F++,F>30){(0,i.warn)("Load test font never loaded."),Te();return}S.font="30px "+me,S.fillText(".",0,20);var Re=S.getImageData(0,0,1,1);if(Re.data[3]>0){Te();return}setTimeout(N.bind(null,me,Te))}var G="lt".concat(Date.now()).concat(this.loadTestFontId++),ee=this._loadTestFont,Y=976;ee=ae(ee,Y,G.length,G);var he=16,Se=1482184792,we=q(ee,he);for(X=0,K=G.length-3;X<K;X+=4)we=we-Se+q(G,X)|0;X<G.length&&(we=we-Se+q(G+"XXX",X)|0),ee=ae(ee,he,4,(0,i.string32)(we));var $="url(data:font/opentype;base64,".concat(btoa(ee),");"),U='@font-face {font-family:"'.concat(G,'";src:').concat($,"}");this.insertRule(U);var b=[],g=C(V),x;try{for(g.s();!(x=g.n()).done;){var z=x.value;b.push(z.loadedName)}}catch(me){g.e(me)}finally{g.f()}b.push(G);var H=this._document.createElement("div");H.style.visibility="hidden",H.style.width=H.style.height="10px",H.style.position="absolute",H.style.top=H.style.left="0px";for(var re=0,fe=b;re<fe.length;re++){var ge=fe[re],ye=this._document.createElement("span");ye.textContent="Hi",ye.style.fontFamily=ge,H.appendChild(ye)}this._document.body.appendChild(H),N(G,function(){H.remove(),te.complete()})}}]),L}(y);var T=function(){function _(k,L){var j=L.isEvalSupported,W=j===void 0?!0:j,V=L.disableFontFace,te=V===void 0?!1:V,q=L.ignoreErrors,ae=q===void 0?!1:q,X=L.onUnsupportedFeature,K=L.fontRegistry,P=K===void 0?null:K;D(this,_),this.compiledGlyphs=Object.create(null);for(var S in k)this[S]=k[S];this.isEvalSupported=W!==!1,this.disableFontFace=te===!0,this.ignoreErrors=ae===!0,this._onUnsupportedFeature=X,this.fontRegistry=P}return h(_,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var L;if(!this.cssFontInfo)L=new FontFace(this.loadedName,this.data,{});else{var j={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(j.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),L=new FontFace(this.cssFontInfo.fontFamily,this.data,j)}return this.fontRegistry&&this.fontRegistry.registerFont(this),L}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var L=(0,i.bytesToString)(this.data),j="url(data:".concat(this.mimetype,";base64,").concat(btoa(L),");"),W;if(!this.cssFontInfo)W='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(j,"}");else{var V="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(V+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),W='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(V,"src:").concat(j,"}")}return this.fontRegistry&&this.fontRegistry.registerFont(this,j),W}},{key:"getPathGenerator",value:function(L,j){if(this.compiledGlyphs[j]!==void 0)return this.compiledGlyphs[j];var W;try{W=L.get(this.loadedName+"_path_"+j)}catch(K){if(!this.ignoreErrors)throw K;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)('getPathGenerator - ignoring character: "'.concat(K,'".')),this.compiledGlyphs[j]=function(P,S){}}if(this.isEvalSupported&&i.IsEvalSupportedCached.value){var V=[],te=C(W),q;try{for(te.s();!(q=te.n()).done;){var ae=q.value,X=ae.args!==void 0?ae.args.join(","):"";V.push("c.",ae.cmd,"(",X,`);
`)}}catch(K){te.e(K)}finally{te.f()}return this.compiledGlyphs[j]=new Function("c","size",V.join(""))}return this.compiledGlyphs[j]=function(K,P){var S=C(W),F;try{for(S.s();!(F=S.n()).done;){var N=F.value;N.cmd==="scale"&&(N.args=[P,-P]),K[N.cmd].apply(K,N.args)}}catch(G){S.e(G)}finally{S.f()}}}}]),_}();r.FontFaceObject=T},(e,r,t)=>{function n(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(A){return typeof A}:n=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},n(h)}Object.defineProperty(r,"__esModule",{value:!0}),r.NodeStandardFontDataFactory=r.NodeCanvasFactory=r.NodeCMapReaderFactory=void 0;var a=t(135),i=t(6),o=t(4);function s(h,y){for(var A=0;A<y.length;A++){var T=y[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(h,T.key,T)}}function l(h,y,A){return y&&s(h.prototype,y),A&&s(h,A),h}function f(h,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(y&&y.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),y&&c(h,y)}function c(h,y){return c=Object.setPrototypeOf||function(T,_){return T.__proto__=_,T},c(h,y)}function w(h){var y=E();return function(){var T=I(h),_;if(y){var k=I(this).constructor;_=Reflect.construct(T,arguments,k)}else _=T.apply(this,arguments);return R(this,_)}}function R(h,y){if(y&&(n(y)==="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(h)}function m(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I(h){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},I(h)}function C(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}var M=function h(){C(this,h),(0,o.unreachable)("Not implemented: NodeCanvasFactory")};r.NodeCanvasFactory=M;var O=function h(){C(this,h),(0,o.unreachable)("Not implemented: NodeCMapReaderFactory")};r.NodeCMapReaderFactory=O;var D=function h(){C(this,h),(0,o.unreachable)("Not implemented: NodeStandardFontDataFactory")};if(r.NodeStandardFontDataFactory=D,i.isNodeJS){var p=function(y){return new Promise(function(A,T){var _=require$$0;_.readFile(y,function(k,L){if(k||!L){T(new Error(k));return}A(new Uint8Array(L))})})};r.NodeCanvasFactory=M=function(h){f(A,h);var y=w(A);function A(){return C(this,A),y.apply(this,arguments)}return l(A,[{key:"_createCanvas",value:function(_,k){var L=require$$0;return L.createCanvas(_,k)}}]),A}(a.BaseCanvasFactory),r.NodeCMapReaderFactory=O=function(h){f(A,h);var y=w(A);function A(){return C(this,A),y.apply(this,arguments)}return l(A,[{key:"_fetchData",value:function(_,k){return p(_).then(function(L){return{cMapData:L,compressionType:k}})}}]),A}(a.BaseCMapReaderFactory),r.NodeStandardFontDataFactory=D=function(h){f(A,h);var y=w(A);function A(){return C(this,A),y.apply(this,arguments)}return l(A,[{key:"_fetchData",value:function(_){return p(_)}}]),A}(a.BaseStandardFontDataFactory)}},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.AnnotationStorage=void 0;var n=t(4);function a(E,I){return f(E)||l(E,I)||o(E,I)||i()}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(E,I){if(!!E){if(typeof E=="string")return s(E,I);var C=Object.prototype.toString.call(E).slice(8,-1);if(C==="Object"&&E.constructor&&(C=E.constructor.name),C==="Map"||C==="Set")return Array.from(E);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return s(E,I)}}function s(E,I){(I==null||I>E.length)&&(I=E.length);for(var C=0,M=new Array(I);C<I;C++)M[C]=E[C];return M}function l(E,I){var C=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(C!=null){var M=[],O=!0,D=!1,p,h;try{for(C=C.call(E);!(O=(p=C.next()).done)&&(M.push(p.value),!(I&&M.length===I));O=!0);}catch(y){D=!0,h=y}finally{try{!O&&C.return!=null&&C.return()}finally{if(D)throw h}}return M}}function f(E){if(Array.isArray(E))return E}function c(E,I){if(!(E instanceof I))throw new TypeError("Cannot call a class as a function")}function w(E,I){for(var C=0;C<I.length;C++){var M=I[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(E,M.key,M)}}function R(E,I,C){return I&&w(E.prototype,I),C&&w(E,C),E}var m=function(){function E(){c(this,E),this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}return R(E,[{key:"getValue",value:function(C,M){var O=this._storage.get(C);return O===void 0?M:Object.assign(M,O)}},{key:"setValue",value:function(C,M){var O=this._storage.get(C),D=!1;if(O!==void 0)for(var p=0,h=Object.entries(M);p<h.length;p++){var y=a(h[p],2),A=y[0],T=y[1];O[A]!==T&&(D=!0,O[A]=T)}else D=!0,this._storage.set(C,M);D&&(this._timeStamp=Date.now(),this._setModified())}},{key:"getAll",value:function(){return this._storage.size>0?(0,n.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"lastModified",get:function(){return this._timeStamp.toString()}}]),E}();r.AnnotationStorage=m},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CanvasGraphics=void 0;var n=t(4),a=t(141),i=t(1);function o($){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(b){return typeof b}:o=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o($)}function s($,U){var b=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!b){if(Array.isArray($)||(b=m($))||U&&$&&typeof $.length=="number"){b&&($=b);var g=0,x=function(){};return{s:x,n:function(){return g>=$.length?{done:!0}:{done:!1,value:$[g++]}},e:function(ge){throw ge},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var z=!0,H=!1,re;return{s:function(){b=b.call($)},n:function(){var ge=b.next();return z=ge.done,ge},e:function(ge){H=!0,re=ge},f:function(){try{!z&&b.return!=null&&b.return()}finally{if(H)throw re}}}}function l($,U){if(!($ instanceof U))throw new TypeError("Cannot call a class as a function")}function f($,U){for(var b=0;b<U.length;b++){var g=U[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty($,g.key,g)}}function c($,U,b){return U&&f($.prototype,U),b&&f($,b),$}function w($,U){return C($)||I($,U)||m($,U)||R()}function R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m($,U){if(!!$){if(typeof $=="string")return E($,U);var b=Object.prototype.toString.call($).slice(8,-1);if(b==="Object"&&$.constructor&&(b=$.constructor.name),b==="Map"||b==="Set")return Array.from($);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return E($,U)}}function E($,U){(U==null||U>$.length)&&(U=$.length);for(var b=0,g=new Array(U);b<U;b++)g[b]=$[b];return g}function I($,U){var b=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(b!=null){var g=[],x=!0,z=!1,H,re;try{for(b=b.call($);!(x=(H=b.next()).done)&&(g.push(H.value),!(U&&g.length===U));x=!0);}catch(fe){z=!0,re=fe}finally{try{!x&&b.return!=null&&b.return()}finally{if(z)throw re}}return g}}function C($){if(Array.isArray($))return $}var M=16,O=100,D=4096,p=15,h=10,y=1e3,A=16,T=1.000001;function _($,U){if($._removeMirroring)throw new Error("Context is already forwarding operations.");$.__originalSave=$.save,$.__originalRestore=$.restore,$.__originalRotate=$.rotate,$.__originalScale=$.scale,$.__originalTranslate=$.translate,$.__originalTransform=$.transform,$.__originalSetTransform=$.setTransform,$.__originalResetTransform=$.resetTransform,$.__originalClip=$.clip,$.__originalMoveTo=$.moveTo,$.__originalLineTo=$.lineTo,$.__originalBezierCurveTo=$.bezierCurveTo,$.__originalRect=$.rect,$.__originalClosePath=$.closePath,$.__originalBeginPath=$.beginPath,$._removeMirroring=function(){$.save=$.__originalSave,$.restore=$.__originalRestore,$.rotate=$.__originalRotate,$.scale=$.__originalScale,$.translate=$.__originalTranslate,$.transform=$.__originalTransform,$.setTransform=$.__originalSetTransform,$.resetTransform=$.__originalResetTransform,$.clip=$.__originalClip,$.moveTo=$.__originalMoveTo,$.lineTo=$.__originalLineTo,$.bezierCurveTo=$.__originalBezierCurveTo,$.rect=$.__originalRect,$.closePath=$.__originalClosePath,$.beginPath=$.__originalBeginPath,delete $._removeMirroring},$.save=function(){U.save(),this.__originalSave()},$.restore=function(){U.restore(),this.__originalRestore()},$.translate=function(g,x){U.translate(g,x),this.__originalTranslate(g,x)},$.scale=function(g,x){U.scale(g,x),this.__originalScale(g,x)},$.transform=function(g,x,z,H,re,fe){U.transform(g,x,z,H,re,fe),this.__originalTransform(g,x,z,H,re,fe)},$.setTransform=function(g,x,z,H,re,fe){U.setTransform(g,x,z,H,re,fe),this.__originalSetTransform(g,x,z,H,re,fe)},$.resetTransform=function(){U.resetTransform(),this.__originalResetTransform()},$.rotate=function(g){U.rotate(g),this.__originalRotate(g)},$.clip=function(g){U.clip(g),this.__originalClip(g)},$.moveTo=function(b,g){U.moveTo(b,g),this.__originalMoveTo(b,g)},$.lineTo=function(b,g){U.lineTo(b,g),this.__originalLineTo(b,g)},$.bezierCurveTo=function(b,g,x,z,H,re){U.bezierCurveTo(b,g,x,z,H,re),this.__originalBezierCurveTo(b,g,x,z,H,re)},$.rect=function(b,g,x,z){U.rect(b,g,x,z),this.__originalRect(b,g,x,z)},$.closePath=function(){U.closePath(),this.__originalClosePath()},$.beginPath=function(){U.beginPath(),this.__originalBeginPath()}}function k($){if(!$.mozCurrentTransform){$._originalSave=$.save,$._originalRestore=$.restore,$._originalRotate=$.rotate,$._originalScale=$.scale,$._originalTranslate=$.translate,$._originalTransform=$.transform,$._originalSetTransform=$.setTransform,$._originalResetTransform=$.resetTransform,$._transformMatrix=$._transformMatrix||[1,0,0,1,0,0],$._transformStack=[];try{var U=Object.getOwnPropertyDescriptor(Object.getPrototypeOf($),"lineWidth");$._setLineWidth=U.set,$._getLineWidth=U.get,Object.defineProperty($,"lineWidth",{set:function(g){this._setLineWidth(g*T)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty($,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty($,"mozCurrentTransformInverse",{get:function(){var g=w(this._transformMatrix,6),x=g[0],z=g[1],H=g[2],re=g[3],fe=g[4],ge=g[5],ye=x*re-z*H,me=z*H-x*re;return[re/ye,z/me,H/me,x/ye,(re*fe-H*ge)/me,(z*fe-x*ge)/ye]}}),$.save=function(){var g=this._transformMatrix;this._transformStack.push(g),this._transformMatrix=g.slice(0,6),this._originalSave()},$.restore=function(){var g=this._transformStack.pop();g&&(this._transformMatrix=g,this._originalRestore())},$.translate=function(g,x){var z=this._transformMatrix;z[4]=z[0]*g+z[2]*x+z[4],z[5]=z[1]*g+z[3]*x+z[5],this._originalTranslate(g,x)},$.scale=function(g,x){var z=this._transformMatrix;z[0]*=g,z[1]*=g,z[2]*=x,z[3]*=x,this._originalScale(g,x)},$.transform=function(g,x,z,H,re,fe){var ge=this._transformMatrix;this._transformMatrix=[ge[0]*g+ge[2]*x,ge[1]*g+ge[3]*x,ge[0]*z+ge[2]*H,ge[1]*z+ge[3]*H,ge[0]*re+ge[2]*fe+ge[4],ge[1]*re+ge[3]*fe+ge[5]],$._originalTransform(g,x,z,H,re,fe)},$.setTransform=function(g,x,z,H,re,fe){this._transformMatrix=[g,x,z,H,re,fe],$._originalSetTransform(g,x,z,H,re,fe)},$.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],$._originalResetTransform()},$.rotate=function(g){var x=Math.cos(g),z=Math.sin(g),H=this._transformMatrix;this._transformMatrix=[H[0]*x+H[2]*z,H[1]*x+H[3]*z,H[0]*-z+H[2]*x,H[1]*-z+H[3]*x,H[4],H[5]],this._originalRotate(g)}}}var L=function(){function $(U){l(this,$),this.canvasFactory=U,this.cache=Object.create(null)}return c($,[{key:"getCanvas",value:function(b,g,x,z){var H;return this.cache[b]!==void 0?(H=this.cache[b],this.canvasFactory.reset(H,g,x),H.context.setTransform(1,0,0,1,0,0)):(H=this.canvasFactory.create(g,x),this.cache[b]=H),z&&k(H.context),H}},{key:"clear",value:function(){for(var b in this.cache){var g=this.cache[b];this.canvasFactory.destroy(g),delete this.cache[b]}}}]),$}();function j($){var U=1e3,b=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),g=$.width,x=$.height,z=g+1,H,re,fe,ge,ye=new Uint8Array(z*(x+1)),me=g+7&-8,Te=$.data,Re=new Uint8Array(me*x),xe=0;for(H=0,re=Te.length;H<re;H++)for(var Fe=Te[H],Me=128;Me>0;)Re[xe++]=Fe&Me?0:255,Me>>=1;var We=0;for(xe=0,Re[xe]!==0&&(ye[0]=1,++We),fe=1;fe<g;fe++)Re[xe]!==Re[xe+1]&&(ye[fe]=Re[xe]?2:1,++We),xe++;for(Re[xe]!==0&&(ye[fe]=2,++We),H=1;H<x;H++){xe=H*me,ge=H*z,Re[xe-me]!==Re[xe]&&(ye[ge]=Re[xe]?1:8,++We);var $e=(Re[xe]?4:0)+(Re[xe-me]?8:0);for(fe=1;fe<g;fe++)$e=($e>>2)+(Re[xe+1]?4:0)+(Re[xe-me+1]?8:0),b[$e]&&(ye[ge+fe]=b[$e],++We),xe++;if(Re[xe-me]!==Re[xe]&&(ye[ge+fe]=Re[xe]?2:4,++We),We>U)return null}for(xe=me*(x-1),ge=H*z,Re[xe]!==0&&(ye[ge]=8,++We),fe=1;fe<g;fe++)Re[xe]!==Re[xe+1]&&(ye[ge+fe]=Re[xe]?4:8,++We),xe++;if(Re[xe]!==0&&(ye[ge+fe]=4,++We),We>U)return null;var de=new Int32Array([0,z,-1,0,-z,0,0,0,1]),pe=[];for(H=0;We&&H<=x;H++){for(var Z=H*z,ne=Z+g;Z<ne&&!ye[Z];)Z++;if(Z!==ne){var Q=[Z%z,H],se=Z,ie=ye[Z];do{var J=de[ie];do Z+=J;while(!ye[Z]);var ve=ye[Z];ve!==5&&ve!==10?(ie=ve,ye[Z]=0):(ie=ve&51*ie>>4,ye[Z]&=ie>>2|ie<<2),Q.push(Z%z,Z/z|0),ye[Z]||--We}while(se!==Z);pe.push(Q),--H}}var ce=function(Pe){Pe.save(),Pe.scale(1/g,-1/x),Pe.translate(0,-x),Pe.beginPath();for(var Le=0,Ne=pe.length;Le<Ne;Le++){var Ee=pe[Le];Pe.moveTo(Ee[0],Ee[1]);for(var je=2,Oe=Ee.length;je<Oe;je+=2)Pe.lineTo(Ee[je],Ee[je+1])}Pe.fill(),Pe.beginPath(),Pe.restore()};return ce}var W=function(){function $(U,b){l(this,$),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,U,b])}return c($,[{key:"clone",value:function(){var b=Object.create(this);return b.clipBox=this.clipBox.slice(),b}},{key:"setCurrentPoint",value:function(b,g){this.x=b,this.y=g}},{key:"updatePathMinMax",value:function(b,g,x){var z=n.Util.applyTransform([g,x],b),H=w(z,2);g=H[0],x=H[1],this.minX=Math.min(this.minX,g),this.minY=Math.min(this.minY,x),this.maxX=Math.max(this.maxX,g),this.maxY=Math.max(this.maxY,x)}},{key:"updateCurvePathMinMax",value:function(b,g,x,z,H,re,fe,ge,ye){var me=n.Util.bezierBoundingBox(g,x,z,H,re,fe,ge,ye);this.updatePathMinMax(b,me[0],me[1]),this.updatePathMinMax(b,me[2],me[3])}},{key:"getPathBoundingBox",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.PathType.FILL,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,x=[this.minX,this.minY,this.maxX,this.maxY];if(b===a.PathType.STROKE){g||(0,n.unreachable)("Stroke bounding box must include transform.");var z=n.Util.singularValueDecompose2dScale(g),H=z[0]*this.lineWidth/2,re=z[1]*this.lineWidth/2;x[0]-=H,x[1]-=re,x[2]+=H,x[3]+=re}return x}},{key:"updateClipFromPath",value:function(){var b=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(b||[0,0,0,0])}},{key:"startNewPathAndClipBox",value:function(b){this.clipBox=b,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.PathType.FILL,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return n.Util.intersect(this.clipBox,this.getPathBoundingBox(b,g))}}]),$}();function V($,U){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData<"u"&&U instanceof ImageData){$.putImageData(U,0,0);return}var g=U.height,x=U.width,z=g%A,H=(g-z)/A,re=z===0?H:H+1,fe=$.createImageData(x,A),ge=0,ye,me=U.data,Te=fe.data,Re,xe,Fe,Me,We,$e,de,pe;if(b)switch(b.length){case 1:We=b[0],$e=b[0],de=b[0],pe=b[0];break;case 4:We=b[0],$e=b[1],de=b[2],pe=b[3];break}if(U.kind===n.ImageKind.GRAYSCALE_1BPP){var Z=me.byteLength,ne=new Uint32Array(Te.buffer,0,Te.byteLength>>2),Q=ne.length,se=x+7>>3,ie=4294967295,J=n.IsLittleEndianCached.value?4278190080:255;if(pe&&pe[0]===255&&pe[255]===0){var ve=[J,ie];ie=ve[0],J=ve[1]}for(Re=0;Re<re;Re++){for(Fe=Re<H?A:z,ye=0,xe=0;xe<Fe;xe++){for(var ce=Z-ge,Ae=0,Pe=ce>se?x:ce*8-7,Le=Pe&-8,Ne=0,Ee=0;Ae<Le;Ae+=8)Ee=me[ge++],ne[ye++]=Ee&128?ie:J,ne[ye++]=Ee&64?ie:J,ne[ye++]=Ee&32?ie:J,ne[ye++]=Ee&16?ie:J,ne[ye++]=Ee&8?ie:J,ne[ye++]=Ee&4?ie:J,ne[ye++]=Ee&2?ie:J,ne[ye++]=Ee&1?ie:J;for(;Ae<Pe;Ae++)Ne===0&&(Ee=me[ge++],Ne=128),ne[ye++]=Ee&Ne?ie:J,Ne>>=1}for(;ye<Q;)ne[ye++]=0;$.putImageData(fe,0,Re*A)}}else if(U.kind===n.ImageKind.RGBA_32BPP){var je=!!(We||$e||de);for(xe=0,Me=x*A*4,Re=0;Re<H;Re++){if(Te.set(me.subarray(ge,ge+Me)),ge+=Me,je)for(var Oe=0;Oe<Me;Oe+=4)We&&(Te[Oe+0]=We[Te[Oe+0]]),$e&&(Te[Oe+1]=$e[Te[Oe+1]]),de&&(Te[Oe+2]=de[Te[Oe+2]]);$.putImageData(fe,0,xe),xe+=A}if(Re<re){if(Me=x*z*4,Te.set(me.subarray(ge,ge+Me)),je)for(var Ie=0;Ie<Me;Ie+=4)We&&(Te[Ie+0]=We[Te[Ie+0]]),$e&&(Te[Ie+1]=$e[Te[Ie+1]]),de&&(Te[Ie+2]=de[Te[Ie+2]]);$.putImageData(fe,0,xe)}}else if(U.kind===n.ImageKind.RGB_24BPP){var Ue=!!(We||$e||de);for(Fe=A,Me=x*Fe,Re=0;Re<re;Re++){for(Re>=H&&(Fe=z,Me=x*Fe),ye=0,xe=Me;xe--;)Te[ye++]=me[ge++],Te[ye++]=me[ge++],Te[ye++]=me[ge++],Te[ye++]=255;if(Ue)for(var Be=0;Be<ye;Be+=4)We&&(Te[Be+0]=We[Te[Be+0]]),$e&&(Te[Be+1]=$e[Te[Be+1]]),de&&(Te[Be+2]=de[Te[Be+2]]);$.putImageData(fe,0,Re*A)}}else throw new Error("bad image kind: ".concat(U.kind))}function te($,U){for(var b=U.height,g=U.width,x=b%A,z=(b-x)/A,H=x===0?z:z+1,re=$.createImageData(g,A),fe=0,ge=U.data,ye=re.data,me=0;me<H;me++){for(var Te=me<z?A:x,Re=3,xe=0;xe<Te;xe++)for(var Fe=void 0,Me=0,We=0;We<g;We++)Me||(Fe=ge[fe++],Me=128),ye[Re]=Fe&Me?0:255,Re+=4,Me>>=1;$.putImageData(re,0,me*A)}}function q($,U){for(var b=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],g=0,x=b.length;g<x;g++){var z=b[g];$[z]!==void 0&&(U[z]=$[z])}$.setLineDash!==void 0&&(U.setLineDash($.getLineDash()),U.lineDashOffset=$.lineDashOffset)}function ae($){$.strokeStyle="#000000",$.fillStyle="#000000",$.fillRule="nonzero",$.globalAlpha=1,$.lineWidth=1,$.lineCap="butt",$.lineJoin="miter",$.miterLimit=10,$.globalCompositeOperation="source-over",$.font="10px sans-serif",$.setLineDash!==void 0&&($.setLineDash([]),$.lineDashOffset=0)}function X($,U,b,g){for(var x=$.length,z=3;z<x;z+=4){var H=$[z];if(H===0)$[z-3]=U,$[z-2]=b,$[z-1]=g;else if(H<255){var re=255-H;$[z-3]=$[z-3]*H+U*re>>8,$[z-2]=$[z-2]*H+b*re>>8,$[z-1]=$[z-1]*H+g*re>>8}}}function K($,U,b){for(var g=$.length,x=1/255,z=3;z<g;z+=4){var H=b?b[$[z]]:$[z];U[z]=U[z]*H*x|0}}function P($,U,b){for(var g=$.length,x=3;x<g;x+=4){var z=$[x-3]*77+$[x-2]*152+$[x-1]*28;U[x]=b?U[x]*b[z>>8]>>8:U[x]*z>>16}}function S($,U,b,g,x,z,H,re,fe,ge,ye){var me=!!z,Te=me?z[0]:0,Re=me?z[1]:0,xe=me?z[2]:0,Fe;x==="Luminosity"?Fe=P:Fe=K;for(var Me=1048576,We=Math.min(g,Math.ceil(Me/b)),$e=0;$e<g;$e+=We){var de=Math.min(We,g-$e),pe=$.getImageData(re-ge,$e+(fe-ye),b,de),Z=U.getImageData(re,$e+fe,b,de);me&&X(pe.data,Te,Re,xe),Fe(pe.data,Z.data,H),U.putImageData(Z,re,$e+fe)}}function F($,U,b,g){var x=g[0],z=g[1],H=g[2]-x,re=g[3]-z;H===0||re===0||(S(U.context,b,H,re,U.subtype,U.backdrop,U.transferMap,x,z,U.offsetX,U.offsetY),$.save(),$.globalAlpha=1,$.globalCompositeOperation="source-over",$.setTransform(1,0,0,1,0,0),$.drawImage(b.canvas,0,0),$.restore())}function N($,U){var b=n.Util.singularValueDecompose2dScale($);b[0]=Math.fround(b[0]),b[1]=Math.fround(b[1]);var g=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return U!==void 0?U:b[0]<=g||b[1]<=g}var G=["butt","round","square"],ee=["miter","round","bevel"],Y={},he={},Se=function(){function $(U,b,g,x,z,H,re){l(this,$),this.ctx=U,this.current=new W(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=b,this.objs=g,this.canvasFactory=x,this.imageLayer=z,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=H,this.cachedCanvases=new L(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=re,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,U&&k(U),this._cachedGetSinglePixelWidth=null}return c($,[{key:"beginDrawing",value:function(b){var g=b.transform,x=b.viewport,z=b.transparency,H=z===void 0?!1:z,re=b.background,fe=re===void 0?null:re,ge=this.ctx.canvas.width,ye=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=fe||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,ge,ye),this.ctx.restore(),H){var me=this.cachedCanvases.getCanvas("transparent",ge,ye,!0);this.compositeCtx=this.ctx,this.transparentCanvas=me.canvas,this.ctx=me.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),ae(this.ctx),g&&(this.ctx.transform.apply(this.ctx,g),this.outputScaleX=g[0],this.outputScaleY=g[0]),this.ctx.transform.apply(this.ctx,x.transform),this.viewportScale=x.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(b,g,x,z){var H=b.argsArray,re=b.fnArray,fe=g||0,ge=H.length;if(ge===fe)return fe;for(var ye=ge-fe>h&&typeof x=="function",me=ye?Date.now()+p:0,Te=0,Re=this.commonObjs,xe=this.objs,Fe;;){if(z!==void 0&&fe===z.nextBreakPoint)return z.breakIt(fe,x),fe;if(Fe=re[fe],Fe!==n.OPS.dependency)this[Fe].apply(this,H[fe]);else{var Me=s(H[fe]),We;try{for(Me.s();!(We=Me.n()).done;){var $e=We.value,de=$e.startsWith("g_")?Re:xe;if(!de.has($e))return de.get($e,x),fe}}catch(pe){Me.e(pe)}finally{Me.f()}}if(fe++,fe===ge)return fe;if(ye&&++Te>h){if(Date.now()>me)return x(),fe;Te=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||this.current.activeSMask!==null;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(b,g){for(var x=b.width,z=b.height,H=Math.max(Math.hypot(g[0],g[1]),1),re=Math.max(Math.hypot(g[2],g[3]),1),fe=x,ge=z,ye="prescale1",me,Te;H>2&&fe>1||re>2&&ge>1;){var Re=fe,xe=ge;H>2&&fe>1&&(Re=Math.ceil(fe/2),H/=fe/Re),re>2&&ge>1&&(xe=Math.ceil(ge/2),re/=ge/xe),me=this.cachedCanvases.getCanvas(ye,Re,xe),Te=me.context,Te.clearRect(0,0,Re,xe),Te.drawImage(b,0,0,fe,ge,0,0,Re,xe),b=me.canvas,fe=Re,ge=xe,ye=ye==="prescale1"?"prescale2":"prescale1"}return{img:b,paintWidth:fe,paintHeight:ge}}},{key:"_createMaskCanvas",value:function(b){var g=this.ctx,x=b.width,z=b.height,H=this.current.fillColor,re=this.current.patternFill,fe=this.cachedCanvases.getCanvas("maskCanvas",x,z),ge=fe.context;te(ge,b);var ye=g.mozCurrentTransform,me=n.Util.transform(ye,[1/x,0,0,-1/z,0,0]);me=n.Util.transform(me,[1,0,0,1,0,-z]);var Te=n.Util.applyTransform([0,0],me),Re=n.Util.applyTransform([x,z],me),xe=n.Util.normalizeRect([Te[0],Te[1],Re[0],Re[1]]),Fe=Math.ceil(xe[2]-xe[0]),Me=Math.ceil(xe[3]-xe[1]),We=this.cachedCanvases.getCanvas("fillCanvas",Fe,Me,!0),$e=We.context,de=Math.min(Te[0],Re[0]),pe=Math.min(Te[1],Re[1]);$e.translate(-de,-pe),$e.transform.apply($e,me);var Z=this._scaleImage(fe.canvas,$e.mozCurrentTransformInverse);$e.imageSmoothingEnabled=N($e.mozCurrentTransform,b.interpolate),$e.drawImage(Z.img,0,0,Z.img.width,Z.img.height,0,0,x,z),$e.globalCompositeOperation="source-in";var ne=n.Util.transform($e.mozCurrentTransformInverse,[1,0,0,1,-de,-pe]);return $e.fillStyle=re?H.getPattern(g,this,ne,a.PathType.FILL):H,$e.fillRect(0,0,x,z),{canvas:We.canvas,offsetX:Math.round(de),offsetY:Math.round(pe)}}},{key:"setLineWidth",value:function(b){this.current.lineWidth=b,this.ctx.lineWidth=b}},{key:"setLineCap",value:function(b){this.ctx.lineCap=G[b]}},{key:"setLineJoin",value:function(b){this.ctx.lineJoin=ee[b]}},{key:"setMiterLimit",value:function(b){this.ctx.miterLimit=b}},{key:"setDash",value:function(b,g){var x=this.ctx;x.setLineDash!==void 0&&(x.setLineDash(b),x.lineDashOffset=g)}},{key:"setRenderingIntent",value:function(b){}},{key:"setFlatness",value:function(b){}},{key:"setGState",value:function(b){for(var g=0,x=b.length;g<x;g++){var z=b[g],H=z[0],re=z[1];switch(H){case"LW":this.setLineWidth(re);break;case"LC":this.setLineCap(re);break;case"LJ":this.setLineJoin(re);break;case"ML":this.setMiterLimit(re);break;case"D":this.setDash(re[0],re[1]);break;case"RI":this.setRenderingIntent(re);break;case"FL":this.setFlatness(re);break;case"Font":this.setFont(re[0],re[1]);break;case"CA":this.current.strokeAlpha=z[1];break;case"ca":this.current.fillAlpha=z[1],this.ctx.globalAlpha=z[1];break;case"BM":this.ctx.globalCompositeOperation=re;break;case"SMask":this.current.activeSMask=re?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=re}}}},{key:"checkSMaskState",value:function(){var b=!!this.suspendedCtx;this.current.activeSMask&&!b?this.beginSMaskMode():!this.current.activeSMask&&b&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.suspendedCtx)throw new Error("beginSMaskMode called while already in smask mode");var b=this.ctx.canvas.width,g=this.ctx.canvas.height,x="smaskGroupAt"+this.groupLevel,z=this.cachedCanvases.getCanvas(x,b,g,!0);this.suspendedCtx=this.ctx,this.ctx=z.context;var H=this.ctx;H.setTransform.apply(H,this.suspendedCtx.mozCurrentTransform),q(this.suspendedCtx,H),_(H,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.suspendedCtx)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),q(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.current.activeSMask=null,this.suspendedCtx=null}},{key:"compose",value:function(b){if(!!this.current.activeSMask){b?(b[0]=Math.floor(b[0]),b[1]=Math.floor(b[1]),b[2]=Math.ceil(b[2]),b[3]=Math.ceil(b[3])):b=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var g=this.current.activeSMask,x=this.suspendedCtx;F(x,g,this.ctx,b),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}}},{key:"save",value:function(){this.ctx.save();var b=this.current;this.stateStack.push(b),this.current=b.clone()}},{key:"restore",value:function(){this.stateStack.length===0&&this.current.activeSMask&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(b,g,x,z,H,re){this.ctx.transform(b,g,x,z,H,re),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(b,g){for(var x=this.ctx,z=this.current,H=z.x,re=z.y,fe,ge,ye=0,me=0,Te=b.length;ye<Te;ye++)switch(b[ye]|0){case n.OPS.rectangle:H=g[me++],re=g[me++];var Re=g[me++],xe=g[me++],Fe=H+Re,Me=re+xe;x.moveTo(H,re),Re===0||xe===0?x.lineTo(Fe,Me):(x.lineTo(Fe,re),x.lineTo(Fe,Me),x.lineTo(H,Me)),z.updatePathMinMax(x.mozCurrentTransform,H,re),z.updatePathMinMax(x.mozCurrentTransform,Fe,Me),x.closePath();break;case n.OPS.moveTo:H=g[me++],re=g[me++],x.moveTo(H,re),z.updatePathMinMax(x.mozCurrentTransform,H,re);break;case n.OPS.lineTo:H=g[me++],re=g[me++],x.lineTo(H,re),z.updatePathMinMax(x.mozCurrentTransform,H,re);break;case n.OPS.curveTo:fe=H,ge=re,H=g[me+4],re=g[me+5],x.bezierCurveTo(g[me],g[me+1],g[me+2],g[me+3],H,re),z.updateCurvePathMinMax(x.mozCurrentTransform,fe,ge,g[me],g[me+1],g[me+2],g[me+3],H,re),me+=6;break;case n.OPS.curveTo2:fe=H,ge=re,x.bezierCurveTo(H,re,g[me],g[me+1],g[me+2],g[me+3]),z.updateCurvePathMinMax(x.mozCurrentTransform,fe,ge,H,re,g[me],g[me+1],g[me+2],g[me+3]),H=g[me+2],re=g[me+3],me+=4;break;case n.OPS.curveTo3:fe=H,ge=re,H=g[me+2],re=g[me+3],x.bezierCurveTo(g[me],g[me+1],H,re,H,re),z.updateCurvePathMinMax(x.mozCurrentTransform,fe,ge,g[me],g[me+1],H,re,H,re),me+=4;break;case n.OPS.closePath:x.closePath();break}z.setCurrentPoint(H,re)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(b){b=typeof b<"u"?b:!0;var g=this.ctx,x=this.current.strokeColor;if(g.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(o(x)==="object"&&x!==null&&x!==void 0&&x.getPattern){var z=this.getSinglePixelWidth();g.save(),g.strokeStyle=x.getPattern(g,this,g.mozCurrentTransformInverse,a.PathType.STROKE),g.lineWidth=Math.max(z,this.current.lineWidth),g.stroke(),g.restore()}else{var H=this.getSinglePixelWidth();H<0&&-H>=this.current.lineWidth?(g.save(),g.resetTransform(),g.lineWidth=Math.round(this._combinedScaleFactor),g.stroke(),g.restore()):(g.lineWidth=Math.max(H,this.current.lineWidth),g.stroke())}b&&this.consumePath(this.current.getClippedPathBoundingBox()),g.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(b){b=typeof b<"u"?b:!0;var g=this.ctx,x=this.current.fillColor,z=this.current.patternFill,H=!1;z&&(g.save(),g.fillStyle=x.getPattern(g,this,g.mozCurrentTransformInverse,a.PathType.FILL),H=!0);var re=this.current.getClippedPathBoundingBox();this.contentVisible&&re!==null&&(this.pendingEOFill?(g.fill("evenodd"),this.pendingEOFill=!1):g.fill()),H&&g.restore(),b&&this.consumePath(re)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=Y}},{key:"eoClip",value:function(){this.pendingClip=he}},{key:"beginText",value:function(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var b=this.pendingTextPaths,g=this.ctx;if(b===void 0){g.beginPath();return}g.save(),g.beginPath();for(var x=0;x<b.length;x++){var z=b[x];g.setTransform.apply(g,z.transform),g.translate(z.x,z.y),z.addToPath(g,z.fontSize)}g.restore(),g.clip(),g.beginPath(),delete this.pendingTextPaths}},{key:"setCharSpacing",value:function(b){this.current.charSpacing=b}},{key:"setWordSpacing",value:function(b){this.current.wordSpacing=b}},{key:"setHScale",value:function(b){this.current.textHScale=b/100}},{key:"setLeading",value:function(b){this.current.leading=-b}},{key:"setFont",value:function(b,g){var x=this.commonObjs.get(b),z=this.current;if(!x)throw new Error("Can't find font for ".concat(b));if(z.fontMatrix=x.fontMatrix||n.FONT_IDENTITY_MATRIX,(z.fontMatrix[0]===0||z.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+b),g<0?(g=-g,z.fontDirection=-1):z.fontDirection=1,this.current.font=x,this.current.fontSize=g,!x.isType3Font){var H=x.loadedName||"sans-serif",re="normal";x.black?re="900":x.bold&&(re="bold");var fe=x.italic?"italic":"normal",ge='"'.concat(H,'", ').concat(x.fallbackName),ye=g;g<M?ye=M:g>O&&(ye=O),this.current.fontSizeScale=g/ye,this.ctx.font="".concat(fe," ").concat(re," ").concat(ye,"px ").concat(ge)}}},{key:"setTextRenderingMode",value:function(b){this.current.textRenderingMode=b}},{key:"setTextRise",value:function(b){this.current.textRise=b}},{key:"moveText",value:function(b,g){this.current.x=this.current.lineX+=b,this.current.y=this.current.lineY+=g}},{key:"setLeadingMoveText",value:function(b,g){this.setLeading(-g),this.moveText(b,g)}},{key:"setTextMatrix",value:function(b,g,x,z,H,re){this.current.textMatrix=[b,g,x,z,H,re],this.current.textMatrixScale=Math.hypot(b,g),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(b,g,x,z,H){var re=this.ctx,fe=this.current,ge=fe.font,ye=fe.textRenderingMode,me=fe.fontSize/fe.fontSizeScale,Te=ye&n.TextRenderingMode.FILL_STROKE_MASK,Re=!!(ye&n.TextRenderingMode.ADD_TO_PATH_FLAG),xe=fe.patternFill&&!ge.missingFile,Fe;if((ge.disableFontFace||Re||xe)&&(Fe=ge.getPathGenerator(this.commonObjs,b)),ge.disableFontFace||xe?(re.save(),re.translate(g,x),re.beginPath(),Fe(re,me),z&&re.setTransform.apply(re,z),(Te===n.TextRenderingMode.FILL||Te===n.TextRenderingMode.FILL_STROKE)&&re.fill(),(Te===n.TextRenderingMode.STROKE||Te===n.TextRenderingMode.FILL_STROKE)&&(H&&(re.resetTransform(),re.lineWidth=Math.round(this._combinedScaleFactor)),re.stroke()),re.restore()):((Te===n.TextRenderingMode.FILL||Te===n.TextRenderingMode.FILL_STROKE)&&re.fillText(b,g,x),(Te===n.TextRenderingMode.STROKE||Te===n.TextRenderingMode.FILL_STROKE)&&(H?(re.save(),re.moveTo(g,x),re.resetTransform(),re.lineWidth=Math.round(this._combinedScaleFactor),re.strokeText(b,0,0),re.restore()):re.strokeText(b,g,x))),Re){var Me=this.pendingTextPaths||(this.pendingTextPaths=[]);Me.push({transform:re.mozCurrentTransform,x:g,y:x,fontSize:me,addToPath:Fe})}}},{key:"isFontSubpixelAAEnabled",get:function(){var b=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10),g=b.context;g.scale(1.5,1),g.fillText("I",0,10);for(var x=g.getImageData(0,0,10,10).data,z=!1,H=3;H<x.length;H+=4)if(x[H]>0&&x[H]<255){z=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",z)}},{key:"showText",value:function(b){var g=this.current,x=g.font;if(x.isType3Font)return this.showType3Text(b);var z=g.fontSize;if(z!==0){var H=this.ctx,re=g.fontSizeScale,fe=g.charSpacing,ge=g.wordSpacing,ye=g.fontDirection,me=g.textHScale*ye,Te=b.length,Re=x.vertical,xe=Re?1:-1,Fe=x.defaultVMetrics,Me=z*g.fontMatrix[0],We=g.textRenderingMode===n.TextRenderingMode.FILL&&!x.disableFontFace&&!g.patternFill;H.save(),H.transform.apply(H,g.textMatrix),H.translate(g.x,g.y+g.textRise),ye>0?H.scale(me,-1):H.scale(me,1);var $e;if(g.patternFill){H.save();var de=g.fillColor.getPattern(H,this,H.mozCurrentTransformInverse,a.PathType.FILL);$e=H.mozCurrentTransform,H.restore(),H.fillStyle=de}var pe=g.lineWidth,Z=!1,ne=g.textMatrixScale;if(ne===0||pe===0){var Q=g.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(Q===n.TextRenderingMode.STROKE||Q===n.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,pe=this.getSinglePixelWidth(),Z=pe<0)}else pe/=ne;re!==1&&(H.scale(re,re),pe/=re),H.lineWidth=pe;var se=0,ie;for(ie=0;ie<Te;++ie){var J=b[ie];if((0,n.isNum)(J)){se+=xe*J*z/1e3;continue}var ve=!1,ce=(J.isSpace?ge:0)+fe,Ae=J.fontChar,Pe=J.accent,Le=void 0,Ne=void 0,Ee=J.width;if(Re){var je=J.vmetric||Fe,Oe=-(J.vmetric?je[1]:Ee*.5)*Me,Ie=je[2]*Me;Ee=je?-je[0]:Ee,Le=Oe/re,Ne=(se+Ie)/re}else Le=se/re,Ne=0;if(x.remeasure&&Ee>0){var Ue=H.measureText(Ae).width*1e3/z*re;if(Ee<Ue&&this.isFontSubpixelAAEnabled){var Be=Ee/Ue;ve=!0,H.save(),H.scale(Be,1),Le/=Be}else Ee!==Ue&&(Le+=(Ee-Ue)/2e3*z/re)}if(this.contentVisible&&(J.isInFont||x.missingFile)){if(We&&!Pe)H.fillText(Ae,Le,Ne);else if(this.paintChar(Ae,Le,Ne,$e,Z),Pe){var Ye=Le+z*Pe.offset.x/re,Ve=Ne-z*Pe.offset.y/re;this.paintChar(Pe.fontChar,Ye,Ve,$e,Z)}}var Je=void 0;Re?Je=Ee*Me-ce*ye:Je=Ee*Me+ce*ye,se+=Je,ve&&H.restore()}Re?g.y-=se:g.x+=se*me,H.restore(),this.compose()}}},{key:"showType3Text",value:function(b){var g=this.ctx,x=this.current,z=x.font,H=x.fontSize,re=x.fontDirection,fe=z.vertical?1:-1,ge=x.charSpacing,ye=x.wordSpacing,me=x.textHScale*re,Te=x.fontMatrix||n.FONT_IDENTITY_MATRIX,Re=b.length,xe=x.textRenderingMode===n.TextRenderingMode.INVISIBLE,Fe,Me,We,$e;if(!(xe||H===0)){for(this._cachedGetSinglePixelWidth=null,g.save(),g.transform.apply(g,x.textMatrix),g.translate(x.x,x.y),g.scale(me,re),Fe=0;Fe<Re;++Fe){if(Me=b[Fe],(0,n.isNum)(Me)){$e=fe*Me*H/1e3,this.ctx.translate($e,0),x.x+=$e*me;continue}var de=(Me.isSpace?ye:0)+ge,pe=z.charProcOperatorList[Me.operatorListId];if(!pe){(0,n.warn)('Type3 character "'.concat(Me.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=Me,this.save(),g.scale(H,H),g.transform.apply(g,Te),this.executeOperatorList(pe),this.restore());var Z=n.Util.applyTransform([Me.width,0],Te);We=Z[0]*H+de,g.translate(We,0),x.x+=We*me}g.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(b,g){}},{key:"setCharWidthAndBounds",value:function(b,g,x,z,H,re){this.ctx.rect(x,z,H-x,re-z),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(b){var g=this,x;if(b[0]==="TilingPattern"){var z=b[1],H=this.baseTransform||this.ctx.mozCurrentTransform.slice(),re={createCanvasGraphics:function(ge){return new $(ge,g.commonObjs,g.objs,g.canvasFactory)}};x=new a.TilingPattern(b,z,this.ctx,re,H)}else x=this._getPattern(b[1],b[2]);return x}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(b,g,x){var z=n.Util.makeHexColor(b,g,x);this.ctx.strokeStyle=z,this.current.strokeColor=z}},{key:"setFillRGBColor",value:function(b,g,x){var z=n.Util.makeHexColor(b,g,x);this.ctx.fillStyle=z,this.current.fillColor=z,this.current.patternFill=!1}},{key:"_getPattern",value:function(b){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,x;return this.cachedPatterns.has(b)?x=this.cachedPatterns.get(b):(x=(0,a.getShadingPattern)(this.objs.get(b)),this.cachedPatterns.set(b,x)),g&&(x.matrix=g),x}},{key:"shadingFill",value:function(b){if(!!this.contentVisible){var g=this.ctx;this.save();var x=this._getPattern(b);g.fillStyle=x.getPattern(g,this,g.mozCurrentTransformInverse,a.PathType.SHADING);var z=g.mozCurrentTransformInverse;if(z){var H=g.canvas,re=H.width,fe=H.height,ge=n.Util.applyTransform([0,0],z),ye=n.Util.applyTransform([0,fe],z),me=n.Util.applyTransform([re,0],z),Te=n.Util.applyTransform([re,fe],z),Re=Math.min(ge[0],ye[0],me[0],Te[0]),xe=Math.min(ge[1],ye[1],me[1],Te[1]),Fe=Math.max(ge[0],ye[0],me[0],Te[0]),Me=Math.max(ge[1],ye[1],me[1],Te[1]);this.ctx.fillRect(Re,xe,Fe-Re,Me-xe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){(0,n.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,n.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(b,g){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(b)&&b.length===6&&this.transform.apply(this,b),this.baseTransform=this.ctx.mozCurrentTransform,g)){var x=g[2]-g[0],z=g[3]-g[1];this.ctx.rect(g[0],g[1],x,z),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,g[0],g[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,g[2],g[3]),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(b){if(!!this.contentVisible){this.save();var g=this.suspendedCtx;this.current.activeSMask&&(this.suspendedCtx=null,this.current.activeSMask=null);var x=this.ctx;b.isolated||(0,n.info)("TODO: Support non-isolated groups."),b.knockout&&(0,n.warn)("Knockout groups not supported.");var z=x.mozCurrentTransform;if(b.matrix&&x.transform.apply(x,b.matrix),!b.bbox)throw new Error("Bounding box is required.");var H=n.Util.getAxialAlignedBoundingBox(b.bbox,x.mozCurrentTransform),re=[0,0,x.canvas.width,x.canvas.height];H=n.Util.intersect(H,re)||[0,0,0,0];var fe=Math.floor(H[0]),ge=Math.floor(H[1]),ye=Math.max(Math.ceil(H[2])-fe,1),me=Math.max(Math.ceil(H[3])-ge,1),Te=1,Re=1;ye>D&&(Te=ye/D,ye=D),me>D&&(Re=me/D,me=D),this.current.startNewPathAndClipBox([0,0,ye,me]);var xe="groupAt"+this.groupLevel;b.smask&&(xe+="_smask_"+this.smaskCounter++%2);var Fe=this.cachedCanvases.getCanvas(xe,ye,me,!0),Me=Fe.context;Me.scale(1/Te,1/Re),Me.translate(-fe,-ge),Me.transform.apply(Me,z),b.smask?this.smaskStack.push({canvas:Fe.canvas,context:Me,offsetX:fe,offsetY:ge,scaleX:Te,scaleY:Re,subtype:b.smask.subtype,backdrop:b.smask.backdrop,transferMap:b.smask.transferMap||null,startTransformInverse:null}):(x.setTransform(1,0,0,1,0,0),x.translate(fe,ge),x.scale(Te,Re),x.save()),q(x,Me),this.ctx=Me,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push({ctx:x,suspendedCtx:g}),this.groupLevel++}}},{key:"endGroup",value:function(b){if(!!this.contentVisible){this.groupLevel--;var g=this.ctx,x=this.groupStack.pop(),z=x.ctx,H=x.suspendedCtx;if(this.ctx=z,this.ctx.imageSmoothingEnabled=!1,H&&(this.suspendedCtx=H),b.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();var re=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,re);var fe=n.Util.getAxialAlignedBoundingBox([0,0,g.canvas.width,g.canvas.height],re);this.ctx.drawImage(g.canvas,0,0),this.ctx.restore(),this.compose(fe)}}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(b,g,x,z,H){if(this.save(),Array.isArray(g)&&g.length===4){var re=g[2]-g[0],fe=g[3]-g[1];if(H&&this.annotationCanvasMap){x=x.slice(),x[4]-=g[0],x[5]-=g[1],g=g.slice(),g[0]=g[1]=0,g[2]=re,g[3]=fe;var ge=n.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),ye=w(ge,2),me=ye[0],Te=ye[1],Re=this.viewportScale,xe=Math.ceil(re*this.outputScaleX*Re),Fe=Math.ceil(fe*this.outputScaleY*Re);this.annotationCanvas=this.canvasFactory.create(xe,Fe);var Me=this.annotationCanvas,We=Me.canvas,$e=Me.context;We.style.width="calc(".concat(re,"px * var(--viewport-scale-factor))"),We.style.height="calc(".concat(fe,"px * var(--viewport-scale-factor))"),this.annotationCanvasMap.set(b,We),this.annotationCanvas.savedCtx=this.ctx,this.ctx=$e,this.ctx.setTransform(me,0,0,-Te,0,fe*Te),k(this.ctx),ae(this.ctx)}else ae(this.ctx),this.ctx.rect(g[0],g[1],re,fe),this.clip(),this.endPath()}this.current=new W(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,x),this.transform.apply(this,z)}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}},{key:"paintImageMaskXObject",value:function(b){if(!!this.contentVisible){var g=this.ctx,x=b.width,z=b.height,H=this.processingType3;if(H&&H.compiled===void 0&&(x<=y&&z<=y?H.compiled=j({data:b.data,width:x,height:z}):H.compiled=null),H!=null&&H.compiled){H.compiled(g);return}var re=this._createMaskCanvas(b),fe=re.canvas;g.save(),g.setTransform(1,0,0,1,0,0),g.drawImage(fe,re.offsetX,re.offsetY),g.restore(),this.compose()}}},{key:"paintImageMaskXObjectRepeat",value:function(b,g){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,H=arguments.length>4?arguments[4]:void 0,re=arguments.length>5?arguments[5]:void 0;if(!!this.contentVisible){var fe=this.ctx;fe.save();var ge=fe.mozCurrentTransform;fe.transform(g,x,z,H,0,0);var ye=this._createMaskCanvas(b);fe.setTransform(1,0,0,1,0,0);for(var me=0,Te=re.length;me<Te;me+=2){var Re=n.Util.transform(ge,[g,x,z,H,re[me],re[me+1]]),xe=n.Util.applyTransform([0,0],Re),Fe=w(xe,2),Me=Fe[0],We=Fe[1];fe.drawImage(ye.canvas,Me,We)}fe.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(b){if(!!this.contentVisible){for(var g=this.ctx,x=this.current.fillColor,z=this.current.patternFill,H=0,re=b.length;H<re;H++){var fe=b[H],ge=fe.width,ye=fe.height,me=this.cachedCanvases.getCanvas("maskCanvas",ge,ye),Te=me.context;Te.save(),te(Te,fe),Te.globalCompositeOperation="source-in",Te.fillStyle=z?x.getPattern(Te,this,g.mozCurrentTransformInverse,a.PathType.FILL):x,Te.fillRect(0,0,ge,ye),Te.restore(),g.save(),g.transform.apply(g,fe.transform),g.scale(1,-1),g.drawImage(me.canvas,0,0,ge,ye,0,-1,1,1),g.restore()}this.compose()}}},{key:"paintImageXObject",value:function(b){if(!!this.contentVisible){var g=b.startsWith("g_")?this.commonObjs.get(b):this.objs.get(b);if(!g){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(g)}}},{key:"paintImageXObjectRepeat",value:function(b,g,x,z){if(!!this.contentVisible){var H=b.startsWith("g_")?this.commonObjs.get(b):this.objs.get(b);if(!H){(0,n.warn)("Dependent image isn't ready yet");return}for(var re=H.width,fe=H.height,ge=[],ye=0,me=z.length;ye<me;ye+=2)ge.push({transform:[g,0,0,x,z[ye],z[ye+1]],x:0,y:0,w:re,h:fe});this.paintInlineImageXObjectGroup(H,ge)}}},{key:"paintInlineImageXObject",value:function(b){if(!!this.contentVisible){var g=b.width,x=b.height,z=this.ctx;this.save(),z.scale(1/g,-1/x);var H;if(typeof HTMLElement=="function"&&b instanceof HTMLElement||!b.data)H=b;else{var re=this.cachedCanvases.getCanvas("inlineImage",g,x),fe=re.context;V(fe,b,this.current.transferMaps),H=re.canvas}var ge=this._scaleImage(H,z.mozCurrentTransformInverse);if(z.imageSmoothingEnabled=N(z.mozCurrentTransform,b.interpolate),z.drawImage(ge.img,0,0,ge.paintWidth,ge.paintHeight,0,-x,g,x),this.imageLayer){var ye=this.getCanvasPosition(0,-x);this.imageLayer.appendImage({imgData:b,left:ye[0],top:ye[1],width:g/z.mozCurrentTransformInverse[0],height:x/z.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(b,g){if(!!this.contentVisible){var x=this.ctx,z=b.width,H=b.height,re=this.cachedCanvases.getCanvas("inlineImage",z,H),fe=re.context;V(fe,b,this.current.transferMaps);for(var ge=0,ye=g.length;ge<ye;ge++){var me=g[ge];if(x.save(),x.transform.apply(x,me.transform),x.scale(1,-1),x.drawImage(re.canvas,me.x,me.y,me.w,me.h,0,-1,1,1),this.imageLayer){var Te=this.getCanvasPosition(me.x,me.y);this.imageLayer.appendImage({imgData:b,left:Te[0],top:Te[1],width:z,height:H})}x.restore()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(b){}},{key:"markPointProps",value:function(b,g){}},{key:"beginMarkedContent",value:function(b){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(b,g){b==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(g)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(b){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(b);var g=this.ctx;this.pendingClip&&(this.pendingClip===he?g.clip("evenodd"):g.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),g.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(this._cachedGetSinglePixelWidth===null){var b=this.ctx.mozCurrentTransform,g=Math.abs(b[0]*b[3]-b[2]*b[1]),x=Math.pow(b[0],2)+Math.pow(b[2],2),z=Math.pow(b[1],2)+Math.pow(b[3],2),H=Math.sqrt(Math.max(x,z))/g;x!==z&&this._combinedScaleFactor*H>1?this._cachedGetSinglePixelWidth=-(this._combinedScaleFactor*H):g>Number.EPSILON?this._cachedGetSinglePixelWidth=H:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(b,g){var x=this.ctx.mozCurrentTransform;return[x[0]*b+x[2]*g+x[4],x[1]*b+x[3]*g+x[5]]}},{key:"isContentVisible",value:function(){for(var b=this.markedContentStack.length-1;b>=0;b--)if(!this.markedContentStack[b].visible)return!1;return!0}}]),$}();r.CanvasGraphics=Se;for(var we in n.OPS)Se.prototype[we]!==void 0&&(Se.prototype[n.OPS[we]]=Se.prototype[we])},(e,r,t)=>{function n(W){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(te){return typeof te}:n=function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},n(W)}Object.defineProperty(r,"__esModule",{value:!0}),r.TilingPattern=r.PathType=void 0,r.getShadingPattern=k;var a=t(4);function i(W,V){var te=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!te){if(Array.isArray(W)||(te=o(W))||V&&W&&typeof W.length=="number"){te&&(W=te);var q=0,ae=function(){};return{s:ae,n:function(){return q>=W.length?{done:!0}:{done:!1,value:W[q++]}},e:function(F){throw F},f:ae}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X=!0,K=!1,P;return{s:function(){te=te.call(W)},n:function(){var F=te.next();return X=F.done,F},e:function(F){K=!0,P=F},f:function(){try{!X&&te.return!=null&&te.return()}finally{if(K)throw P}}}}function o(W,V){if(!!W){if(typeof W=="string")return s(W,V);var te=Object.prototype.toString.call(W).slice(8,-1);if(te==="Object"&&W.constructor&&(te=W.constructor.name),te==="Map"||te==="Set")return Array.from(W);if(te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return s(W,V)}}function s(W,V){(V==null||V>W.length)&&(V=W.length);for(var te=0,q=new Array(V);te<V;te++)q[te]=W[te];return q}function l(W,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(V&&V.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),V&&f(W,V)}function f(W,V){return f=Object.setPrototypeOf||function(q,ae){return q.__proto__=ae,q},f(W,V)}function c(W){var V=m();return function(){var q=E(W),ae;if(V){var X=E(this).constructor;ae=Reflect.construct(q,arguments,X)}else ae=q.apply(this,arguments);return w(this,ae)}}function w(W,V){if(V&&(n(V)==="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(W)}function R(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(W){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(te){return te.__proto__||Object.getPrototypeOf(te)},E(W)}function I(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")}function C(W,V){for(var te=0;te<V.length;te++){var q=V[te];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(W,q.key,q)}}function M(W,V,te){return V&&C(W.prototype,V),te&&C(W,te),W}var O={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};r.PathType=O;function D(W,V){if(!(!V||typeof Path2D>"u")){var te=V[2]-V[0],q=V[3]-V[1],ae=new Path2D;ae.rect(V[0],V[1],te,q),W.clip(ae)}}var p=function(){function W(){I(this,W),this.constructor===W&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}return M(W,[{key:"getPattern",value:function(){(0,a.unreachable)("Abstract method `getPattern` called.")}}]),W}(),h=function(W){l(te,W);var V=c(te);function te(q){var ae;return I(this,te),ae=V.call(this),ae._type=q[1],ae._bbox=q[2],ae._colorStops=q[3],ae._p0=q[4],ae._p1=q[5],ae._r0=q[6],ae._r1=q[7],ae.matrix=null,ae}return M(te,[{key:"_createGradient",value:function(ae){var X;this._type==="axial"?X=ae.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(X=ae.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var K=i(this._colorStops),P;try{for(K.s();!(P=K.n()).done;){var S=P.value;X.addColorStop(S[0],S[1])}}catch(F){K.e(F)}finally{K.f()}return X}},{key:"getPattern",value:function(ae,X,K,P){var S;if(P===O.STROKE||P===O.FILL){var F=X.current.getClippedPathBoundingBox(P,ae.mozCurrentTransform)||[0,0,0,0],N=Math.ceil(F[2]-F[0])||1,G=Math.ceil(F[3]-F[1])||1,ee=X.cachedCanvases.getCanvas("pattern",N,G,!0),Y=ee.context;Y.clearRect(0,0,Y.canvas.width,Y.canvas.height),Y.beginPath(),Y.rect(0,0,Y.canvas.width,Y.canvas.height),Y.translate(-F[0],-F[1]),K=a.Util.transform(K,[1,0,0,1,F[0],F[1]]),Y.transform.apply(Y,X.baseTransform),this.matrix&&Y.transform.apply(Y,this.matrix),D(Y,this._bbox),Y.fillStyle=this._createGradient(Y),Y.fill(),S=ae.createPattern(ee.canvas,"no-repeat");var he=new DOMMatrix(K);try{S.setTransform(he)}catch(Se){(0,a.warn)('RadialAxialShadingPattern.getPattern: "'.concat(Se==null?void 0:Se.message,'".'))}}else D(ae,this._bbox),S=this._createGradient(ae);return S}}]),te}(p);function y(W,V,te,q,ae,X,K,P){var S=V.coords,F=V.colors,N=W.data,G=W.width*4,ee;S[te+1]>S[q+1]&&(ee=te,te=q,q=ee,ee=X,X=K,K=ee),S[q+1]>S[ae+1]&&(ee=q,q=ae,ae=ee,ee=K,K=P,P=ee),S[te+1]>S[q+1]&&(ee=te,te=q,q=ee,ee=X,X=K,K=ee);var Y=(S[te]+V.offsetX)*V.scaleX,he=(S[te+1]+V.offsetY)*V.scaleY,Se=(S[q]+V.offsetX)*V.scaleX,we=(S[q+1]+V.offsetY)*V.scaleY,$=(S[ae]+V.offsetX)*V.scaleX,U=(S[ae+1]+V.offsetY)*V.scaleY;if(!(he>=U))for(var b=F[X],g=F[X+1],x=F[X+2],z=F[K],H=F[K+1],re=F[K+2],fe=F[P],ge=F[P+1],ye=F[P+2],me=Math.round(he),Te=Math.round(U),Re,xe,Fe,Me,We,$e,de,pe,Z=me;Z<=Te;Z++){if(Z<we){var ne=void 0;Z<he?ne=0:ne=(he-Z)/(he-we),Re=Y-(Y-Se)*ne,xe=b-(b-z)*ne,Fe=g-(g-H)*ne,Me=x-(x-re)*ne}else{var Q=void 0;Z>U?Q=1:we===U?Q=0:Q=(we-Z)/(we-U),Re=Se-(Se-$)*Q,xe=z-(z-fe)*Q,Fe=H-(H-ge)*Q,Me=re-(re-ye)*Q}var se=void 0;Z<he?se=0:Z>U?se=1:se=(he-Z)/(he-U),We=Y-(Y-$)*se,$e=b-(b-fe)*se,de=g-(g-ge)*se,pe=x-(x-ye)*se;for(var ie=Math.round(Math.min(Re,We)),J=Math.round(Math.max(Re,We)),ve=G*Z+ie*4,ce=ie;ce<=J;ce++)se=(Re-ce)/(Re-We),se<0?se=0:se>1&&(se=1),N[ve++]=xe-(xe-$e)*se|0,N[ve++]=Fe-(Fe-de)*se|0,N[ve++]=Me-(Me-pe)*se|0,N[ve++]=255}}function A(W,V,te){var q=V.coords,ae=V.colors,X,K;switch(V.type){case"lattice":var P=V.verticesPerRow,S=Math.floor(q.length/P)-1,F=P-1;for(X=0;X<S;X++)for(var N=X*P,G=0;G<F;G++,N++)y(W,te,q[N],q[N+1],q[N+P],ae[N],ae[N+1],ae[N+P]),y(W,te,q[N+P+1],q[N+1],q[N+P],ae[N+P+1],ae[N+1],ae[N+P]);break;case"triangles":for(X=0,K=q.length;X<K;X+=3)y(W,te,q[X],q[X+1],q[X+2],ae[X],ae[X+1],ae[X+2]);break;default:throw new Error("illegal figure")}}var T=function(W){l(te,W);var V=c(te);function te(q){var ae;return I(this,te),ae=V.call(this),ae._coords=q[2],ae._colors=q[3],ae._figures=q[4],ae._bounds=q[5],ae._bbox=q[7],ae._background=q[8],ae.matrix=null,ae}return M(te,[{key:"_createMeshCanvas",value:function(ae,X,K){var P=1.1,S=3e3,F=2,N=Math.floor(this._bounds[0]),G=Math.floor(this._bounds[1]),ee=Math.ceil(this._bounds[2])-N,Y=Math.ceil(this._bounds[3])-G,he=Math.min(Math.ceil(Math.abs(ee*ae[0]*P)),S),Se=Math.min(Math.ceil(Math.abs(Y*ae[1]*P)),S),we=ee/he,$=Y/Se,U={coords:this._coords,colors:this._colors,offsetX:-N,offsetY:-G,scaleX:1/we,scaleY:1/$},b=he+F*2,g=Se+F*2,x=K.getCanvas("mesh",b,g,!1),z=x.context,H=z.createImageData(he,Se);if(X)for(var re=H.data,fe=0,ge=re.length;fe<ge;fe+=4)re[fe]=X[0],re[fe+1]=X[1],re[fe+2]=X[2],re[fe+3]=255;var ye=i(this._figures),me;try{for(ye.s();!(me=ye.n()).done;){var Te=me.value;A(H,Te,U)}}catch(xe){ye.e(xe)}finally{ye.f()}z.putImageData(H,F,F);var Re=x.canvas;return{canvas:Re,offsetX:N-F*we,offsetY:G-F*$,scaleX:we,scaleY:$}}},{key:"getPattern",value:function(ae,X,K,P){D(ae,this._bbox);var S;if(P===O.SHADING)S=a.Util.singularValueDecompose2dScale(ae.mozCurrentTransform);else if(S=a.Util.singularValueDecompose2dScale(X.baseTransform),this.matrix){var F=a.Util.singularValueDecompose2dScale(this.matrix);S=[S[0]*F[0],S[1]*F[1]]}var N=this._createMeshCanvas(S,P===O.SHADING?null:this._background,X.cachedCanvases);return P!==O.SHADING&&(ae.setTransform.apply(ae,X.baseTransform),this.matrix&&ae.transform.apply(ae,this.matrix)),ae.translate(N.offsetX,N.offsetY),ae.scale(N.scaleX,N.scaleY),ae.createPattern(N.canvas,"no-repeat")}}]),te}(p),_=function(W){l(te,W);var V=c(te);function te(){return I(this,te),V.apply(this,arguments)}return M(te,[{key:"getPattern",value:function(){return"hotpink"}}]),te}(p);function k(W){switch(W[0]){case"RadialAxial":return new h(W);case"Mesh":return new T(W);case"Dummy":return new _}throw new Error("Unknown IR type: ".concat(W[0]))}var L={COLORED:1,UNCOLORED:2},j=function(){function W(V,te,q,ae,X){I(this,W),this.operatorList=V[2],this.matrix=V[3]||[1,0,0,1,0,0],this.bbox=V[4],this.xstep=V[5],this.ystep=V[6],this.paintType=V[7],this.tilingType=V[8],this.color=te,this.ctx=q,this.canvasGraphicsFactory=ae,this.baseTransform=X}return M(W,[{key:"createPatternCanvas",value:function(te){var q=this.operatorList,ae=this.bbox,X=this.xstep,K=this.ystep,P=this.paintType,S=this.tilingType,F=this.color,N=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+S);var G=ae[0],ee=ae[1],Y=ae[2],he=ae[3],Se=a.Util.singularValueDecompose2dScale(this.matrix),we=a.Util.singularValueDecompose2dScale(this.baseTransform),$=[Se[0]*we[0],Se[1]*we[1]],U=this.getSizeAndScale(X,this.ctx.canvas.width,$[0]),b=this.getSizeAndScale(K,this.ctx.canvas.height,$[1]),g=te.cachedCanvases.getCanvas("pattern",U.size,b.size,!0),x=g.context,z=N.createCanvasGraphics(x);z.groupLevel=te.groupLevel,this.setFillAndStrokeStyleToContext(z,P,F);var H=G,re=ee,fe=Y,ge=he;return G<0&&(H=0,fe+=Math.abs(G)),ee<0&&(re=0,ge+=Math.abs(ee)),x.translate(-(U.scale*H),-(b.scale*re)),z.transform(U.scale,0,0,b.scale,0,0),this.clipBbox(z,H,re,fe,ge),z.baseTransform=z.ctx.mozCurrentTransform.slice(),z.executeOperatorList(q),z.endDrawing(),{canvas:g.canvas,scaleX:U.scale,scaleY:b.scale,offsetX:H,offsetY:re}}},{key:"getSizeAndScale",value:function(te,q,ae){te=Math.abs(te);var X=Math.max(W.MAX_PATTERN_SIZE,q),K=Math.ceil(te*ae);return K>=X?K=X:ae=K/te,{scale:ae,size:K}}},{key:"clipBbox",value:function(te,q,ae,X,K){var P=X-q,S=K-ae;te.ctx.rect(q,ae,P,S),te.clip(),te.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(te,q,ae){var X=te.ctx,K=te.current;switch(q){case L.COLORED:var P=this.ctx;X.fillStyle=P.fillStyle,X.strokeStyle=P.strokeStyle,K.fillColor=P.fillStyle,K.strokeColor=P.strokeStyle;break;case L.UNCOLORED:var S=a.Util.makeHexColor(ae[0],ae[1],ae[2]);X.fillStyle=S,X.strokeStyle=S,K.fillColor=S,K.strokeColor=S;break;default:throw new a.FormatError("Unsupported paint type: ".concat(q))}}},{key:"getPattern",value:function(te,q,ae,X){var K=ae;X!==O.SHADING&&(K=a.Util.transform(K,q.baseTransform),this.matrix&&(K=a.Util.transform(K,this.matrix)));var P=this.createPatternCanvas(q),S=new DOMMatrix(K);S=S.translate(P.offsetX,P.offsetY),S=S.scale(1/P.scaleX,1/P.scaleY);var F=te.createPattern(P.canvas,"repeat");try{F.setTransform(S)}catch(N){(0,a.warn)('TilingPattern.getPattern: "'.concat(N==null?void 0:N.message,'".'))}return F}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,a.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),W}();r.TilingPattern=j},(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.GlobalWorkerOptions=void 0;var t=Object.create(null);r.GlobalWorkerOptions=t,t.workerPort=t.workerPort===void 0?null:t.workerPort,t.workerSrc=t.workerSrc===void 0?"":t.workerSrc},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.MessageHandler=void 0;var n=i(t(2)),a=t(4);function i(C){return C&&C.__esModule?C:{default:C}}function o(C,M,O,D,p,h,y){try{var A=C[h](y),T=A.value}catch(_){O(_);return}A.done?M(T):Promise.resolve(T).then(D,p)}function s(C){return function(){var M=this,O=arguments;return new Promise(function(D,p){var h=C.apply(M,O);function y(T){o(h,D,p,y,A,"next",T)}function A(T){o(h,D,p,y,A,"throw",T)}y(void 0)})}}function l(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}function f(C,M){for(var O=0;O<M.length;O++){var D=M[O];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}function c(C,M,O){return M&&f(C.prototype,M),O&&f(C,O),C}function w(C){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(O){return typeof O}:w=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},w(C)}var R={UNKNOWN:0,DATA:1,ERROR:2},m={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function E(C){if(!(C instanceof Error||w(C)==="object"&&C!==null))return(0,a.warn)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),C;switch(C.name){case"AbortException":return new a.AbortException(C.message);case"MissingPDFException":return new a.MissingPDFException(C.message);case"PasswordException":return new a.PasswordException(C.message,C.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(C.message,C.status);case"UnknownErrorException":return new a.UnknownErrorException(C.message,C.details);default:return new a.UnknownErrorException(C.message,C.toString())}}var I=function(){function C(M,O,D){var p=this;l(this,C),this.sourceName=M,this.targetName=O,this.comObj=D,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(h){var y=h.data;if(y.targetName===p.sourceName){if(y.stream){p._processStreamMessage(y);return}if(y.callback){var A=y.callbackId,T=p.callbackCapabilities[A];if(!T)throw new Error("Cannot resolve callback ".concat(A));if(delete p.callbackCapabilities[A],y.callback===R.DATA)T.resolve(y.data);else if(y.callback===R.ERROR)T.reject(E(y.reason));else throw new Error("Unexpected callback case");return}var _=p.actionHandler[y.action];if(!_)throw new Error("Unknown action from worker: ".concat(y.action));if(y.callbackId){var k=p.sourceName,L=y.sourceName;new Promise(function(j){j(_(y.data))}).then(function(j){D.postMessage({sourceName:k,targetName:L,callback:R.DATA,callbackId:y.callbackId,data:j})},function(j){D.postMessage({sourceName:k,targetName:L,callback:R.ERROR,callbackId:y.callbackId,reason:E(j)})});return}if(y.streamId){p._createStreamSink(y);return}_(y.data)}},D.addEventListener("message",this._onComObjOnMessage)}return c(C,[{key:"on",value:function(O,D){var p=this.actionHandler;if(p[O])throw new Error('There is already an actionName called "'.concat(O,'"'));p[O]=D}},{key:"send",value:function(O,D,p){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:O,data:D},p)}},{key:"sendWithPromise",value:function(O,D,p){var h=this.callbackId++,y=(0,a.createPromiseCapability)();this.callbackCapabilities[h]=y;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:O,callbackId:h,data:D},p)}catch(A){y.reject(A)}return y.promise}},{key:"sendWithStream",value:function(O,D,p,h){var y=this,A=this.streamId++,T=this.sourceName,_=this.targetName,k=this.comObj;return new ReadableStream({start:function(j){var W=(0,a.createPromiseCapability)();return y.streamControllers[A]={controller:j,startCall:W,pullCall:null,cancelCall:null,isClosed:!1},k.postMessage({sourceName:T,targetName:_,action:O,streamId:A,data:D,desiredSize:j.desiredSize},h),W.promise},pull:function(j){var W=(0,a.createPromiseCapability)();return y.streamControllers[A].pullCall=W,k.postMessage({sourceName:T,targetName:_,stream:m.PULL,streamId:A,desiredSize:j.desiredSize}),W.promise},cancel:function(j){(0,a.assert)(j instanceof Error,"cancel must have a valid reason");var W=(0,a.createPromiseCapability)();return y.streamControllers[A].cancelCall=W,y.streamControllers[A].isClosed=!0,k.postMessage({sourceName:T,targetName:_,stream:m.CANCEL,streamId:A,reason:E(j)}),W.promise}},p)}},{key:"_createStreamSink",value:function(O){var D=O.streamId,p=this.sourceName,h=O.sourceName,y=this.comObj,A=this,T=this.actionHandler[O.action],_={enqueue:function(L){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,W=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var V=this.desiredSize;this.desiredSize-=j,V>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),y.postMessage({sourceName:p,targetName:h,stream:m.ENQUEUE,streamId:D,chunk:L},W)}},close:function(){this.isCancelled||(this.isCancelled=!0,y.postMessage({sourceName:p,targetName:h,stream:m.CLOSE,streamId:D}),delete A.streamSinks[D])},error:function(L){(0,a.assert)(L instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,y.postMessage({sourceName:p,targetName:h,stream:m.ERROR,streamId:D,reason:E(L)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:O.desiredSize,ready:null};_.sinkCapability.resolve(),_.ready=_.sinkCapability.promise,this.streamSinks[D]=_,new Promise(function(k){k(T(O.data,_))}).then(function(){y.postMessage({sourceName:p,targetName:h,stream:m.START_COMPLETE,streamId:D,success:!0})},function(k){y.postMessage({sourceName:p,targetName:h,stream:m.START_COMPLETE,streamId:D,reason:E(k)})})}},{key:"_processStreamMessage",value:function(O){var D=O.streamId,p=this.sourceName,h=O.sourceName,y=this.comObj,A=this.streamControllers[D],T=this.streamSinks[D];switch(O.stream){case m.START_COMPLETE:O.success?A.startCall.resolve():A.startCall.reject(E(O.reason));break;case m.PULL_COMPLETE:O.success?A.pullCall.resolve():A.pullCall.reject(E(O.reason));break;case m.PULL:if(!T){y.postMessage({sourceName:p,targetName:h,stream:m.PULL_COMPLETE,streamId:D,success:!0});break}T.desiredSize<=0&&O.desiredSize>0&&T.sinkCapability.resolve(),T.desiredSize=O.desiredSize,new Promise(function(_){_(T.onPull&&T.onPull())}).then(function(){y.postMessage({sourceName:p,targetName:h,stream:m.PULL_COMPLETE,streamId:D,success:!0})},function(_){y.postMessage({sourceName:p,targetName:h,stream:m.PULL_COMPLETE,streamId:D,reason:E(_)})});break;case m.ENQUEUE:if((0,a.assert)(A,"enqueue should have stream controller"),A.isClosed)break;A.controller.enqueue(O.chunk);break;case m.CLOSE:if((0,a.assert)(A,"close should have stream controller"),A.isClosed)break;A.isClosed=!0,A.controller.close(),this._deleteStreamController(A,D);break;case m.ERROR:(0,a.assert)(A,"error should have stream controller"),A.controller.error(E(O.reason)),this._deleteStreamController(A,D);break;case m.CANCEL_COMPLETE:O.success?A.cancelCall.resolve():A.cancelCall.reject(E(O.reason)),this._deleteStreamController(A,D);break;case m.CANCEL:if(!T)break;new Promise(function(_){_(T.onCancel&&T.onCancel(E(O.reason)))}).then(function(){y.postMessage({sourceName:p,targetName:h,stream:m.CANCEL_COMPLETE,streamId:D,success:!0})},function(_){y.postMessage({sourceName:p,targetName:h,stream:m.CANCEL_COMPLETE,streamId:D,reason:E(_)})}),T.sinkCapability.reject(E(O.reason)),T.isCancelled=!0,delete this.streamSinks[D];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){var M=s(n.default.mark(function D(p,h){return n.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,Promise.allSettled([p.startCall&&p.startCall.promise,p.pullCall&&p.pullCall.promise,p.cancelCall&&p.cancelCall.promise]);case 2:delete this.streamControllers[h];case 3:case"end":return A.stop()}},D,this)}));function O(D,p){return M.apply(this,arguments)}return O}()},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),C}();r.MessageHandler=I},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Metadata=void 0;var n=t(4);function a(M,O){if(!(M instanceof O))throw new TypeError("Cannot call a class as a function")}function i(M,O){for(var D=0;D<O.length;D++){var p=O[D];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(M,p.key,p)}}function o(M,O,D){return O&&i(M.prototype,O),D&&i(M,D),M}function s(M,O,D){l(M,O),O.set(M,D)}function l(M,O){if(O.has(M))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f(M,O){var D=R(M,O,"get");return c(M,D)}function c(M,O){return O.get?O.get.call(M):O.value}function w(M,O,D){var p=R(M,O,"set");return m(M,p,D),D}function R(M,O,D){if(!O.has(M))throw new TypeError("attempted to "+D+" private field on non-instance");return O.get(M)}function m(M,O,D){if(O.set)O.set.call(M,D);else{if(!O.writable)throw new TypeError("attempted to set read only private field");O.value=D}}var E=new WeakMap,I=new WeakMap,C=function(){function M(O){var D=O.parsedData,p=O.rawData;a(this,M),s(this,E,{writable:!0,value:void 0}),s(this,I,{writable:!0,value:void 0}),w(this,E,D),w(this,I,p)}return o(M,[{key:"getRaw",value:function(){return f(this,I)}},{key:"get",value:function(D){var p;return(p=f(this,E).get(D))!==null&&p!==void 0?p:null}},{key:"getAll",value:function(){return(0,n.objectFromMap)(f(this,E))}},{key:"has",value:function(D){return f(this,E).has(D)}}]),M}();r.Metadata=C},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.OptionalContentConfig=void 0;var n=t(4);function a(R,m){var E=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!E){if(Array.isArray(R)||(E=i(R))||m&&R&&typeof R.length=="number"){E&&(R=E);var I=0,C=function(){};return{s:C,n:function(){return I>=R.length?{done:!0}:{done:!1,value:R[I++]}},e:function(h){throw h},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M=!0,O=!1,D;return{s:function(){E=E.call(R)},n:function(){var h=E.next();return M=h.done,h},e:function(h){O=!0,D=h},f:function(){try{!M&&E.return!=null&&E.return()}finally{if(O)throw D}}}}function i(R,m){if(!!R){if(typeof R=="string")return o(R,m);var E=Object.prototype.toString.call(R).slice(8,-1);if(E==="Object"&&R.constructor&&(E=R.constructor.name),E==="Map"||E==="Set")return Array.from(R);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return o(R,m)}}function o(R,m){(m==null||m>R.length)&&(m=R.length);for(var E=0,I=new Array(m);E<m;E++)I[E]=R[E];return I}function s(R,m){for(var E=0;E<m.length;E++){var I=m[E];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,I.key,I)}}function l(R,m,E){return m&&s(R.prototype,m),E&&s(R,E),R}function f(R,m){if(!(R instanceof m))throw new TypeError("Cannot call a class as a function")}var c=function R(m,E){f(this,R),this.visible=!0,this.name=m,this.intent=E},w=function(){function R(m){if(f(this,R),this.name=null,this.creator=null,this._order=null,this._groups=new Map,m!==null){this.name=m.name,this.creator=m.creator,this._order=m.order;var E=a(m.groups),I;try{for(E.s();!(I=E.n()).done;){var C=I.value;this._groups.set(C.id,new c(C.name,C.intent))}}catch(k){E.e(k)}finally{E.f()}if(m.baseState==="OFF"){var M=a(this._groups),O;try{for(M.s();!(O=M.n()).done;){var D=O.value;D.visible=!1}}catch(k){M.e(k)}finally{M.f()}}var p=a(m.on),h;try{for(p.s();!(h=p.n()).done;){var y=h.value;this._groups.get(y).visible=!0}}catch(k){p.e(k)}finally{p.f()}var A=a(m.off),T;try{for(A.s();!(T=A.n()).done;){var _=T.value;this._groups.get(_).visible=!1}}catch(k){A.e(k)}finally{A.f()}}}return l(R,[{key:"_evaluateVisibilityExpression",value:function(E){var I=E.length;if(I<2)return!0;for(var C=E[0],M=1;M<I;M++){var O=E[M],D=void 0;if(Array.isArray(O))D=this._evaluateVisibilityExpression(O);else if(this._groups.has(O))D=this._groups.get(O).visible;else return(0,n.warn)("Optional content group not found: ".concat(O)),!0;switch(C){case"And":if(!D)return!1;break;case"Or":if(D)return!0;break;case"Not":return!D;default:return!0}}return C==="And"}},{key:"isVisible",value:function(E){if(this._groups.size===0)return!0;if(!E)return(0,n.warn)("Optional content group not defined."),!0;if(E.type==="OCG")return this._groups.has(E.id)?this._groups.get(E.id).visible:((0,n.warn)("Optional content group not found: ".concat(E.id)),!0);if(E.type==="OCMD"){if(E.expression)return this._evaluateVisibilityExpression(E.expression);if(!E.policy||E.policy==="AnyOn"){var I=a(E.ids),C;try{for(I.s();!(C=I.n()).done;){var M=C.value;if(!this._groups.has(M))return(0,n.warn)("Optional content group not found: ".concat(M)),!0;if(this._groups.get(M).visible)return!0}}catch(L){I.e(L)}finally{I.f()}return!1}else if(E.policy==="AllOn"){var O=a(E.ids),D;try{for(O.s();!(D=O.n()).done;){var p=D.value;if(!this._groups.has(p))return(0,n.warn)("Optional content group not found: ".concat(p)),!0;if(!this._groups.get(p).visible)return!1}}catch(L){O.e(L)}finally{O.f()}return!0}else if(E.policy==="AnyOff"){var h=a(E.ids),y;try{for(h.s();!(y=h.n()).done;){var A=y.value;if(!this._groups.has(A))return(0,n.warn)("Optional content group not found: ".concat(A)),!0;if(!this._groups.get(A).visible)return!0}}catch(L){h.e(L)}finally{h.f()}return!1}else if(E.policy==="AllOff"){var T=a(E.ids),_;try{for(T.s();!(_=T.n()).done;){var k=_.value;if(!this._groups.has(k))return(0,n.warn)("Optional content group not found: ".concat(k)),!0;if(this._groups.get(k).visible)return!1}}catch(L){T.e(L)}finally{T.f()}return!0}return(0,n.warn)("Unknown optional content policy ".concat(E.policy,".")),!0}return(0,n.warn)("Unknown group type ".concat(E.type,".")),!0}},{key:"setVisibility",value:function(E){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this._groups.has(E)){(0,n.warn)("Optional content group not found: ".concat(E));return}this._groups.get(E).visible=!!I}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,n.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(E){return this._groups.get(E)||null}}]),R}();r.OptionalContentConfig=w},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFDataTransportStream=void 0;var n=o(t(2)),a=t(4),i=t(1);function o(O){return O&&O.__esModule?O:{default:O}}function s(O,D,p,h,y,A,T){try{var _=O[A](T),k=_.value}catch(L){p(L);return}_.done?D(k):Promise.resolve(k).then(h,y)}function l(O){return function(){var D=this,p=arguments;return new Promise(function(h,y){var A=O.apply(D,p);function T(k){s(A,h,y,T,_,"next",k)}function _(k){s(A,h,y,T,_,"throw",k)}T(void 0)})}}function f(O,D){var p=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!p){if(Array.isArray(O)||(p=c(O))||D&&O&&typeof O.length=="number"){p&&(O=p);var h=0,y=function(){};return{s:y,n:function(){return h>=O.length?{done:!0}:{done:!1,value:O[h++]}},e:function(L){throw L},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A=!0,T=!1,_;return{s:function(){p=p.call(O)},n:function(){var L=p.next();return A=L.done,L},e:function(L){T=!0,_=L},f:function(){try{!A&&p.return!=null&&p.return()}finally{if(T)throw _}}}}function c(O,D){if(!!O){if(typeof O=="string")return w(O,D);var p=Object.prototype.toString.call(O).slice(8,-1);if(p==="Object"&&O.constructor&&(p=O.constructor.name),p==="Map"||p==="Set")return Array.from(O);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return w(O,D)}}function w(O,D){(D==null||D>O.length)&&(D=O.length);for(var p=0,h=new Array(D);p<D;p++)h[p]=O[p];return h}function R(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}function m(O,D){for(var p=0;p<D.length;p++){var h=D[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(O,h.key,h)}}function E(O,D,p){return D&&m(O.prototype,D),p&&m(O,p),O}var I=function(){function O(D,p){var h=this;R(this,O),(0,a.assert)(p,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=D.progressiveDone||!1,this._contentDispositionFilename=D.contentDispositionFilename||null;var y=D.initialData;if((y==null?void 0:y.length)>0){var A=new Uint8Array(y).buffer;this._queuedChunks.push(A)}this._pdfDataRangeTransport=p,this._isStreamingSupported=!D.disableStream,this._isRangeSupported=!D.disableRange,this._contentLength=D.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(T,_){h._onReceiveData({begin:T,chunk:_})}),this._pdfDataRangeTransport.addProgressListener(function(T,_){h._onProgress({loaded:T,total:_})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(T){h._onReceiveData({chunk:T})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){h._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return E(O,[{key:"_onReceiveData",value:function(p){var h=new Uint8Array(p.chunk).buffer;if(p.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(h):this._queuedChunks.push(h);else{var y=this._rangeReaders.some(function(A){return A._begin!==p.begin?!1:(A._enqueue(h),!0)});(0,a.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var p,h;return(p=(h=this._fullRequestReader)===null||h===void 0?void 0:h._loaded)!==null&&p!==void 0?p:0}},{key:"_onProgress",value:function(p){if(p.total===void 0){var h=this._rangeReaders[0];h!=null&&h.onProgress&&h.onProgress({loaded:p.loaded})}else{var y=this._fullRequestReader;y!=null&&y.onProgress&&y.onProgress({loaded:p.loaded,total:p.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(p){var h=this._rangeReaders.indexOf(p);h>=0&&this._rangeReaders.splice(h,1)}},{key:"getFullReader",value:function(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var p=this._queuedChunks;return this._queuedChunks=null,new C(this,p,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(p,h){if(h<=this._progressiveDataLength)return null;var y=new M(this,p,h);return this._pdfDataRangeTransport.requestDataRange(p,h),this._rangeReaders.push(y),y}},{key:"cancelAllRequests",value:function(p){this._fullRequestReader&&this._fullRequestReader.cancel(p);var h=f(this._rangeReaders.slice(0)),y;try{for(h.s();!(y=h.n()).done;){var A=y.value;A.cancel(p)}}catch(T){h.e(T)}finally{h.f()}this._pdfDataRangeTransport.abort()}}]),O}();r.PDFDataTransportStream=I;var C=function(){function O(D,p){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;R(this,O),this._stream=D,this._done=h||!1,this._filename=(0,i.isPdfFile)(y)?y:null,this._queuedChunks=p||[],this._loaded=0;var A=f(this._queuedChunks),T;try{for(A.s();!(T=A.n()).done;){var _=T.value;this._loaded+=_.byteLength}}catch(k){A.e(k)}finally{A.f()}this._requests=[],this._headersReady=Promise.resolve(),D._fullRequestReader=this,this.onProgress=null}return E(O,[{key:"_enqueue",value:function(p){if(!this._done){if(this._requests.length>0){var h=this._requests.shift();h.resolve({value:p,done:!1})}else this._queuedChunks.push(p);this._loaded+=p.byteLength}}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:function(){var D=l(n.default.mark(function h(){var y,A;return n.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(this._queuedChunks.length>0)){_.next=3;break}return y=this._queuedChunks.shift(),_.abrupt("return",{value:y,done:!1});case 3:if(!this._done){_.next=5;break}return _.abrupt("return",{value:void 0,done:!0});case 5:return A=(0,a.createPromiseCapability)(),this._requests.push(A),_.abrupt("return",A.promise);case 8:case"end":return _.stop()}},h,this)}));function p(){return D.apply(this,arguments)}return p}()},{key:"cancel",value:function(p){this._done=!0;var h=f(this._requests),y;try{for(h.s();!(y=h.n()).done;){var A=y.value;A.resolve({value:void 0,done:!0})}}catch(T){h.e(T)}finally{h.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),O}(),M=function(){function O(D,p,h){R(this,O),this._stream=D,this._begin=p,this._end=h,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return E(O,[{key:"_enqueue",value:function(p){if(!this._done){if(this._requests.length===0)this._queuedChunk=p;else{var h=this._requests.shift();h.resolve({value:p,done:!1});var y=f(this._requests),A;try{for(y.s();!(A=y.n()).done;){var T=A.value;T.resolve({value:void 0,done:!0})}}catch(_){y.e(_)}finally{y.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var D=l(n.default.mark(function h(){var y,A;return n.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!this._queuedChunk){_.next=4;break}return y=this._queuedChunk,this._queuedChunk=null,_.abrupt("return",{value:y,done:!1});case 4:if(!this._done){_.next=6;break}return _.abrupt("return",{value:void 0,done:!0});case 6:return A=(0,a.createPromiseCapability)(),this._requests.push(A),_.abrupt("return",A.promise);case 9:case"end":return _.stop()}},h,this)}));function p(){return D.apply(this,arguments)}return p}()},{key:"cancel",value:function(p){this._done=!0;var h=f(this._requests),y;try{for(h.s();!(y=h.n()).done;){var A=y.value;A.resolve({value:void 0,done:!0})}}catch(T){h.e(T)}finally{h.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),O}()},(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.XfaText=void 0;function t(f,c){var w=typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(!w){if(Array.isArray(f)||(w=n(f))||c&&f&&typeof f.length=="number"){w&&(f=w);var R=0,m=function(){};return{s:m,n:function(){return R>=f.length?{done:!0}:{done:!1,value:f[R++]}},e:function(O){throw O},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E=!0,I=!1,C;return{s:function(){w=w.call(f)},n:function(){var O=w.next();return E=O.done,O},e:function(O){I=!0,C=O},f:function(){try{!E&&w.return!=null&&w.return()}finally{if(I)throw C}}}}function n(f,c){if(!!f){if(typeof f=="string")return a(f,c);var w=Object.prototype.toString.call(f).slice(8,-1);if(w==="Object"&&f.constructor&&(w=f.constructor.name),w==="Map"||w==="Set")return Array.from(f);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return a(f,c)}}function a(f,c){(c==null||c>f.length)&&(c=f.length);for(var w=0,R=new Array(c);w<c;w++)R[w]=f[w];return R}function i(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function o(f,c){for(var w=0;w<c.length;w++){var R=c[w];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(f,R.key,R)}}function s(f,c,w){return c&&o(f.prototype,c),w&&o(f,w),f}var l=function(){function f(){i(this,f)}return s(f,null,[{key:"textContent",value:function(w){var R=[],m={items:R,styles:Object.create(null)};function E(I){var C;if(!!I){var M=null,O=I.name;if(O==="#text")M=I.value;else if(f.shouldBuildText(O))I!=null&&(C=I.attributes)!==null&&C!==void 0&&C.textContent?M=I.attributes.textContent:I.value&&(M=I.value);else return;if(M!==null&&R.push({str:M}),!!I.children){var D=t(I.children),p;try{for(D.s();!(p=D.n()).done;){var h=p.value;E(h)}}catch(y){D.e(y)}finally{D.f()}}}}return E(w),m}},{key:"shouldBuildText",value:function(w){return!(w==="textarea"||w==="input"||w==="option"||w==="select")}}]),f}();r.XfaText=l},(e,r,t)=>{function n(de){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(Z){return typeof Z}:n=function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},n(de)}Object.defineProperty(r,"__esModule",{value:!0}),r.AnnotationLayer=void 0;var a=t(4),i=t(1),o=t(139),s=t(149),l=t(150);function f(de,pe,Z){return c(de,pe),Z}function c(de,pe){if(de!==pe)throw new TypeError("Private static access of wrong provenance")}function w(de,pe,Z){return typeof Reflect<"u"&&Reflect.get?w=Reflect.get:w=function(Q,se,ie){var J=R(Q,se);if(!!J){var ve=Object.getOwnPropertyDescriptor(J,se);return ve.get?ve.get.call(ie):ve.value}},w(de,pe,Z||de)}function R(de,pe){for(;!Object.prototype.hasOwnProperty.call(de,pe)&&(de=T(de),de!==null););return de}function m(de,pe,Z){return pe in de?Object.defineProperty(de,pe,{value:Z,enumerable:!0,configurable:!0,writable:!0}):de[pe]=Z,de}function E(de){return M(de)||C(de)||j(de)||I()}function I(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(de){if(typeof Symbol<"u"&&de[Symbol.iterator]!=null||de["@@iterator"]!=null)return Array.from(de)}function M(de){if(Array.isArray(de))return W(de)}function O(de,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function");de.prototype=Object.create(pe&&pe.prototype,{constructor:{value:de,writable:!0,configurable:!0}}),pe&&D(de,pe)}function D(de,pe){return D=Object.setPrototypeOf||function(ne,Q){return ne.__proto__=Q,ne},D(de,pe)}function p(de){var pe=A();return function(){var ne=T(de),Q;if(pe){var se=T(this).constructor;Q=Reflect.construct(ne,arguments,se)}else Q=ne.apply(this,arguments);return h(this,Q)}}function h(de,pe){if(pe&&(n(pe)==="object"||typeof pe=="function"))return pe;if(pe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(de)}function y(de){if(de===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T(de){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},T(de)}function _(de,pe){var Z=typeof Symbol<"u"&&de[Symbol.iterator]||de["@@iterator"];if(!Z){if(Array.isArray(de)||(Z=j(de))||pe&&de&&typeof de.length=="number"){Z&&(de=Z);var ne=0,Q=function(){};return{s:Q,n:function(){return ne>=de.length?{done:!0}:{done:!1,value:de[ne++]}},e:function(ce){throw ce},f:Q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se=!0,ie=!1,J;return{s:function(){Z=Z.call(de)},n:function(){var ce=Z.next();return se=ce.done,ce},e:function(ce){ie=!0,J=ce},f:function(){try{!se&&Z.return!=null&&Z.return()}finally{if(ie)throw J}}}}function k(de,pe){return te(de)||V(de,pe)||j(de,pe)||L()}function L(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(de,pe){if(!!de){if(typeof de=="string")return W(de,pe);var Z=Object.prototype.toString.call(de).slice(8,-1);if(Z==="Object"&&de.constructor&&(Z=de.constructor.name),Z==="Map"||Z==="Set")return Array.from(de);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return W(de,pe)}}function W(de,pe){(pe==null||pe>de.length)&&(pe=de.length);for(var Z=0,ne=new Array(pe);Z<pe;Z++)ne[Z]=de[Z];return ne}function V(de,pe){var Z=de==null?null:typeof Symbol<"u"&&de[Symbol.iterator]||de["@@iterator"];if(Z!=null){var ne=[],Q=!0,se=!1,ie,J;try{for(Z=Z.call(de);!(Q=(ie=Z.next()).done)&&(ne.push(ie.value),!(pe&&ne.length===pe));Q=!0);}catch(ve){se=!0,J=ve}finally{try{!Q&&Z.return!=null&&Z.return()}finally{if(se)throw J}}return ne}}function te(de){if(Array.isArray(de))return de}function q(de,pe){if(!(de instanceof pe))throw new TypeError("Cannot call a class as a function")}function ae(de,pe){for(var Z=0;Z<pe.length;Z++){var ne=pe[Z];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(de,ne.key,ne)}}function X(de,pe,Z){return pe&&ae(de.prototype,pe),Z&&ae(de,Z),de}var K=1e3,P=new WeakSet,S=function(){function de(){q(this,de)}return X(de,null,[{key:"create",value:function(Z){var ne=Z.data.annotationType;switch(ne){case a.AnnotationType.LINK:return new N(Z);case a.AnnotationType.TEXT:return new G(Z);case a.AnnotationType.WIDGET:var Q=Z.data.fieldType;switch(Q){case"Tx":return new Y(Z);case"Btn":return Z.data.radioButton?new Se(Z):Z.data.checkBox?new he(Z):new we(Z);case"Ch":return new $(Z)}return new ee(Z);case a.AnnotationType.POPUP:return new U(Z);case a.AnnotationType.FREETEXT:return new g(Z);case a.AnnotationType.LINE:return new x(Z);case a.AnnotationType.SQUARE:return new z(Z);case a.AnnotationType.CIRCLE:return new H(Z);case a.AnnotationType.POLYLINE:return new re(Z);case a.AnnotationType.CARET:return new ge(Z);case a.AnnotationType.INK:return new ye(Z);case a.AnnotationType.POLYGON:return new fe(Z);case a.AnnotationType.HIGHLIGHT:return new me(Z);case a.AnnotationType.UNDERLINE:return new Te(Z);case a.AnnotationType.SQUIGGLY:return new Re(Z);case a.AnnotationType.STRIKEOUT:return new xe(Z);case a.AnnotationType.STAMP:return new Fe(Z);case a.AnnotationType.FILEATTACHMENT:return new Me(Z);default:return new F(Z)}}}]),de}(),F=function(){function de(pe){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=Z.isRenderable,Q=ne===void 0?!1:ne,se=Z.ignoreBorder,ie=se===void 0?!1:se,J=Z.createQuadrilaterals,ve=J===void 0?!1:J;q(this,de),this.isRenderable=Q,this.data=pe.data,this.layer=pe.layer,this.page=pe.page,this.viewport=pe.viewport,this.linkService=pe.linkService,this.downloadManager=pe.downloadManager,this.imageResourcesPath=pe.imageResourcesPath,this.renderForms=pe.renderForms,this.svgFactory=pe.svgFactory,this.annotationStorage=pe.annotationStorage,this.enableScripting=pe.enableScripting,this.hasJSActions=pe.hasJSActions,this._fieldObjects=pe.fieldObjects,this._mouseState=pe.mouseState,Q&&(this.container=this._createContainer(ie)),ve&&(this.quadrilaterals=this._createQuadrilaterals(ie))}return X(de,[{key:"_createContainer",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ne=this.data,Q=this.page,se=this.viewport,ie=document.createElement("section"),J=ne.rect[2]-ne.rect[0],ve=ne.rect[3]-ne.rect[1];ie.setAttribute("data-annotation-id",ne.id);var ce=a.Util.normalizeRect([ne.rect[0],Q.view[3]-ne.rect[1]+Q.view[1],ne.rect[2],Q.view[3]-ne.rect[3]+Q.view[1]]);if(ne.hasOwnCanvas){var Ae=se.transform.slice(),Pe=a.Util.singularValueDecompose2dScale(Ae),Le=k(Pe,2),Ne=Le[0],Ee=Le[1];J=Math.ceil(J*Ne),ve=Math.ceil(ve*Ee),ce[0]*=Ne,ce[1]*=Ee;for(var je=0;je<4;je++)Ae[je]=Math.sign(Ae[je]);ie.style.transform="matrix(".concat(Ae.join(","),")")}else ie.style.transform="matrix(".concat(se.transform.join(","),")");if(ie.style.transformOrigin="".concat(-ce[0],"px ").concat(-ce[1],"px"),!Z&&ne.borderStyle.width>0){ie.style.borderWidth="".concat(ne.borderStyle.width,"px"),ne.borderStyle.style!==a.AnnotationBorderStyleType.UNDERLINE&&(J-=2*ne.borderStyle.width,ve-=2*ne.borderStyle.width);var Oe=ne.borderStyle.horizontalCornerRadius,Ie=ne.borderStyle.verticalCornerRadius;if(Oe>0||Ie>0){var Ue="".concat(Oe,"px / ").concat(Ie,"px");ie.style.borderRadius=Ue}switch(ne.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:ie.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:ie.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:ie.style.borderBottomStyle="solid";break}var Be=ne.borderColor||ne.color||null;Be?ie.style.borderColor=a.Util.makeHexColor(ne.color[0]|0,ne.color[1]|0,ne.color[2]|0):ie.style.borderWidth=0}return ie.style.left="".concat(ce[0],"px"),ie.style.top="".concat(ce[1],"px"),ne.hasOwnCanvas?ie.style.width=ie.style.height="auto":(ie.style.width="".concat(J,"px"),ie.style.height="".concat(ve,"px")),ie}},{key:"_createQuadrilaterals",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.data.quadPoints)return null;var ne=[],Q=this.data.rect,se=_(this.data.quadPoints),ie;try{for(se.s();!(ie=se.n()).done;){var J=ie.value;this.data.rect=[J[2].x,J[2].y,J[1].x,J[1].y],ne.push(this._createContainer(Z))}}catch(ve){se.e(ve)}finally{se.f()}return this.data.rect=Q,ne}},{key:"_createPopup",value:function(Z,ne){var Q=this.container;this.quadrilaterals&&(Z=Z||this.quadrilaterals,Q=this.quadrilaterals[0]),Z||(Z=document.createElement("div"),Z.style.height=Q.style.height,Z.style.width=Q.style.width,Q.appendChild(Z));var se=new b({container:Q,trigger:Z,color:ne.color,titleObj:ne.titleObj,modificationDate:ne.modificationDate,contentsObj:ne.contentsObj,richText:ne.richText,hideWrapper:!0}),ie=se.render();ie.style.left=Q.style.width,Q.appendChild(ie)}},{key:"_renderQuadrilaterals",value:function(Z){var ne=_(this.quadrilaterals),Q;try{for(ne.s();!(Q=ne.n()).done;){var se=Q.value;se.className=Z}}catch(ie){ne.e(ie)}finally{ne.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(Z){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Q=[];if(this._fieldObjects){var se=this._fieldObjects[Z];if(se){var ie=_(se),J;try{for(ie.s();!(J=ie.n()).done;){var ve=J.value,ce=ve.page,Ae=ve.id,Pe=ve.exportValues;if(ce!==-1&&Ae!==ne){var Le=typeof Pe=="string"?Pe:null,Ne=document.getElementById(Ae);if(Ne&&!P.has(Ne)){(0,a.warn)("_getElementsByName - element not allowed: ".concat(Ae));continue}Q.push({id:Ae,exportValue:Le,domElement:Ne})}}}catch(Be){ie.e(Be)}finally{ie.f()}}return Q}var Ee=_(document.getElementsByName(Z)),je;try{for(Ee.s();!(je=Ee.n()).done;){var Oe=je.value,Ie=Oe.id,Ue=Oe.exportValue;Ie!==ne&&(!P.has(Oe)||Q.push({id:Ie,exportValue:Ue,domElement:Oe}))}}catch(Be){Ee.e(Be)}finally{Ee.f()}return Q}}],[{key:"platform",get:function(){var Z=typeof navigator<"u"?navigator.platform:"";return(0,a.shadow)(this,"platform",{isWin:Z.includes("Win"),isMac:Z.includes("Mac")})}}]),de}(),N=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;q(this,Z);var se=!!(ne.data.url||ne.data.dest||ne.data.action||ne.data.isTooltipOnly||ne.data.resetForm||ne.data.actions&&(ne.data.actions.Action||ne.data.actions["Mouse Up"]||ne.data.actions["Mouse Down"]));return pe.call(this,ne,{isRenderable:se,ignoreBorder:!!(Q!=null&&Q.ignoreBorder),createQuadrilaterals:!0})}return X(Z,[{key:"render",value:function(){var Q=this.data,se=this.linkService,ie=document.createElement("a");if(Q.url){var J;se.addLinkAttributes||(0,a.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),(J=se.addLinkAttributes)===null||J===void 0||J.call(se,ie,Q.url,Q.newWindow)}else if(Q.action)this._bindNamedAction(ie,Q.action);else if(Q.dest)this._bindLink(ie,Q.dest);else{var ve=!1;Q.actions&&(Q.actions.Action||Q.actions["Mouse Up"]||Q.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(ve=!0,this._bindJSAction(ie,Q)),Q.resetForm?this._bindResetFormAction(ie,Q.resetForm):ve||this._bindLink(ie,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(ce,Ae){var Pe=Ae===0?ie:ie.cloneNode();return ce.appendChild(Pe),ce}):(this.container.className="linkAnnotation",this.container.appendChild(ie),this.container)}},{key:"_bindLink",value:function(Q,se){var ie=this;Q.href=this.linkService.getDestinationHash(se),Q.onclick=function(){return se&&ie.linkService.goToDestination(se),!1},(se||se==="")&&(Q.className="internalLink")}},{key:"_bindNamedAction",value:function(Q,se){var ie=this;Q.href=this.linkService.getAnchorUrl(""),Q.onclick=function(){return ie.linkService.executeNamedAction(se),!1},Q.className="internalLink"}},{key:"_bindJSAction",value:function(Q,se){var ie=this;Q.href=this.linkService.getAnchorUrl("");for(var J=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),ve=function(){var Ne=Ae[ce],Ee=J.get(Ne);if(!Ee)return"continue";Q[Ee]=function(){var je;return(je=ie.linkService.eventBus)===null||je===void 0||je.dispatch("dispatcheventinsandbox",{source:ie,detail:{id:se.id,name:Ne}}),!1}},ce=0,Ae=Object.keys(se.actions);ce<Ae.length;ce++)var Pe=ve();Q.onclick||(Q.onclick=function(){return!1}),Q.className="internalLink"}},{key:"_bindResetFormAction",value:function(Q,se){var ie=this,J=Q.onclick;if(J||(Q.href=this.linkService.getAnchorUrl("")),Q.className="internalLink",!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),J||(Q.onclick=function(){return!1});return}Q.onclick=function(){J&&J();var ve=se.fields,ce=se.refs,Ae=se.include,Pe=[];if(ve.length!==0||ce.length!==0){var Le=new Set(ce),Ne=_(ve),Ee;try{for(Ne.s();!(Ee=Ne.n()).done;){var je=Ee.value,Oe=ie._fieldObjects[je]||[],Ie=_(Oe),Ue;try{for(Ie.s();!(Ue=Ie.n()).done;){var Be=Ue.value.id;Le.add(Be)}}catch(He){Ie.e(He)}finally{Ie.f()}}}catch(He){Ne.e(He)}finally{Ne.f()}for(var Ye=0,Ve=Object.values(ie._fieldObjects);Ye<Ve.length;Ye++){var Je=Ve[Ye],nt=_(Je),ot;try{for(nt.s();!(ot=nt.n()).done;){var mt=ot.value;Le.has(mt.id)===Ae&&Pe.push(mt)}}catch(He){nt.e(He)}finally{nt.f()}}}else for(var pt=0,kt=Object.values(ie._fieldObjects);pt<kt.length;pt++){var Xt=kt[pt];Pe.push.apply(Pe,E(Xt))}for(var Ot=ie.annotationStorage,It=[],Ft=0,Vt=Pe;Ft<Vt.length;Ft++){var wt=Vt[Ft],Pt=wt.id;switch(It.push(Pt),wt.type){case"text":{var le=wt.defaultValue||"";Ot.setValue(Pt,{value:le,valueAsString:le});break}case"checkbox":case"radiobutton":{var Ce=wt.defaultValue===wt.exportValues;Ot.setValue(Pt,{value:Ce});break}case"combobox":case"listbox":{var ue=wt.defaultValue||"";Ot.setValue(Pt,{value:ue});break}default:continue}var be=document.getElementById(Pt);!be||!P.has(be)||be.dispatchEvent(new Event("resetform"))}if(ie.enableScripting){var ze;(ze=ie.linkService.eventBus)===null||ze===void 0||ze.dispatch("dispatcheventinsandbox",{source:ie,detail:{id:"app",ids:It,name:"ResetForm"}})}return!1}}}]),Z}(F),G=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se,ie;q(this,Z);var J=!!(ne.data.hasPopup||(Q=ne.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=ne.data.contentsObj)!==null&&se!==void 0&&se.str||(ie=ne.data.richText)!==null&&ie!==void 0&&ie.str);return pe.call(this,ne,{isRenderable:J})}return X(Z,[{key:"render",value:function(){this.container.className="textAnnotation";var Q=document.createElement("img");return Q.style.height=this.container.style.height,Q.style.width=this.container.style.width,Q.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Q.alt="[{{type}} Annotation]",Q.dataset.l10nId="text_annotation_type",Q.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(Q,this.data),this.container.appendChild(Q),this.container}}]),Z}(F),ee=function(de){O(Z,de);var pe=p(Z);function Z(){return q(this,Z),pe.apply(this,arguments)}return X(Z,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(Q){var se=F.platform,ie=se.isWin,J=se.isMac;return ie&&Q.ctrlKey||J&&Q.metaKey}},{key:"_setEventListener",value:function(Q,se,ie,J){var ve=this;se.includes("mouse")?Q.addEventListener(se,function(ce){var Ae;(Ae=ve.linkService.eventBus)===null||Ae===void 0||Ae.dispatch("dispatcheventinsandbox",{source:ve,detail:{id:ve.data.id,name:ie,value:J(ce),shift:ce.shiftKey,modifier:ve._getKeyModifier(ce)}})}):Q.addEventListener(se,function(ce){var Ae;(Ae=ve.linkService.eventBus)===null||Ae===void 0||Ae.dispatch("dispatcheventinsandbox",{source:ve,detail:{id:ve.data.id,name:ie,value:ce.target.checked}})})}},{key:"_setEventListeners",value:function(Q,se,ie){var J=_(se),ve;try{for(J.s();!(ve=J.n()).done;){var ce,Ae=k(ve.value,2),Pe=Ae[0],Le=Ae[1];(Le==="Action"||(ce=this.data.actions)!==null&&ce!==void 0&&ce[Le])&&this._setEventListener(Q,Pe,Le,ie)}}catch(Ne){J.e(Ne)}finally{J.f()}}},{key:"_setBackgroundColor",value:function(Q){var se=this.data.backgroundColor||null;Q.style.backgroundColor=se===null?"transparent":a.Util.makeHexColor(se[0],se[1],se[2])}},{key:"_dispatchEventFromSandbox",value:function(Q,se){for(var ie=this,J=function(Ee,je,Oe){var Ie=Oe.detail[Ee];Oe.target.style[je]=s.ColorConverters["".concat(Ie[0],"_HTML")](Ie.slice(1))},ve={display:function(Ee){var je=Ee.detail.display%2===1;Ee.target.style.visibility=je?"hidden":"visible",ie.annotationStorage.setValue(ie.data.id,{hidden:je,print:Ee.detail.display===0||Ee.detail.display===3})},print:function(Ee){ie.annotationStorage.setValue(ie.data.id,{print:Ee.detail.print})},hidden:function(Ee){Ee.target.style.visibility=Ee.detail.hidden?"hidden":"visible",ie.annotationStorage.setValue(ie.data.id,{hidden:Ee.detail.hidden})},focus:function(Ee){setTimeout(function(){return Ee.target.focus({preventScroll:!1})},0)},userName:function(Ee){Ee.target.title=Ee.detail.userName},readonly:function(Ee){Ee.detail.readonly?Ee.target.setAttribute("readonly",""):Ee.target.removeAttribute("readonly")},required:function(Ee){Ee.detail.required?Ee.target.setAttribute("required",""):Ee.target.removeAttribute("required")},bgColor:function(Ee){J("bgColor","backgroundColor",Ee)},fillColor:function(Ee){J("fillColor","backgroundColor",Ee)},fgColor:function(Ee){J("fgColor","color",Ee)},textColor:function(Ee){J("textColor","color",Ee)},borderColor:function(Ee){J("borderColor","borderColor",Ee)},strokeColor:function(Ee){J("strokeColor","borderColor",Ee)}},ce=0,Ae=Object.keys(se.detail);ce<Ae.length;ce++){var Pe=Ae[ce],Le=Q[Pe]||ve[Pe];Le&&Le(se)}}}]),Z}(F),Y=function(de){O(Z,de);var pe=p(Z);function Z(ne){q(this,Z);var Q=ne.renderForms||!ne.data.hasAppearance&&!!ne.data.fieldValue;return pe.call(this,ne,{isRenderable:Q})}return X(Z,[{key:"setPropertyOnSiblings",value:function(Q,se,ie,J){var ve=this.annotationStorage,ce=_(this._getElementsByName(Q.name,Q.id)),Ae;try{for(ce.s();!(Ae=ce.n()).done;){var Pe=Ae.value;Pe.domElement&&(Pe.domElement[se]=ie),ve.setValue(Pe.id,m({},J,ie))}}catch(Le){ce.e(Le)}finally{ce.f()}}},{key:"render",value:function(){var Q=this,se=this.annotationStorage,ie=this.data.id;this.container.className="textWidgetAnnotation";var J=null;if(this.renderForms){var ve=se.getValue(ie,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),ce=ve.valueAsString||ve.value||"",Ae={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(J=document.createElement("textarea"),J.textContent=ce):(J=document.createElement("input"),J.type="text",J.setAttribute("value",ce)),P.add(J),J.disabled=this.data.readOnly,J.name=this.data.fieldName,J.tabIndex=K,Ae.userValue=ce,J.setAttribute("id",ie),J.addEventListener("input",function(Oe){se.setValue(ie,{value:Oe.target.value}),Q.setPropertyOnSiblings(J,"value",Oe.target.value,"value")}),J.addEventListener("resetform",function(Oe){var Ie=Q.data.defaultFieldValue||"";J.value=Ae.userValue=Ie,delete Ae.formattedValue});var Pe=function(Ie){Ae.formattedValue&&(Ie.target.value=Ae.formattedValue),Ie.target.scrollLeft=0,Ae.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var Le;J.addEventListener("focus",function(Oe){Ae.userValue&&(Oe.target.value=Ae.userValue)}),J.addEventListener("updatefromsandbox",function(Oe){var Ie={value:function(Be){Ae.userValue=Be.detail.value||"",se.setValue(ie,{value:Ae.userValue.toString()}),Ae.formattedValue||(Be.target.value=Ae.userValue)},valueAsString:function(Be){Ae.formattedValue=Be.detail.valueAsString||"",Be.target!==document.activeElement&&(Be.target.value=Ae.formattedValue),se.setValue(ie,{formattedValue:Ae.formattedValue})},selRange:function(Be){var Ye=k(Be.detail.selRange,2),Ve=Ye[0],Je=Ye[1];Ve>=0&&Je<Be.target.value.length&&Be.target.setSelectionRange(Ve,Je)}};Q._dispatchEventFromSandbox(Ie,Oe)}),J.addEventListener("keydown",function(Oe){var Ie;Ae.beforeInputValue=Oe.target.value;var Ue=-1;Oe.key==="Escape"?Ue=0:Oe.key==="Enter"?Ue=2:Oe.key==="Tab"&&(Ue=3),Ue!==-1&&(Ae.userValue=Oe.target.value,(Ie=Q.linkService.eventBus)===null||Ie===void 0||Ie.dispatch("dispatcheventinsandbox",{source:Q,detail:{id:ie,name:"Keystroke",value:Oe.target.value,willCommit:!0,commitKey:Ue,selStart:Oe.target.selectionStart,selEnd:Oe.target.selectionEnd}}))});var Ne=Pe;Pe=null,J.addEventListener("blur",function(Oe){if(Q._mouseState.isDown){var Ie;Ae.userValue=Oe.target.value,(Ie=Q.linkService.eventBus)===null||Ie===void 0||Ie.dispatch("dispatcheventinsandbox",{source:Q,detail:{id:ie,name:"Keystroke",value:Oe.target.value,willCommit:!0,commitKey:1,selStart:Oe.target.selectionStart,selEnd:Oe.target.selectionEnd}})}Ne(Oe)}),J.addEventListener("mousedown",function(Oe){Ae.beforeInputValue=Oe.target.value,Ae.beforeInputSelectionRange=null}),J.addEventListener("keyup",function(Oe){Oe.target.selectionStart===Oe.target.selectionEnd&&(Ae.beforeInputSelectionRange=null)}),J.addEventListener("select",function(Oe){Ae.beforeInputSelectionRange=[Oe.target.selectionStart,Oe.target.selectionEnd]}),(Le=this.data.actions)!==null&&Le!==void 0&&Le.Keystroke&&J.addEventListener("input",function(Oe){var Ie,Ue=-1,Be=-1;if(Ae.beforeInputSelectionRange){var Ye=k(Ae.beforeInputSelectionRange,2);Ue=Ye[0],Be=Ye[1]}(Ie=Q.linkService.eventBus)===null||Ie===void 0||Ie.dispatch("dispatcheventinsandbox",{source:Q,detail:{id:ie,name:"Keystroke",value:Ae.beforeInputValue,change:Oe.data,willCommit:!1,selStart:Ue,selEnd:Be}})}),this._setEventListeners(J,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Oe){return Oe.target.value})}if(Pe&&J.addEventListener("blur",Pe),this.data.maxLen!==null&&(J.maxLength=this.data.maxLen),this.data.comb){var Ee=this.data.rect[2]-this.data.rect[0],je=Ee/this.data.maxLen;J.classList.add("comb"),J.style.letterSpacing="calc(".concat(je,"px - 1ch)")}}else J=document.createElement("div"),J.textContent=this.data.fieldValue,J.style.verticalAlign="middle",J.style.display="table-cell";return this._setTextStyle(J),this._setBackgroundColor(J),this.container.appendChild(J),this.container}},{key:"_setTextStyle",value:function(Q){var se=["left","center","right"],ie=this.data.defaultAppearanceData,J=ie.fontSize,ve=ie.fontColor,ce=Q.style;J&&(ce.fontSize="".concat(J,"px")),ce.color=a.Util.makeHexColor(ve[0],ve[1],ve[2]),this.data.textAlignment!==null&&(ce.textAlign=se[this.data.textAlignment])}}]),Z}(ee),he=function(de){O(Z,de);var pe=p(Z);function Z(ne){return q(this,Z),pe.call(this,ne,{isRenderable:ne.renderForms})}return X(Z,[{key:"render",value:function(){var Q=this,se=this.annotationStorage,ie=this.data,J=ie.id,ve=se.getValue(J,{value:ie.exportValue===ie.fieldValue}).value;typeof ve=="string"&&(ve=ve!=="Off",se.setValue(J,{value:ve})),this.container.className="buttonWidgetAnnotation checkBox";var ce=document.createElement("input");return P.add(ce),ce.disabled=ie.readOnly,ce.type="checkbox",ce.name=ie.fieldName,ve&&ce.setAttribute("checked",!0),ce.setAttribute("id",J),ce.setAttribute("exportValue",ie.exportValue),ce.tabIndex=K,ce.addEventListener("change",function(Ae){var Pe=Ae.target,Le=Pe.name,Ne=Pe.checked,Ee=_(Q._getElementsByName(Le,J)),je;try{for(Ee.s();!(je=Ee.n()).done;){var Oe=je.value,Ie=Ne&&Oe.exportValue===ie.exportValue;Oe.domElement&&(Oe.domElement.checked=Ie),se.setValue(Oe.id,{value:Ie})}}catch(Ue){Ee.e(Ue)}finally{Ee.f()}se.setValue(J,{value:Ne})}),ce.addEventListener("resetform",function(Ae){var Pe=ie.defaultFieldValue||"Off";Ae.target.checked=Pe===ie.exportValue}),this.enableScripting&&this.hasJSActions&&(ce.addEventListener("updatefromsandbox",function(Ae){var Pe={value:function(Ne){Ne.target.checked=Ne.detail.value!=="Off",se.setValue(J,{value:Ne.target.checked})}};Q._dispatchEventFromSandbox(Pe,Ae)}),this._setEventListeners(ce,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Ae){return Ae.target.checked})),this._setBackgroundColor(ce),this.container.appendChild(ce),this.container}}]),Z}(ee),Se=function(de){O(Z,de);var pe=p(Z);function Z(ne){return q(this,Z),pe.call(this,ne,{isRenderable:ne.renderForms})}return X(Z,[{key:"render",value:function(){var Q=this;this.container.className="buttonWidgetAnnotation radioButton";var se=this.annotationStorage,ie=this.data,J=ie.id,ve=se.getValue(J,{value:ie.fieldValue===ie.buttonValue}).value;typeof ve=="string"&&(ve=ve!==ie.buttonValue,se.setValue(J,{value:ve}));var ce=document.createElement("input");if(P.add(ce),ce.disabled=ie.readOnly,ce.type="radio",ce.name=ie.fieldName,ve&&ce.setAttribute("checked",!0),ce.setAttribute("id",J),ce.tabIndex=K,ce.addEventListener("change",function(Pe){var Le=Pe.target,Ne=Le.name,Ee=Le.checked,je=_(Q._getElementsByName(Ne,J)),Oe;try{for(je.s();!(Oe=je.n()).done;){var Ie=Oe.value;se.setValue(Ie.id,{value:!1})}}catch(Ue){je.e(Ue)}finally{je.f()}se.setValue(J,{value:Ee})}),ce.addEventListener("resetform",function(Pe){var Le=ie.defaultFieldValue;Pe.target.checked=Le!=null&&Le===ie.buttonValue}),this.enableScripting&&this.hasJSActions){var Ae=ie.buttonValue;ce.addEventListener("updatefromsandbox",function(Pe){var Le={value:function(Ee){var je=Ae===Ee.detail.value,Oe=_(Q._getElementsByName(Ee.target.name)),Ie;try{for(Oe.s();!(Ie=Oe.n()).done;){var Ue=Ie.value,Be=je&&Ue.id===J;Ue.domElement&&(Ue.domElement.checked=Be),se.setValue(Ue.id,{value:Be})}}catch(Ye){Oe.e(Ye)}finally{Oe.f()}}};Q._dispatchEventFromSandbox(Le,Pe)}),this._setEventListeners(ce,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Pe){return Pe.target.checked})}return this._setBackgroundColor(ce),this.container.appendChild(ce),this.container}}]),Z}(ee),we=function(de){O(Z,de);var pe=p(Z);function Z(ne){return q(this,Z),pe.call(this,ne,{ignoreBorder:ne.data.hasAppearance})}return X(Z,[{key:"render",value:function(){var Q=w(T(Z.prototype),"render",this).call(this);return Q.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(Q.title=this.data.alternativeText),Q}}]),Z}(N),$=function(de){O(Z,de);var pe=p(Z);function Z(ne){return q(this,Z),pe.call(this,ne,{isRenderable:ne.renderForms})}return X(Z,[{key:"render",value:function(){var Q=this;this.container.className="choiceWidgetAnnotation";var se=this.annotationStorage,ie=this.data.id;se.getValue(ie,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var J=this.data.defaultAppearanceData.fontSize;J||(J=9);var ve="calc(".concat(J,"px * var(--zoom-factor))"),ce=document.createElement("select");P.add(ce),ce.disabled=this.data.readOnly,ce.name=this.data.fieldName,ce.setAttribute("id",ie),ce.tabIndex=K,ce.style.fontSize="".concat(J,"px"),this.data.combo||(ce.size=this.data.options.length,this.data.multiSelect&&(ce.multiple=!0)),ce.addEventListener("resetform",function(Oe){var Ie=Q.data.defaultFieldValue,Ue=_(ce.options),Be;try{for(Ue.s();!(Be=Ue.n()).done;){var Ye=Be.value;Ye.selected=Ye.value===Ie}}catch(Ve){Ue.e(Ve)}finally{Ue.f()}});var Ae=_(this.data.options),Pe;try{for(Ae.s();!(Pe=Ae.n()).done;){var Le=Pe.value,Ne=document.createElement("option");Ne.textContent=Le.displayValue,Ne.value=Le.exportValue,this.data.combo&&(Ne.style.fontSize=ve),this.data.fieldValue.includes(Le.exportValue)&&Ne.setAttribute("selected",!0),ce.appendChild(Ne)}}catch(Oe){Ae.e(Oe)}finally{Ae.f()}var Ee=function(Ie,Ue){var Be=Ue?"value":"textContent",Ye=Ie.target.options;return Ie.target.multiple?Array.prototype.filter.call(Ye,function(Ve){return Ve.selected}).map(function(Ve){return Ve[Be]}):Ye.selectedIndex===-1?null:Ye[Ye.selectedIndex][Be]},je=function(Ie){var Ue=Ie.target.options;return Array.prototype.map.call(Ue,function(Be){return{displayValue:Be.textContent,exportValue:Be.value}})};return this.enableScripting&&this.hasJSActions?(ce.addEventListener("updatefromsandbox",function(Oe){var Ie={value:function(Be){var Ye=Be.detail.value,Ve=new Set(Array.isArray(Ye)?Ye:[Ye]),Je=_(ce.options),nt;try{for(Je.s();!(nt=Je.n()).done;){var ot=nt.value;ot.selected=Ve.has(ot.value)}}catch(mt){Je.e(mt)}finally{Je.f()}se.setValue(ie,{value:Ee(Be,!0)})},multipleSelection:function(Be){ce.multiple=!0},remove:function(Be){var Ye=ce.options,Ve=Be.detail.remove;if(Ye[Ve].selected=!1,ce.remove(Ve),Ye.length>0){var Je=Array.prototype.findIndex.call(Ye,function(nt){return nt.selected});Je===-1&&(Ye[0].selected=!0)}se.setValue(ie,{value:Ee(Be,!0),items:je(Be)})},clear:function(Be){for(;ce.length!==0;)ce.remove(0);se.setValue(ie,{value:null,items:[]})},insert:function(Be){var Ye=Be.detail.insert,Ve=Ye.index,Je=Ye.displayValue,nt=Ye.exportValue,ot=document.createElement("option");ot.textContent=Je,ot.value=nt,ce.insertBefore(ot,ce.children[Ve]),se.setValue(ie,{value:Ee(Be,!0),items:je(Be)})},items:function(Be){for(var Ye=Be.detail.items;ce.length!==0;)ce.remove(0);var Ve=_(Ye),Je;try{for(Ve.s();!(Je=Ve.n()).done;){var nt=Je.value,ot=nt.displayValue,mt=nt.exportValue,pt=document.createElement("option");pt.textContent=ot,pt.value=mt,ce.appendChild(pt)}}catch(kt){Ve.e(kt)}finally{Ve.f()}ce.options.length>0&&(ce.options[0].selected=!0),se.setValue(ie,{value:Ee(Be,!0),items:je(Be)})},indices:function(Be){var Ye=new Set(Be.detail.indices),Ve=_(Be.target.options),Je;try{for(Ve.s();!(Je=Ve.n()).done;){var nt=Je.value;nt.selected=Ye.has(nt.index)}}catch(ot){Ve.e(ot)}finally{Ve.f()}se.setValue(ie,{value:Ee(Be,!0)})},editable:function(Be){Be.target.disabled=!Be.detail.editable}};Q._dispatchEventFromSandbox(Ie,Oe)}),ce.addEventListener("input",function(Oe){var Ie,Ue=Ee(Oe,!0),Be=Ee(Oe,!1);se.setValue(ie,{value:Ue}),(Ie=Q.linkService.eventBus)===null||Ie===void 0||Ie.dispatch("dispatcheventinsandbox",{source:Q,detail:{id:ie,name:"Keystroke",value:Be,changeEx:Ue,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(ce,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(Oe){return Oe.target.checked})):ce.addEventListener("input",function(Oe){se.setValue(ie,{value:Ee(Oe)})}),this._setBackgroundColor(ce),this.container.appendChild(ce),this.container}}]),Z}(ee),U=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se,ie;q(this,Z);var J=!!((Q=ne.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=ne.data.contentsObj)!==null&&se!==void 0&&se.str||(ie=ne.data.richText)!==null&&ie!==void 0&&ie.str);return pe.call(this,ne,{isRenderable:J})}return X(Z,[{key:"render",value:function(){var Q=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",Q.includes(this.data.parentType))return this.container;var se='[data-annotation-id="'.concat(this.data.parentId,'"]'),ie=this.layer.querySelectorAll(se);if(ie.length===0)return this.container;var J=new b({container:this.container,trigger:Array.from(ie),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ve=this.page,ce=a.Util.normalizeRect([this.data.parentRect[0],ve.view[3]-this.data.parentRect[1]+ve.view[1],this.data.parentRect[2],ve.view[3]-this.data.parentRect[3]+ve.view[1]]),Ae=ce[0]+this.data.parentRect[2]-this.data.parentRect[0],Pe=ce[1];return this.container.style.transformOrigin="".concat(-Ae,"px ").concat(-Pe,"px"),this.container.style.left="".concat(Ae,"px"),this.container.style.top="".concat(Pe,"px"),this.container.appendChild(J.render()),this.container}}]),Z}(F),b=function(){function de(pe){q(this,de),this.container=pe.container,this.trigger=pe.trigger,this.color=pe.color,this.titleObj=pe.titleObj,this.modificationDate=pe.modificationDate,this.contentsObj=pe.contentsObj,this.richText=pe.richText,this.hideWrapper=pe.hideWrapper||!1,this.pinned=!1}return X(de,[{key:"render",value:function(){var Z,ne,Q=.7,se=document.createElement("div");se.className="popupWrapper",this.hideElement=this.hideWrapper?se:this.container,this.hideElement.hidden=!0;var ie=document.createElement("div");ie.className="popup";var J=this.color;if(J){var ve=Q*(255-J[0])+J[0],ce=Q*(255-J[1])+J[1],Ae=Q*(255-J[2])+J[2];ie.style.backgroundColor=a.Util.makeHexColor(ve|0,ce|0,Ae|0)}var Pe=document.createElement("h1");Pe.dir=this.titleObj.dir,Pe.textContent=this.titleObj.str,ie.appendChild(Pe);var Le=i.PDFDateString.toDateObject(this.modificationDate);if(Le){var Ne=document.createElement("span");Ne.className="popupDate",Ne.textContent="{{date}}, {{time}}",Ne.dataset.l10nId="annotation_date_string",Ne.dataset.l10nArgs=JSON.stringify({date:Le.toLocaleDateString(),time:Le.toLocaleTimeString()}),ie.appendChild(Ne)}if((Z=this.richText)!==null&&Z!==void 0&&Z.str&&(!((ne=this.contentsObj)!==null&&ne!==void 0&&ne.str)||this.contentsObj.str===this.richText.str))l.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ie}),ie.lastChild.className="richText popupContent";else{var Ee=this._formatContents(this.contentsObj);ie.appendChild(Ee)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var je=_(this.trigger),Oe;try{for(je.s();!(Oe=je.n()).done;){var Ie=Oe.value;Ie.addEventListener("click",this._toggle.bind(this)),Ie.addEventListener("mouseover",this._show.bind(this,!1)),Ie.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(Ue){je.e(Ue)}finally{je.f()}return ie.addEventListener("click",this._hide.bind(this,!0)),se.appendChild(ie),se}},{key:"_formatContents",value:function(Z){var ne=Z.str,Q=Z.dir,se=document.createElement("p");se.className="popupContent",se.dir=Q;for(var ie=ne.split(/(?:\r\n?|\n)/),J=0,ve=ie.length;J<ve;++J){var ce=ie[J];se.appendChild(document.createTextNode(ce)),J<ve-1&&se.appendChild(document.createElement("br"))}return se}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Z&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Z&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),de}(),g=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se,ie;q(this,Z);var J=!!(ne.data.hasPopup||(Q=ne.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=ne.data.contentsObj)!==null&&se!==void 0&&se.str||(ie=ne.data.richText)!==null&&ie!==void 0&&ie.str);return pe.call(this,ne,{isRenderable:J,ignoreBorder:!0})}return X(Z,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),Z}(F),x=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se,ie;q(this,Z);var J=!!(ne.data.hasPopup||(Q=ne.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=ne.data.contentsObj)!==null&&se!==void 0&&se.str||(ie=ne.data.richText)!==null&&ie!==void 0&&ie.str);return pe.call(this,ne,{isRenderable:J,ignoreBorder:!0})}return X(Z,[{key:"render",value:function(){this.container.className="lineAnnotation";var Q=this.data,se=Q.rect[2]-Q.rect[0],ie=Q.rect[3]-Q.rect[1],J=this.svgFactory.create(se,ie),ve=this.svgFactory.createElement("svg:line");return ve.setAttribute("x1",Q.rect[2]-Q.lineCoordinates[0]),ve.setAttribute("y1",Q.rect[3]-Q.lineCoordinates[1]),ve.setAttribute("x2",Q.rect[2]-Q.lineCoordinates[2]),ve.setAttribute("y2",Q.rect[3]-Q.lineCoordinates[3]),ve.setAttribute("stroke-width",Q.borderStyle.width||1),ve.setAttribute("stroke","transparent"),ve.setAttribute("fill","transparent"),J.appendChild(ve),this.container.append(J),this._createPopup(ve,Q),this.container}}]),Z}(F),z=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se,ie;q(this,Z);var J=!!(ne.data.hasPopup||(Q=ne.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=ne.data.contentsObj)!==null&&se!==void 0&&se.str||(ie=ne.data.richText)!==null&&ie!==void 0&&ie.str);return pe.call(this,ne,{isRenderable:J,ignoreBorder:!0})}return X(Z,[{key:"render",value:function(){this.container.className="squareAnnotation";var Q=this.data,se=Q.rect[2]-Q.rect[0],ie=Q.rect[3]-Q.rect[1],J=this.svgFactory.create(se,ie),ve=Q.borderStyle.width,ce=this.svgFactory.createElement("svg:rect");return ce.setAttribute("x",ve/2),ce.setAttribute("y",ve/2),ce.setAttribute("width",se-ve),ce.setAttribute("height",ie-ve),ce.setAttribute("stroke-width",ve||1),ce.setAttribute("stroke","transparent"),ce.setAttribute("fill","transparent"),J.appendChild(ce),this.container.append(J),this._createPopup(ce,Q),this.container}}]),Z}(F),H=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se,ie;q(this,Z);var J=!!(ne.data.hasPopup||(Q=ne.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=ne.data.contentsObj)!==null&&se!==void 0&&se.str||(ie=ne.data.richText)!==null&&ie!==void 0&&ie.str);return pe.call(this,ne,{isRenderable:J,ignoreBorder:!0})}return X(Z,[{key:"render",value:function(){this.container.className="circleAnnotation";var Q=this.data,se=Q.rect[2]-Q.rect[0],ie=Q.rect[3]-Q.rect[1],J=this.svgFactory.create(se,ie),ve=Q.borderStyle.width,ce=this.svgFactory.createElement("svg:ellipse");return ce.setAttribute("cx",se/2),ce.setAttribute("cy",ie/2),ce.setAttribute("rx",se/2-ve/2),ce.setAttribute("ry",ie/2-ve/2),ce.setAttribute("stroke-width",ve||1),ce.setAttribute("stroke","transparent"),ce.setAttribute("fill","transparent"),J.appendChild(ce),this.container.append(J),this._createPopup(ce,Q),this.container}}]),Z}(F),re=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se,ie,J;q(this,Z);var ve=!!(ne.data.hasPopup||(Q=ne.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=ne.data.contentsObj)!==null&&se!==void 0&&se.str||(ie=ne.data.richText)!==null&&ie!==void 0&&ie.str);return J=pe.call(this,ne,{isRenderable:ve,ignoreBorder:!0}),J.containerClassName="polylineAnnotation",J.svgElementName="svg:polyline",J}return X(Z,[{key:"render",value:function(){this.container.className=this.containerClassName;var Q=this.data,se=Q.rect[2]-Q.rect[0],ie=Q.rect[3]-Q.rect[1],J=this.svgFactory.create(se,ie),ve=[],ce=_(Q.vertices),Ae;try{for(ce.s();!(Ae=ce.n()).done;){var Pe=Ae.value,Le=Pe.x-Q.rect[0],Ne=Q.rect[3]-Pe.y;ve.push(Le+","+Ne)}}catch(je){ce.e(je)}finally{ce.f()}ve=ve.join(" ");var Ee=this.svgFactory.createElement(this.svgElementName);return Ee.setAttribute("points",ve),Ee.setAttribute("stroke-width",Q.borderStyle.width||1),Ee.setAttribute("stroke","transparent"),Ee.setAttribute("fill","transparent"),J.appendChild(Ee),this.container.append(J),this._createPopup(Ee,Q),this.container}}]),Z}(F),fe=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q;return q(this,Z),Q=pe.call(this,ne),Q.containerClassName="polygonAnnotation",Q.svgElementName="svg:polygon",Q}return Z}(re),ge=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se,ie;q(this,Z);var J=!!(ne.data.hasPopup||(Q=ne.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=ne.data.contentsObj)!==null&&se!==void 0&&se.str||(ie=ne.data.richText)!==null&&ie!==void 0&&ie.str);return pe.call(this,ne,{isRenderable:J,ignoreBorder:!0})}return X(Z,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),Z}(F),ye=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se,ie,J;q(this,Z);var ve=!!(ne.data.hasPopup||(Q=ne.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=ne.data.contentsObj)!==null&&se!==void 0&&se.str||(ie=ne.data.richText)!==null&&ie!==void 0&&ie.str);return J=pe.call(this,ne,{isRenderable:ve,ignoreBorder:!0}),J.containerClassName="inkAnnotation",J.svgElementName="svg:polyline",J}return X(Z,[{key:"render",value:function(){this.container.className=this.containerClassName;var Q=this.data,se=Q.rect[2]-Q.rect[0],ie=Q.rect[3]-Q.rect[1],J=this.svgFactory.create(se,ie),ve=_(Q.inkLists),ce;try{for(ve.s();!(ce=ve.n()).done;){var Ae=ce.value,Pe=[],Le=_(Ae),Ne;try{for(Le.s();!(Ne=Le.n()).done;){var Ee=Ne.value,je=Ee.x-Q.rect[0],Oe=Q.rect[3]-Ee.y;Pe.push("".concat(je,",").concat(Oe))}}catch(Ue){Le.e(Ue)}finally{Le.f()}Pe=Pe.join(" ");var Ie=this.svgFactory.createElement(this.svgElementName);Ie.setAttribute("points",Pe),Ie.setAttribute("stroke-width",Q.borderStyle.width||1),Ie.setAttribute("stroke","transparent"),Ie.setAttribute("fill","transparent"),this._createPopup(Ie,Q),J.appendChild(Ie)}}catch(Ue){ve.e(Ue)}finally{ve.f()}return this.container.append(J),this.container}}]),Z}(F),me=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se,ie;q(this,Z);var J=!!(ne.data.hasPopup||(Q=ne.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=ne.data.contentsObj)!==null&&se!==void 0&&se.str||(ie=ne.data.richText)!==null&&ie!==void 0&&ie.str);return pe.call(this,ne,{isRenderable:J,ignoreBorder:!0,createQuadrilaterals:!0})}return X(Z,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),Z}(F),Te=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se,ie;q(this,Z);var J=!!(ne.data.hasPopup||(Q=ne.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=ne.data.contentsObj)!==null&&se!==void 0&&se.str||(ie=ne.data.richText)!==null&&ie!==void 0&&ie.str);return pe.call(this,ne,{isRenderable:J,ignoreBorder:!0,createQuadrilaterals:!0})}return X(Z,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),Z}(F),Re=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se,ie;q(this,Z);var J=!!(ne.data.hasPopup||(Q=ne.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=ne.data.contentsObj)!==null&&se!==void 0&&se.str||(ie=ne.data.richText)!==null&&ie!==void 0&&ie.str);return pe.call(this,ne,{isRenderable:J,ignoreBorder:!0,createQuadrilaterals:!0})}return X(Z,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),Z}(F),xe=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se,ie;q(this,Z);var J=!!(ne.data.hasPopup||(Q=ne.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=ne.data.contentsObj)!==null&&se!==void 0&&se.str||(ie=ne.data.richText)!==null&&ie!==void 0&&ie.str);return pe.call(this,ne,{isRenderable:J,ignoreBorder:!0,createQuadrilaterals:!0})}return X(Z,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),Z}(F),Fe=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se,ie;q(this,Z);var J=!!(ne.data.hasPopup||(Q=ne.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=ne.data.contentsObj)!==null&&se!==void 0&&se.str||(ie=ne.data.richText)!==null&&ie!==void 0&&ie.str);return pe.call(this,ne,{isRenderable:J,ignoreBorder:!0})}return X(Z,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),Z}(F),Me=function(de){O(Z,de);var pe=p(Z);function Z(ne){var Q,se;q(this,Z),se=pe.call(this,ne,{isRenderable:!0});var ie=se.data.file,J=ie.filename,ve=ie.content;return se.filename=(0,i.getFilenameFromUrl)(J),se.content=ve,(Q=se.linkService.eventBus)===null||Q===void 0||Q.dispatch("fileattachmentannotation",{source:y(se),id:(0,a.stringToPDFString)(J),filename:J,content:ve}),se}return X(Z,[{key:"render",value:function(){var Q,se;this.container.className="fileAttachmentAnnotation";var ie=document.createElement("div");return ie.style.height=this.container.style.height,ie.style.width=this.container.style.width,ie.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((Q=this.data.titleObj)!==null&&Q!==void 0&&Q.str||(se=this.data.contentsObj)!==null&&se!==void 0&&se.str||this.data.richText)&&this._createPopup(ie,this.data),this.container.appendChild(ie),this.container}},{key:"_download",value:function(){var Q;(Q=this.downloadManager)===null||Q===void 0||Q.openOrDownloadData(this.container,this.content,this.filename)}}]),Z}(F),We=function(){function de(){q(this,de)}return X(de,null,[{key:"render",value:function(Z){var ne=[],Q=[],se=_(Z.annotations),ie;try{for(se.s();!(ie=se.n()).done;){var J=ie.value;if(!!J){if(J.annotationType===a.AnnotationType.POPUP){Q.push(J);continue}ne.push(J)}}}catch(Ie){se.e(Ie)}finally{se.f()}Q.length&&ne.push.apply(ne,Q);for(var ve=Z.div,ce=0,Ae=ne;ce<Ae.length;ce++){var Pe=Ae[ce],Le=S.create({data:Pe,layer:ve,page:Z.page,viewport:Z.viewport,linkService:Z.linkService,downloadManager:Z.downloadManager,imageResourcesPath:Z.imageResourcesPath||"",renderForms:Z.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:Z.annotationStorage||new o.AnnotationStorage,enableScripting:Z.enableScripting,hasJSActions:Z.hasJSActions,fieldObjects:Z.fieldObjects,mouseState:Z.mouseState||{isDown:!1}});if(Le.isRenderable){var Ne=Le.render();if(Pe.hidden&&(Ne.style.visibility="hidden"),Array.isArray(Ne)){var Ee=_(Ne),je;try{for(Ee.s();!(je=Ee.n()).done;){var Oe=je.value;ve.appendChild(Oe)}}catch(Ie){Ee.e(Ie)}finally{Ee.f()}}else Le instanceof U?ve.prepend(Ne):ve.appendChild(Ne)}}f(this,de,$e).call(this,ve,Z.annotationCanvasMap)}},{key:"update",value:function(Z){var ne=Z.page,Q=Z.viewport,se=Z.annotations,ie=Z.annotationCanvasMap,J=Z.div,ve=Q.transform,ce="matrix(".concat(ve.join(","),")"),Ae,Pe,Le=_(se),Ne;try{for(Le.s();!(Ne=Le.n()).done;){var Ee=Ne.value,je=J.querySelectorAll('[data-annotation-id="'.concat(Ee.id,'"]'));if(je){var Oe=_(je),Ie;try{for(Oe.s();!(Ie=Oe.n()).done;){var Ue=Ie.value;if(Ee.hasOwnCanvas){var Be=a.Util.normalizeRect([Ee.rect[0],ne.view[3]-Ee.rect[1]+ne.view[1],Ee.rect[2],ne.view[3]-Ee.rect[3]+ne.view[1]]);if(!Pe){Ae=Math.abs(ve[0]||ve[1]);for(var Ye=ve.slice(),Ve=0;Ve<4;Ve++)Ye[Ve]=Math.sign(Ye[Ve]);Pe="matrix(".concat(Ye.join(","),")")}var Je=Be[0]*Ae,nt=Be[1]*Ae;Ue.style.left="".concat(Je,"px"),Ue.style.top="".concat(nt,"px"),Ue.style.transformOrigin="".concat(-Je,"px ").concat(-nt,"px"),Ue.style.transform=Pe}else Ue.style.transform=ce}}catch(ot){Oe.e(ot)}finally{Oe.f()}}}}catch(ot){Le.e(ot)}finally{Le.f()}f(this,de,$e).call(this,J,ie),J.hidden=!1}}]),de}();r.AnnotationLayer=We;function $e(de,pe){if(!!pe){var Z=_(pe),ne;try{for(Z.s();!(ne=Z.n()).done;){var Q=k(ne.value,2),se=Q[0],ie=Q[1],J=de.querySelector('[data-annotation-id="'.concat(se,'"]'));if(!!J){var ve=J.firstChild;ve.nodeName==="CANVAS"?J.replaceChild(ie,ve):J.insertBefore(ie,ve)}}}catch(ce){Z.e(ce)}finally{Z.f()}pe.clear()}}},(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ColorConverters=void 0;function t(m,E){return s(m)||o(m,E)||a(m,E)||n()}function n(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(m,E){if(!!m){if(typeof m=="string")return i(m,E);var I=Object.prototype.toString.call(m).slice(8,-1);if(I==="Object"&&m.constructor&&(I=m.constructor.name),I==="Map"||I==="Set")return Array.from(m);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return i(m,E)}}function i(m,E){(E==null||E>m.length)&&(E=m.length);for(var I=0,C=new Array(E);I<E;I++)C[I]=m[I];return C}function o(m,E){var I=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(I!=null){var C=[],M=!0,O=!1,D,p;try{for(I=I.call(m);!(M=(D=I.next()).done)&&(C.push(D.value),!(E&&C.length===E));M=!0);}catch(h){O=!0,p=h}finally{try{!M&&I.return!=null&&I.return()}finally{if(O)throw p}}return C}}function s(m){if(Array.isArray(m))return m}function l(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")}function f(m,E){for(var I=0;I<E.length;I++){var C=E[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(m,C.key,C)}}function c(m,E,I){return E&&f(m.prototype,E),I&&f(m,I),m}function w(m){return Math.floor(Math.max(0,Math.min(1,m))*255).toString(16).padStart(2,"0")}var R=function(){function m(){l(this,m)}return c(m,null,[{key:"CMYK_G",value:function(I){var C=t(I,4),M=C[0],O=C[1],D=C[2],p=C[3];return["G",1-Math.min(1,.3*M+.59*D+.11*O+p)]}},{key:"G_CMYK",value:function(I){var C=t(I,1),M=C[0];return["CMYK",0,0,0,1-M]}},{key:"G_RGB",value:function(I){var C=t(I,1),M=C[0];return["RGB",M,M,M]}},{key:"G_HTML",value:function(I){var C=t(I,1),M=C[0],O=w(M);return"#".concat(O).concat(O).concat(O)}},{key:"RGB_G",value:function(I){var C=t(I,3),M=C[0],O=C[1],D=C[2];return["G",.3*M+.59*O+.11*D]}},{key:"RGB_HTML",value:function(I){var C=t(I,3),M=C[0],O=C[1],D=C[2],p=w(M),h=w(O),y=w(D);return"#".concat(p).concat(h).concat(y)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(I){var C=t(I,4),M=C[0],O=C[1],D=C[2],p=C[3];return["RGB",1-Math.min(1,M+p),1-Math.min(1,D+p),1-Math.min(1,O+p)]}},{key:"CMYK_HTML",value:function(I){return this.RGB_HTML(this.CMYK_RGB(I))}},{key:"RGB_CMYK",value:function(I){var C=t(I,3),M=C[0],O=C[1],D=C[2],p=1-M,h=1-O,y=1-D,A=Math.min(p,h,y);return["CMYK",p,h,y,A]}}]),m}();r.ColorConverters=R},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.XfaLayer=void 0;var n=t(4),a=t(147);function i(C,M){return l(C)||s(C,M)||c(C,M)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(C,M){var O=C==null?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(O!=null){var D=[],p=!0,h=!1,y,A;try{for(O=O.call(C);!(p=(y=O.next()).done)&&(D.push(y.value),!(M&&D.length===M));p=!0);}catch(T){h=!0,A=T}finally{try{!p&&O.return!=null&&O.return()}finally{if(h)throw A}}return D}}function l(C){if(Array.isArray(C))return C}function f(C,M){var O=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!O){if(Array.isArray(C)||(O=c(C))||M&&C&&typeof C.length=="number"){O&&(C=O);var D=0,p=function(){};return{s:p,n:function(){return D>=C.length?{done:!0}:{done:!1,value:C[D++]}},e:function(_){throw _},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,A;return{s:function(){O=O.call(C)},n:function(){var _=O.next();return h=_.done,_},e:function(_){y=!0,A=_},f:function(){try{!h&&O.return!=null&&O.return()}finally{if(y)throw A}}}}function c(C,M){if(!!C){if(typeof C=="string")return w(C,M);var O=Object.prototype.toString.call(C).slice(8,-1);if(O==="Object"&&C.constructor&&(O=C.constructor.name),O==="Map"||O==="Set")return Array.from(C);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return w(C,M)}}function w(C,M){(M==null||M>C.length)&&(M=C.length);for(var O=0,D=new Array(M);O<M;O++)D[O]=C[O];return D}function R(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}function m(C,M){for(var O=0;O<M.length;O++){var D=M[O];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}function E(C,M,O){return M&&m(C.prototype,M),O&&m(C,O),C}var I=function(){function C(){R(this,C)}return E(C,null,[{key:"setupStorage",value:function(O,D,p,h,y){var A=h.getValue(D,{value:null});switch(p.name){case"textarea":if(A.value!==null&&(O.textContent=A.value),y==="print")break;O.addEventListener("input",function(L){h.setValue(D,{value:L.target.value})});break;case"input":if(p.attributes.type==="radio"||p.attributes.type==="checkbox"){if(A.value===p.attributes.xfaOn?O.setAttribute("checked",!0):A.value===p.attributes.xfaOff&&O.removeAttribute("checked"),y==="print")break;O.addEventListener("change",function(L){h.setValue(D,{value:L.target.checked?L.target.getAttribute("xfaOn"):L.target.getAttribute("xfaOff")})})}else{if(A.value!==null&&O.setAttribute("value",A.value),y==="print")break;O.addEventListener("input",function(L){h.setValue(D,{value:L.target.value})})}break;case"select":if(A.value!==null){var T=f(p.children),_;try{for(T.s();!(_=T.n()).done;){var k=_.value;k.attributes.value===A.value&&(k.attributes.selected=!0)}}catch(L){T.e(L)}finally{T.f()}}O.addEventListener("input",function(L){var j=L.target.options,W=j.selectedIndex===-1?"":j[j.selectedIndex].value;h.setValue(D,{value:W})});break}}},{key:"setAttributes",value:function(O){var D=O.html,p=O.element,h=O.storage,y=h===void 0?null:h,A=O.intent,T=O.linkService,_=p.attributes,k=D instanceof HTMLAnchorElement;_.type==="radio"&&(_.name="".concat(_.name,"-").concat(A));for(var L=0,j=Object.entries(_);L<j.length;L++){var W=i(j[L],2),V=W[0],te=W[1];if(!(te==null||V==="dataId"))if(V!=="style")if(V==="textContent")D.textContent=te;else if(V==="class")te.length&&D.setAttribute(V,te.join(" "));else{if(k&&(V==="href"||V==="newWindow"))continue;D.setAttribute(V,te)}else Object.assign(D.style,te)}if(k){var q;T.addLinkAttributes||(0,n.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),(q=T.addLinkAttributes)===null||q===void 0||q.call(T,D,_.href,_.newWindow)}y&&_.dataId&&this.setupStorage(D,_.dataId,p,y)}},{key:"render",value:function(O){var D=O.annotationStorage,p=O.linkService,h=O.xfaHtml,y=O.intent||"display",A=document.createElement(h.name);h.attributes&&this.setAttributes({html:A,element:h,intent:y,linkService:p});var T=[[h,-1,A]],_=O.div;if(_.appendChild(A),O.viewport){var k="matrix(".concat(O.viewport.transform.join(","),")");_.style.transform=k}y!=="richText"&&_.setAttribute("class","xfaLayer xfaFont");for(var L=[];T.length>0;){var j,W=i(T[T.length-1],3),V=W[0],te=W[1],q=W[2];if(te+1===V.children.length){T.pop();continue}var ae=V.children[++T[T.length-1][1]];if(ae!==null){var X=ae.name;if(X==="#text"){var K=document.createTextNode(ae.value);L.push(K),q.appendChild(K);continue}var P=void 0;if(ae!=null&&(j=ae.attributes)!==null&&j!==void 0&&j.xmlns?P=document.createElementNS(ae.attributes.xmlns,X):P=document.createElement(X),q.appendChild(P),ae.attributes&&this.setAttributes({html:P,element:ae,storage:D,intent:y,linkService:p}),ae.children&&ae.children.length>0)T.push([ae,-1,P]);else if(ae.value){var S=document.createTextNode(ae.value);a.XfaText.shouldBuildText(X)&&L.push(S),P.appendChild(S)}}}var F=f(_.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea")),N;try{for(F.s();!(N=F.n()).done;){var G=N.value;G.setAttribute("readOnly",!0)}}catch(ee){F.e(ee)}finally{F.f()}return{textDivs:L}}},{key:"update",value:function(O){var D="matrix(".concat(O.viewport.transform.join(","),")");O.div.style.transform=D,O.div.hidden=!1}}]),C}();r.XfaLayer=I},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.renderTextLayer=A;var n=t(4);function a(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function i(T,_){for(var k=0;k<_.length;k++){var L=_[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(T,L.key,L)}}function o(T,_,k){return _&&i(T.prototype,_),k&&i(T,k),T}function s(T,_){var k=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!k){if(Array.isArray(T)||(k=l(T))||_&&T&&typeof T.length=="number"){k&&(T=k);var L=0,j=function(){};return{s:j,n:function(){return L>=T.length?{done:!0}:{done:!1,value:T[L++]}},e:function(ae){throw ae},f:j}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W=!0,V=!1,te;return{s:function(){k=k.call(T)},n:function(){var ae=k.next();return W=ae.done,ae},e:function(ae){V=!0,te=ae},f:function(){try{!W&&k.return!=null&&k.return()}finally{if(V)throw te}}}}function l(T,_){if(!!T){if(typeof T=="string")return f(T,_);var k=Object.prototype.toString.call(T).slice(8,-1);if(k==="Object"&&T.constructor&&(k=T.constructor.name),k==="Map"||k==="Set")return Array.from(T);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return f(T,_)}}function f(T,_){(_==null||_>T.length)&&(_=T.length);for(var k=0,L=new Array(_);k<_;k++)L[k]=T[k];return L}var c=1e5,w=30,R=.8,m=new Map,E=/^\s+$/g;function I(T,_){var k=m.get(T);if(k)return k;_.save(),_.font="".concat(w,"px ").concat(T);var L=_.measureText(""),j=L.fontBoundingBoxAscent,W=Math.abs(L.fontBoundingBoxDescent);if(j){_.restore();var V=j/(j+W);return m.set(T,V),V}_.strokeStyle="red",_.clearRect(0,0,w,w),_.strokeText("g",0,0);var te=_.getImageData(0,0,w,w).data;W=0;for(var q=te.length-1-3;q>=0;q-=4)if(te[q]>0){W=Math.ceil(q/4/w);break}_.clearRect(0,0,w,w),_.strokeText("A",0,w),te=_.getImageData(0,0,w,w).data,j=0;for(var ae=0,X=te.length;ae<X;ae+=4)if(te[ae]>0){j=w-Math.floor(ae/4/w);break}if(_.restore(),j){var K=j/(j+W);return m.set(T,K),K}return m.set(T,R),R}function C(T,_,k,L){var j=document.createElement("span"),W=T._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:_.str!=="",hasEOL:_.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:_.str!=="",hasEOL:_.hasEOL};T._textDivs.push(j);var V=n.Util.transform(T._viewport.transform,_.transform),te=Math.atan2(V[1],V[0]),q=k[_.fontName];q.vertical&&(te+=Math.PI/2);var ae=Math.hypot(V[2],V[3]),X=ae*I(q.fontFamily,L),K,P;te===0?(K=V[4],P=V[5]-X):(K=V[4]+X*Math.sin(te),P=V[5]-X*Math.cos(te)),j.style.left="".concat(K,"px"),j.style.top="".concat(P,"px"),j.style.fontSize="".concat(ae,"px"),j.style.fontFamily=q.fontFamily,j.setAttribute("role","presentation"),j.textContent=_.str,j.dir=_.dir,T._fontInspectorEnabled&&(j.dataset.fontName=_.fontName),te!==0&&(W.angle=te*(180/Math.PI));var S=!1;if(_.str.length>1||T._enhanceTextSelection&&E.test(_.str))S=!0;else if(_.str!==" "&&_.transform[0]!==_.transform[3]){var F=Math.abs(_.transform[0]),N=Math.abs(_.transform[3]);F!==N&&Math.max(F,N)/Math.min(F,N)>1.5&&(S=!0)}if(S&&(q.vertical?W.canvasWidth=_.height*T._viewport.scale:W.canvasWidth=_.width*T._viewport.scale),T._textDivProperties.set(j,W),T._textContentStream&&T._layoutText(j),T._enhanceTextSelection&&W.hasText){var G=1,ee=0;te!==0&&(G=Math.cos(te),ee=Math.sin(te));var Y=(q.vertical?_.height:_.width)*T._viewport.scale,he=ae,Se,we;te!==0?(Se=[G,ee,-ee,G,K,P],we=n.Util.getAxialAlignedBoundingBox([0,0,Y,he],Se)):we=[K,P,K+Y,P+he],T._bounds.push({left:we[0],top:we[1],right:we[2],bottom:we[3],div:j,size:[Y,he],m:Se})}}function M(T){if(!T._canceled){var _=T._textDivs,k=T._capability,L=_.length;if(L>c){T._renderingDone=!0,k.resolve();return}if(!T._textContentStream)for(var j=0;j<L;j++)T._layoutText(_[j]);T._renderingDone=!0,k.resolve()}}function O(T,_,k){for(var L=0,j=0;j<k;j++){var W=T[_++];W>0&&(L=L?Math.min(W,L):W)}return L}function D(T){for(var _=T._bounds,k=T._viewport,L=p(k.width,k.height,_),j=0;j<L.length;j++){var W=_[j].div,V=T._textDivProperties.get(W);if(V.angle===0){V.paddingLeft=_[j].left-L[j].left,V.paddingTop=_[j].top-L[j].top,V.paddingRight=L[j].right-_[j].right,V.paddingBottom=L[j].bottom-_[j].bottom,T._textDivProperties.set(W,V);continue}for(var te=L[j],q=_[j],ae=q.m,X=ae[0],K=ae[1],P=[[0,0],[0,q.size[1]],[q.size[0],0],q.size],S=new Float64Array(64),F=0,N=P.length;F<N;F++){var G=n.Util.applyTransform(P[F],ae);S[F+0]=X&&(te.left-G[0])/X,S[F+4]=K&&(te.top-G[1])/K,S[F+8]=X&&(te.right-G[0])/X,S[F+12]=K&&(te.bottom-G[1])/K,S[F+16]=K&&(te.left-G[0])/-K,S[F+20]=X&&(te.top-G[1])/X,S[F+24]=K&&(te.right-G[0])/-K,S[F+28]=X&&(te.bottom-G[1])/X,S[F+32]=X&&(te.left-G[0])/-X,S[F+36]=K&&(te.top-G[1])/-K,S[F+40]=X&&(te.right-G[0])/-X,S[F+44]=K&&(te.bottom-G[1])/-K,S[F+48]=K&&(te.left-G[0])/K,S[F+52]=X&&(te.top-G[1])/-X,S[F+56]=K&&(te.right-G[0])/K,S[F+60]=X&&(te.bottom-G[1])/-X}var ee=1+Math.min(Math.abs(X),Math.abs(K));V.paddingLeft=O(S,32,16)/ee,V.paddingTop=O(S,48,16)/ee,V.paddingRight=O(S,0,16)/ee,V.paddingBottom=O(S,16,16)/ee,T._textDivProperties.set(W,V)}}function p(T,_,k){var L=k.map(function(S,F){return{x1:S.left,y1:S.top,x2:S.right,y2:S.bottom,index:F,x1New:void 0,x2New:void 0}});h(T,L);var j=new Array(k.length),W=s(L),V;try{for(W.s();!(V=W.n()).done;){var te=V.value,q=te.index;j[q]={left:te.x1New,top:0,right:te.x2New,bottom:0}}}catch(S){W.e(S)}finally{W.f()}k.map(function(S,F){var N=j[F],G=L[F];G.x1=S.top,G.y1=T-N.right,G.x2=S.bottom,G.y2=T-N.left,G.index=F,G.x1New=void 0,G.x2New=void 0}),h(_,L);var ae=s(L),X;try{for(ae.s();!(X=ae.n()).done;){var K=X.value,P=K.index;j[P].top=K.x1New,j[P].bottom=K.x2New}}catch(S){ae.e(S)}finally{ae.f()}return j}function h(T,_){_.sort(function(U,b){return U.x1-b.x1||U.index-b.index});var k={x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0},L=[{start:-1/0,end:1/0,boundary:k}],j=s(_),W;try{for(j.s();!(W=j.n()).done;){for(var V=W.value,te=0;te<L.length&&L[te].end<=V.y1;)te++;for(var q=L.length-1;q>=0&&L[q].start>=V.y2;)q--;var ae=void 0,X=void 0,K=void 0,P=void 0,S=-1/0;for(K=te;K<=q;K++){ae=L[K],X=ae.boundary;var F=void 0;X.x2>V.x1?F=X.index>V.index?X.x1New:V.x1:X.x2New===void 0?F=(X.x2+V.x1)/2:F=X.x2New,F>S&&(S=F)}for(V.x1New=S,K=te;K<=q;K++)ae=L[K],X=ae.boundary,X.x2New===void 0?X.x2>V.x1?X.index>V.index&&(X.x2New=X.x2):X.x2New=S:X.x2New>S&&(X.x2New=Math.max(S,X.x2));var N=[],G=null;for(K=te;K<=q;K++){ae=L[K],X=ae.boundary;var ee=X.x2>V.x2?X:V;G===ee?N[N.length-1].end=ae.end:(N.push({start:ae.start,end:ae.end,boundary:ee}),G=ee)}for(L[te].start<V.y1&&(N[0].start=V.y1,N.unshift({start:L[te].start,end:V.y1,boundary:L[te].boundary})),V.y2<L[q].end&&(N[N.length-1].end=V.y2,N.push({start:V.y2,end:L[q].end,boundary:L[q].boundary})),K=te;K<=q;K++)if(ae=L[K],X=ae.boundary,X.x2New===void 0){var Y=!1;for(P=te-1;!Y&&P>=0&&L[P].start>=X.y1;P--)Y=L[P].boundary===X;for(P=q+1;!Y&&P<L.length&&L[P].end<=X.y2;P++)Y=L[P].boundary===X;for(P=0;!Y&&P<N.length;P++)Y=N[P].boundary===X;Y||(X.x2New=S)}Array.prototype.splice.apply(L,[te,q-te+1].concat(N))}}catch(U){j.e(U)}finally{j.f()}for(var he=0,Se=L;he<Se.length;he++){var we=Se[he],$=we.boundary;$.x2New===void 0&&($.x2New=Math.max(T,$.x2))}}var y=function(){function T(_){var k,L=this,j=_.textContent,W=_.textContentStream,V=_.container,te=_.viewport,q=_.textDivs,ae=_.textContentItemsStr,X=_.enhanceTextSelection;a(this,T),this._textContent=j,this._textContentStream=W,this._container=V,this._document=V.ownerDocument,this._viewport=te,this._textDivs=q||[],this._textContentItemsStr=ae||[],this._enhanceTextSelection=!!X,this._fontInspectorEnabled=!!((k=globalThis.FontInspector)!==null&&k!==void 0&&k.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){L._enhanceTextSelection||(L._textDivProperties=null),L._layoutTextCtx&&(L._layoutTextCtx.canvas.width=0,L._layoutTextCtx.canvas.height=0,L._layoutTextCtx=null)}).catch(function(){})}return o(T,[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(function(){}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(k,L){for(var j=0,W=k.length;j<W;j++){if(k[j].str===void 0){if(k[j].type==="beginMarkedContentProps"||k[j].type==="beginMarkedContent"){var V=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),k[j].id!==null&&this._container.setAttribute("id","".concat(k[j].id)),V.appendChild(this._container)}else k[j].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(k[j].str),C(this,k[j],L,this._layoutTextCtx)}}},{key:"_layoutText",value:function(k){var L=this._textDivProperties.get(k),j="";if(L.canvasWidth!==0&&L.hasText){var W=k.style,V=W.fontSize,te=W.fontFamily;(V!==this._layoutTextLastFontSize||te!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(V," ").concat(te),this._layoutTextLastFontSize=V,this._layoutTextLastFontFamily=te);var q=this._layoutTextCtx.measureText(k.textContent),ae=q.width;if(ae>0){var X=L.canvasWidth/ae;this._enhanceTextSelection&&(L.scale=X),j="scaleX(".concat(X,")")}}if(L.angle!==0&&(j="rotate(".concat(L.angle,"deg) ").concat(j)),j.length>0&&(this._enhanceTextSelection&&(L.originalTransform=j),k.style.transform=j),L.hasText&&this._container.appendChild(k),L.hasEOL){var K=document.createElement("br");K.setAttribute("role","presentation"),this._container.appendChild(K)}}},{key:"_render",value:function(){var k=this,L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=(0,n.createPromiseCapability)(),W=Object.create(null),V=this._document.createElement("canvas");if(V.height=V.width=w,V.mozOpaque=!0,this._layoutTextCtx=V.getContext("2d",{alpha:!1}),this._textContent){var te=this._textContent.items,q=this._textContent.styles;this._processItems(te,q),j.resolve()}else if(this._textContentStream){var ae=function X(){k._reader.read().then(function(K){var P=K.value,S=K.done;if(S){j.resolve();return}Object.assign(W,P.styles),k._processItems(P.items,W),X()},j.reject)};this._reader=this._textContentStream.getReader(),ae()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');j.promise.then(function(){W=null,L?k._renderTimer=setTimeout(function(){M(k),k._renderTimer=null},L):M(k)},this._capability.reject)}},{key:"expandTextDivs",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!this._enhanceTextSelection||!this._renderingDone)){this._bounds!==null&&(D(this),this._bounds=null);for(var L=[],j=[],W=0,V=this._textDivs.length;W<V;W++){var te=this._textDivs[W],q=this._textDivProperties.get(te);!q.hasText||(k?(L.length=0,j.length=0,q.originalTransform&&L.push(q.originalTransform),q.paddingTop>0?(j.push("".concat(q.paddingTop,"px")),L.push("translateY(".concat(-q.paddingTop,"px)"))):j.push(0),q.paddingRight>0?j.push("".concat(q.paddingRight/q.scale,"px")):j.push(0),q.paddingBottom>0?j.push("".concat(q.paddingBottom,"px")):j.push(0),q.paddingLeft>0?(j.push("".concat(q.paddingLeft/q.scale,"px")),L.push("translateX(".concat(-q.paddingLeft/q.scale,"px)"))):j.push(0),te.style.padding=j.join(" "),L.length&&(te.style.transform=L.join(" "))):(te.style.padding=null,te.style.transform=q.originalTransform))}}}}]),T}();function A(T){var _=new y({textContent:T.textContent,textContentStream:T.textContentStream,container:T.container,viewport:T.viewport,textDivs:T.textDivs,textContentItemsStr:T.textContentItemsStr,enhanceTextSelection:T.enhanceTextSelection});return _._render(T.timeout),_}},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SVGGraphics=void 0;var n=t(4),a=t(1),i=t(6);function o(X){return f(X)||l(X)||I(X)||s()}function s(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(X){if(typeof Symbol<"u"&&X[Symbol.iterator]!=null||X["@@iterator"]!=null)return Array.from(X)}function f(X){if(Array.isArray(X))return C(X)}function c(X,K){return m(X)||R(X,K)||I(X,K)||w()}function w(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(X,K){var P=X==null?null:typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(P!=null){var S=[],F=!0,N=!1,G,ee;try{for(P=P.call(X);!(F=(G=P.next()).done)&&(S.push(G.value),!(K&&S.length===K));F=!0);}catch(Y){N=!0,ee=Y}finally{try{!F&&P.return!=null&&P.return()}finally{if(N)throw ee}}return S}}function m(X){if(Array.isArray(X))return X}function E(X,K){var P=typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(!P){if(Array.isArray(X)||(P=I(X))||K&&X&&typeof X.length=="number"){P&&(X=P);var S=0,F=function(){};return{s:F,n:function(){return S>=X.length?{done:!0}:{done:!1,value:X[S++]}},e:function(he){throw he},f:F}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N=!0,G=!1,ee;return{s:function(){P=P.call(X)},n:function(){var he=P.next();return N=he.done,he},e:function(he){G=!0,ee=he},f:function(){try{!N&&P.return!=null&&P.return()}finally{if(G)throw ee}}}}function I(X,K){if(!!X){if(typeof X=="string")return C(X,K);var P=Object.prototype.toString.call(X).slice(8,-1);if(P==="Object"&&X.constructor&&(P=X.constructor.name),P==="Map"||P==="Set")return Array.from(X);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return C(X,K)}}function C(X,K){(K==null||K>X.length)&&(K=X.length);for(var P=0,S=new Array(K);P<K;P++)S[P]=X[P];return S}function M(X,K){for(var P=0;P<K.length;P++){var S=K[P];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(X,S.key,S)}}function O(X,K,P){return K&&M(X.prototype,K),P&&M(X,P),X}function D(X,K){if(!(X instanceof K))throw new TypeError("Cannot call a class as a function")}var p=function X(){D(this,X),(0,n.unreachable)("Not implemented: SVGGraphics")};r.SVGGraphics=p;{var h=function(K){var P=[],S=[],F=E(K),N;try{for(F.s();!(N=F.n()).done;){var G=N.value;if(G.fn==="save"){P.push({fnId:92,fn:"group",items:[]}),S.push(P),P=P[P.length-1].items;continue}G.fn==="restore"?P=S.pop():P.push(G)}}catch(ee){F.e(ee)}finally{F.f()}return P},y=function(K){if(Number.isInteger(K))return K.toString();var P=K.toFixed(10),S=P.length-1;if(P[S]!=="0")return P;do S--;while(P[S]==="0");return P.substring(0,P[S]==="."?S:S+1)},A=function(K){if(K[4]===0&&K[5]===0){if(K[1]===0&&K[2]===0)return K[0]===1&&K[3]===1?"":"scale(".concat(y(K[0])," ").concat(y(K[3]),")");if(K[0]===K[3]&&K[1]===-K[2]){var P=Math.acos(K[0])*180/Math.PI;return"rotate(".concat(y(P),")")}}else if(K[0]===1&&K[1]===0&&K[2]===0&&K[3]===1)return"translate(".concat(y(K[4])," ").concat(y(K[5]),")");return"matrix(".concat(y(K[0])," ").concat(y(K[1])," ").concat(y(K[2])," ").concat(y(K[3])," ").concat(y(K[4])," ")+"".concat(y(K[5]),")")},T={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},_="http://www.w3.org/XML/1998/namespace",k="http://www.w3.org/1999/xlink",L=["butt","round","square"],j=["miter","round","bevel"],W=function(){for(var X=new Uint8Array([137,80,78,71,13,10,26,10]),K=12,P=new Int32Array(256),S=0;S<256;S++){for(var F=S,N=0;N<8;N++)F&1?F=3988292384^F>>1&2147483647:F=F>>1&2147483647;P[S]=F}function G($,U,b){for(var g=-1,x=U;x<b;x++){var z=(g^$[x])&255,H=P[z];g=g>>>8^H}return g^-1}function ee($,U,b,g){var x=g,z=U.length;b[x]=z>>24&255,b[x+1]=z>>16&255,b[x+2]=z>>8&255,b[x+3]=z&255,x+=4,b[x]=$.charCodeAt(0)&255,b[x+1]=$.charCodeAt(1)&255,b[x+2]=$.charCodeAt(2)&255,b[x+3]=$.charCodeAt(3)&255,x+=4,b.set(U,x),x+=U.length;var H=G(b,g+4,x);b[x]=H>>24&255,b[x+1]=H>>16&255,b[x+2]=H>>8&255,b[x+3]=H&255}function Y($,U,b){for(var g=1,x=0,z=U;z<b;++z)g=(g+($[z]&255))%65521,x=(x+g)%65521;return x<<16|g}function he($){if(!i.isNodeJS)return Se($);try{var U;parseInt(browser$1.versions.node)>=8?U=$:U=Buffer.from($);var b=require$$2.deflateSync(U,{level:9});return b instanceof Uint8Array?b:new Uint8Array(b)}catch(g){(0,n.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+g)}return Se($)}function Se($){var U=$.length,b=65535,g=Math.ceil(U/b),x=new Uint8Array(2+U+g*5+4),z=0;x[z++]=120,x[z++]=156;for(var H=0;U>b;)x[z++]=0,x[z++]=255,x[z++]=255,x[z++]=0,x[z++]=0,x.set($.subarray(H,H+b),z),z+=b,H+=b,U-=b;x[z++]=1,x[z++]=U&255,x[z++]=U>>8&255,x[z++]=~U&65535&255,x[z++]=(~U&65535)>>8&255,x.set($.subarray(H),z),z+=$.length-H;var re=Y($,0,$.length);return x[z++]=re>>24&255,x[z++]=re>>16&255,x[z++]=re>>8&255,x[z++]=re&255,x}function we($,U,b,g){var x=$.width,z=$.height,H,re,fe,ge=$.data;switch(U){case n.ImageKind.GRAYSCALE_1BPP:re=0,H=1,fe=x+7>>3;break;case n.ImageKind.RGB_24BPP:re=2,H=8,fe=x*3;break;case n.ImageKind.RGBA_32BPP:re=6,H=8,fe=x*4;break;default:throw new Error("invalid format")}for(var ye=new Uint8Array((1+fe)*z),me=0,Te=0,Re=0;Re<z;++Re)ye[me++]=0,ye.set(ge.subarray(Te,Te+fe),me),Te+=fe,me+=fe;if(U===n.ImageKind.GRAYSCALE_1BPP&&g){me=0;for(var xe=0;xe<z;xe++){me++;for(var Fe=0;Fe<fe;Fe++)ye[me++]^=255}}var Me=new Uint8Array([x>>24&255,x>>16&255,x>>8&255,x&255,z>>24&255,z>>16&255,z>>8&255,z&255,H,re,0,0,0]),We=he(ye),$e=X.length+K*3+Me.length+We.length,de=new Uint8Array($e),pe=0;return de.set(X,pe),pe+=X.length,ee("IHDR",Me,de,pe),pe+=K+Me.length,ee("IDATA",We,de,pe),pe+=K+We.length,ee("IEND",new Uint8Array(0),de,pe),(0,n.createObjectURL)(de,"image/png",b)}return function(U,b,g){var x=U.kind===void 0?n.ImageKind.GRAYSCALE_1BPP:U.kind;return we(U,x,b,g)}}(),V=function(){function X(){D(this,X),this.fontSizeScale=1,this.fontWeight=T.fontWeight,this.fontSize=0,this.textMatrix=n.IDENTITY_MATRIX,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=n.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=T.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return O(X,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(P,S){this.x=P,this.y=S}}]),X}(),te=0,q=0,ae=0;r.SVGGraphics=p=function(){function X(K,P){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;D(this,X),this.svgFactory=new a.DOMSVGFactory,this.current=new V,this.transformMatrix=n.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=K,this.objs=P,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!S,this._operatorIdMapping=[];for(var F in n.OPS)this._operatorIdMapping[n.OPS[F]]=F}return O(X,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var P=this.current;this.extraStack.push(P),this.current=P.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(P){this.save(),this.executeOpTree(P),this.restore()}},{key:"loadDependencies",value:function(P){for(var S=this,F=P.fnArray,N=P.argsArray,G=0,ee=F.length;G<ee;G++)if(F[G]===n.OPS.dependency){var Y=E(N[G]),he;try{var Se=function(){var $=he.value,U=$.startsWith("g_")?S.commonObjs:S.objs,b=new Promise(function(g){U.get($,g)});S.current.dependencies.push(b)};for(Y.s();!(he=Y.n()).done;)Se()}catch(we){Y.e(we)}finally{Y.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(P,S,F,N,G,ee){var Y=[P,S,F,N,G,ee];this.transformMatrix=n.Util.transform(this.transformMatrix,Y),this.tgrp=null}},{key:"getSVG",value:function(P,S){var F=this;this.viewport=S;var N=this._initialize(S);return this.loadDependencies(P).then(function(){return F.transformMatrix=n.IDENTITY_MATRIX,F.executeOpTree(F.convertOpList(P)),N})}},{key:"convertOpList",value:function(P){for(var S=this._operatorIdMapping,F=P.argsArray,N=P.fnArray,G=[],ee=0,Y=N.length;ee<Y;ee++){var he=N[ee];G.push({fnId:he,fn:S[he],args:F[ee]})}return h(G)}},{key:"executeOpTree",value:function(P){var S=E(P),F;try{for(S.s();!(F=S.n()).done;){var N=F.value,G=N.fn,ee=N.fnId,Y=N.args;switch(ee|0){case n.OPS.beginText:this.beginText();break;case n.OPS.dependency:break;case n.OPS.setLeading:this.setLeading(Y);break;case n.OPS.setLeadingMoveText:this.setLeadingMoveText(Y[0],Y[1]);break;case n.OPS.setFont:this.setFont(Y);break;case n.OPS.showText:this.showText(Y[0]);break;case n.OPS.showSpacedText:this.showText(Y[0]);break;case n.OPS.endText:this.endText();break;case n.OPS.moveText:this.moveText(Y[0],Y[1]);break;case n.OPS.setCharSpacing:this.setCharSpacing(Y[0]);break;case n.OPS.setWordSpacing:this.setWordSpacing(Y[0]);break;case n.OPS.setHScale:this.setHScale(Y[0]);break;case n.OPS.setTextMatrix:this.setTextMatrix(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]);break;case n.OPS.setTextRise:this.setTextRise(Y[0]);break;case n.OPS.setTextRenderingMode:this.setTextRenderingMode(Y[0]);break;case n.OPS.setLineWidth:this.setLineWidth(Y[0]);break;case n.OPS.setLineJoin:this.setLineJoin(Y[0]);break;case n.OPS.setLineCap:this.setLineCap(Y[0]);break;case n.OPS.setMiterLimit:this.setMiterLimit(Y[0]);break;case n.OPS.setFillRGBColor:this.setFillRGBColor(Y[0],Y[1],Y[2]);break;case n.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Y[0],Y[1],Y[2]);break;case n.OPS.setStrokeColorN:this.setStrokeColorN(Y);break;case n.OPS.setFillColorN:this.setFillColorN(Y);break;case n.OPS.shadingFill:this.shadingFill(Y[0]);break;case n.OPS.setDash:this.setDash(Y[0],Y[1]);break;case n.OPS.setRenderingIntent:this.setRenderingIntent(Y[0]);break;case n.OPS.setFlatness:this.setFlatness(Y[0]);break;case n.OPS.setGState:this.setGState(Y[0]);break;case n.OPS.fill:this.fill();break;case n.OPS.eoFill:this.eoFill();break;case n.OPS.stroke:this.stroke();break;case n.OPS.fillStroke:this.fillStroke();break;case n.OPS.eoFillStroke:this.eoFillStroke();break;case n.OPS.clip:this.clip("nonzero");break;case n.OPS.eoClip:this.clip("evenodd");break;case n.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case n.OPS.paintImageXObject:this.paintImageXObject(Y[0]);break;case n.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Y[0]);break;case n.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Y[0]);break;case n.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Y[0],Y[1]);break;case n.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case n.OPS.closePath:this.closePath();break;case n.OPS.closeStroke:this.closeStroke();break;case n.OPS.closeFillStroke:this.closeFillStroke();break;case n.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case n.OPS.nextLine:this.nextLine();break;case n.OPS.transform:this.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]);break;case n.OPS.constructPath:this.constructPath(Y[0],Y[1]);break;case n.OPS.endPath:this.endPath();break;case 92:this.group(N.items);break;default:(0,n.warn)("Unimplemented operator ".concat(G));break}}}catch(he){S.e(he)}finally{S.f()}}},{key:"setWordSpacing",value:function(P){this.current.wordSpacing=P}},{key:"setCharSpacing",value:function(P){this.current.charSpacing=P}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(P,S,F,N,G,ee){var Y=this.current;Y.textMatrix=Y.lineMatrix=[P,S,F,N,G,ee],Y.textMatrixScale=Math.hypot(P,S),Y.x=Y.lineX=0,Y.y=Y.lineY=0,Y.xcoords=[],Y.ycoords=[],Y.tspan=this.svgFactory.createElement("svg:tspan"),Y.tspan.setAttributeNS(null,"font-family",Y.fontFamily),Y.tspan.setAttributeNS(null,"font-size","".concat(y(Y.fontSize),"px")),Y.tspan.setAttributeNS(null,"y",y(-Y.y)),Y.txtElement=this.svgFactory.createElement("svg:text"),Y.txtElement.appendChild(Y.tspan)}},{key:"beginText",value:function(){var P=this.current;P.x=P.lineX=0,P.y=P.lineY=0,P.textMatrix=n.IDENTITY_MATRIX,P.lineMatrix=n.IDENTITY_MATRIX,P.textMatrixScale=1,P.tspan=this.svgFactory.createElement("svg:tspan"),P.txtElement=this.svgFactory.createElement("svg:text"),P.txtgrp=this.svgFactory.createElement("svg:g"),P.xcoords=[],P.ycoords=[]}},{key:"moveText",value:function(P,S){var F=this.current;F.x=F.lineX+=P,F.y=F.lineY+=S,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size","".concat(y(F.fontSize),"px")),F.tspan.setAttributeNS(null,"y",y(-F.y))}},{key:"showText",value:function(P){var S=this.current,F=S.font,N=S.fontSize;if(N!==0){var G=S.fontSizeScale,ee=S.charSpacing,Y=S.wordSpacing,he=S.fontDirection,Se=S.textHScale*he,we=F.vertical,$=we?1:-1,U=F.defaultVMetrics,b=N*S.fontMatrix[0],g=0,x=E(P),z;try{for(x.s();!(z=x.n()).done;){var H=z.value;if(H===null){g+=he*Y;continue}else if((0,n.isNum)(H)){g+=$*H*N/1e3;continue}var re=(H.isSpace?Y:0)+ee,fe=H.fontChar,ge=void 0,ye=void 0,me=H.width;if(we){var Te=void 0,Re=H.vmetric||U;Te=H.vmetric?Re[1]:me*.5,Te=-Te*b;var xe=Re[2]*b;me=Re?-Re[0]:me,ge=Te/G,ye=(g+xe)/G}else ge=g/G,ye=0;(H.isInFont||F.missingFile)&&(S.xcoords.push(S.x+ge),we&&S.ycoords.push(-S.y+ye),S.tspan.textContent+=fe);var Fe=void 0;we?Fe=me*b-re*he:Fe=me*b+re*he,g+=Fe}}catch(de){x.e(de)}finally{x.f()}S.tspan.setAttributeNS(null,"x",S.xcoords.map(y).join(" ")),we?S.tspan.setAttributeNS(null,"y",S.ycoords.map(y).join(" ")):S.tspan.setAttributeNS(null,"y",y(-S.y)),we?S.y-=g:S.x+=g*Se,S.tspan.setAttributeNS(null,"font-family",S.fontFamily),S.tspan.setAttributeNS(null,"font-size","".concat(y(S.fontSize),"px")),S.fontStyle!==T.fontStyle&&S.tspan.setAttributeNS(null,"font-style",S.fontStyle),S.fontWeight!==T.fontWeight&&S.tspan.setAttributeNS(null,"font-weight",S.fontWeight);var Me=S.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;if(Me===n.TextRenderingMode.FILL||Me===n.TextRenderingMode.FILL_STROKE?(S.fillColor!==T.fillColor&&S.tspan.setAttributeNS(null,"fill",S.fillColor),S.fillAlpha<1&&S.tspan.setAttributeNS(null,"fill-opacity",S.fillAlpha)):S.textRenderingMode===n.TextRenderingMode.ADD_TO_PATH?S.tspan.setAttributeNS(null,"fill","transparent"):S.tspan.setAttributeNS(null,"fill","none"),Me===n.TextRenderingMode.STROKE||Me===n.TextRenderingMode.FILL_STROKE){var We=1/(S.textMatrixScale||1);this._setStrokeAttributes(S.tspan,We)}var $e=S.textMatrix;S.textRise!==0&&($e=$e.slice(),$e[5]+=S.textRise),S.txtElement.setAttributeNS(null,"transform","".concat(A($e)," scale(").concat(y(Se),", -1)")),S.txtElement.setAttributeNS(_,"xml:space","preserve"),S.txtElement.appendChild(S.tspan),S.txtgrp.appendChild(S.txtElement),this._ensureTransformGroup().appendChild(S.txtElement)}}},{key:"setLeadingMoveText",value:function(P,S){this.setLeading(-S),this.moveText(P,S)}},{key:"addFontStyle",value:function(P){if(!P.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var S=(0,n.createObjectURL)(P.data,P.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(P.loadedName,'";')+" src: url(".concat(S,`); }
`)}},{key:"setFont",value:function(P){var S=this.current,F=this.commonObjs.get(P[0]),N=P[1];S.font=F,this.embedFonts&&!F.missingFile&&!this.embeddedFonts[F.loadedName]&&(this.addFontStyle(F),this.embeddedFonts[F.loadedName]=F),S.fontMatrix=F.fontMatrix||n.FONT_IDENTITY_MATRIX;var G="normal";F.black?G="900":F.bold&&(G="bold");var ee=F.italic?"italic":"normal";N<0?(N=-N,S.fontDirection=-1):S.fontDirection=1,S.fontSize=N,S.fontFamily=F.loadedName,S.fontWeight=G,S.fontStyle=ee,S.tspan=this.svgFactory.createElement("svg:tspan"),S.tspan.setAttributeNS(null,"y",y(-S.y)),S.xcoords=[],S.ycoords=[]}},{key:"endText",value:function(){var P,S=this.current;S.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG&&(P=S.txtElement)!==null&&P!==void 0&&P.hasChildNodes()&&(S.element=S.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(P){P>0&&(this.current.lineWidth=P)}},{key:"setLineCap",value:function(P){this.current.lineCap=L[P]}},{key:"setLineJoin",value:function(P){this.current.lineJoin=j[P]}},{key:"setMiterLimit",value:function(P){this.current.miterLimit=P}},{key:"setStrokeAlpha",value:function(P){this.current.strokeAlpha=P}},{key:"setStrokeRGBColor",value:function(P,S,F){this.current.strokeColor=n.Util.makeHexColor(P,S,F)}},{key:"setFillAlpha",value:function(P){this.current.fillAlpha=P}},{key:"setFillRGBColor",value:function(P,S,F){this.current.fillColor=n.Util.makeHexColor(P,S,F),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(P){this.current.strokeColor=this._makeColorN_Pattern(P)}},{key:"setFillColorN",value:function(P){this.current.fillColor=this._makeColorN_Pattern(P)}},{key:"shadingFill",value:function(P){var S=this.viewport.width,F=this.viewport.height,N=n.Util.inverseTransform(this.transformMatrix),G=n.Util.applyTransform([0,0],N),ee=n.Util.applyTransform([0,F],N),Y=n.Util.applyTransform([S,0],N),he=n.Util.applyTransform([S,F],N),Se=Math.min(G[0],ee[0],Y[0],he[0]),we=Math.min(G[1],ee[1],Y[1],he[1]),$=Math.max(G[0],ee[0],Y[0],he[0]),U=Math.max(G[1],ee[1],Y[1],he[1]),b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x",Se),b.setAttributeNS(null,"y",we),b.setAttributeNS(null,"width",$-Se),b.setAttributeNS(null,"height",U-we),b.setAttributeNS(null,"fill",this._makeShadingPattern(P)),this.current.fillAlpha<1&&b.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(b)}},{key:"_makeColorN_Pattern",value:function(P){return P[0]==="TilingPattern"?this._makeTilingPattern(P):this._makeShadingPattern(P)}},{key:"_makeTilingPattern",value:function(P){var S=P[1],F=P[2],N=P[3]||n.IDENTITY_MATRIX,G=c(P[4],4),ee=G[0],Y=G[1],he=G[2],Se=G[3],we=P[5],$=P[6],U=P[7],b="shading".concat(ae++),g=n.Util.normalizeRect([].concat(o(n.Util.applyTransform([ee,Y],N)),o(n.Util.applyTransform([he,Se],N)))),x=c(g,4),z=x[0],H=x[1],re=x[2],fe=x[3],ge=n.Util.singularValueDecompose2dScale(N),ye=c(ge,2),me=ye[0],Te=ye[1],Re=we*me,xe=$*Te,Fe=this.svgFactory.createElement("svg:pattern");Fe.setAttributeNS(null,"id",b),Fe.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Fe.setAttributeNS(null,"width",Re),Fe.setAttributeNS(null,"height",xe),Fe.setAttributeNS(null,"x","".concat(z)),Fe.setAttributeNS(null,"y","".concat(H));var Me=this.svg,We=this.transformMatrix,$e=this.current.fillColor,de=this.current.strokeColor,pe=this.svgFactory.create(re-z,fe-H);if(this.svg=pe,this.transformMatrix=N,U===2){var Z=n.Util.makeHexColor.apply(n.Util,o(S));this.current.fillColor=Z,this.current.strokeColor=Z}return this.executeOpTree(this.convertOpList(F)),this.svg=Me,this.transformMatrix=We,this.current.fillColor=$e,this.current.strokeColor=de,Fe.appendChild(pe.childNodes[0]),this.defs.appendChild(Fe),"url(#".concat(b,")")}},{key:"_makeShadingPattern",value:function(P){switch(typeof P=="string"&&(P=this.objs.get(P)),P[0]){case"RadialAxial":var S="shading".concat(ae++),F=P[3],N;switch(P[1]){case"axial":var G=P[4],ee=P[5];N=this.svgFactory.createElement("svg:linearGradient"),N.setAttributeNS(null,"id",S),N.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),N.setAttributeNS(null,"x1",G[0]),N.setAttributeNS(null,"y1",G[1]),N.setAttributeNS(null,"x2",ee[0]),N.setAttributeNS(null,"y2",ee[1]);break;case"radial":var Y=P[4],he=P[5],Se=P[6],we=P[7];N=this.svgFactory.createElement("svg:radialGradient"),N.setAttributeNS(null,"id",S),N.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),N.setAttributeNS(null,"cx",he[0]),N.setAttributeNS(null,"cy",he[1]),N.setAttributeNS(null,"r",we),N.setAttributeNS(null,"fx",Y[0]),N.setAttributeNS(null,"fy",Y[1]),N.setAttributeNS(null,"fr",Se);break;default:throw new Error("Unknown RadialAxial type: ".concat(P[1]))}var $=E(F),U;try{for($.s();!(U=$.n()).done;){var b=U.value,g=this.svgFactory.createElement("svg:stop");g.setAttributeNS(null,"offset",b[0]),g.setAttributeNS(null,"stop-color",b[1]),N.appendChild(g)}}catch(x){$.e(x)}finally{$.f()}return this.defs.appendChild(N),"url(#".concat(S,")");case"Mesh":return(0,n.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(P[0]))}}},{key:"setDash",value:function(P,S){this.current.dashArray=P,this.current.dashPhase=S}},{key:"constructPath",value:function(P,S){var F=this.current,N=F.x,G=F.y,ee=[],Y=0,he=E(P),Se;try{for(he.s();!(Se=he.n()).done;){var we=Se.value;switch(we|0){case n.OPS.rectangle:N=S[Y++],G=S[Y++];var $=S[Y++],U=S[Y++],b=N+$,g=G+U;ee.push("M",y(N),y(G),"L",y(b),y(G),"L",y(b),y(g),"L",y(N),y(g),"Z");break;case n.OPS.moveTo:N=S[Y++],G=S[Y++],ee.push("M",y(N),y(G));break;case n.OPS.lineTo:N=S[Y++],G=S[Y++],ee.push("L",y(N),y(G));break;case n.OPS.curveTo:N=S[Y+4],G=S[Y+5],ee.push("C",y(S[Y]),y(S[Y+1]),y(S[Y+2]),y(S[Y+3]),y(N),y(G)),Y+=6;break;case n.OPS.curveTo2:ee.push("C",y(N),y(G),y(S[Y]),y(S[Y+1]),y(S[Y+2]),y(S[Y+3])),N=S[Y+2],G=S[Y+3],Y+=4;break;case n.OPS.curveTo3:N=S[Y+2],G=S[Y+3],ee.push("C",y(S[Y]),y(S[Y+1]),y(N),y(G),y(N),y(G)),Y+=4;break;case n.OPS.closePath:ee.push("Z");break}}}catch(x){he.e(x)}finally{he.f()}ee=ee.join(" "),F.path&&P.length>0&&P[0]!==n.OPS.rectangle&&P[0]!==n.OPS.moveTo?ee=F.path.getAttributeNS(null,"d")+ee:(F.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(F.path)),F.path.setAttributeNS(null,"d",ee),F.path.setAttributeNS(null,"fill","none"),F.element=F.path,F.setCurrentPoint(N,G)}},{key:"endPath",value:function(){var P=this.current;if(P.path=null,!!this.pendingClip){if(!P.element){this.pendingClip=null;return}var S="clippath".concat(te++),F=this.svgFactory.createElement("svg:clipPath");F.setAttributeNS(null,"id",S),F.setAttributeNS(null,"transform",A(this.transformMatrix));var N=P.element.cloneNode(!0);if(this.pendingClip==="evenodd"?N.setAttributeNS(null,"clip-rule","evenodd"):N.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,F.appendChild(N),this.defs.appendChild(F),P.activeClipUrl){P.clipGroup=null;var G=E(this.extraStack),ee;try{for(G.s();!(ee=G.n()).done;){var Y=ee.value;Y.clipGroup=null}}catch(he){G.e(he)}finally{G.f()}F.setAttributeNS(null,"clip-path",P.activeClipUrl)}P.activeClipUrl="url(#".concat(S,")"),this.tgrp=null}}},{key:"clip",value:function(P){this.pendingClip=P}},{key:"closePath",value:function(){var P=this.current;if(P.path){var S="".concat(P.path.getAttributeNS(null,"d"),"Z");P.path.setAttributeNS(null,"d",S)}}},{key:"setLeading",value:function(P){this.current.leading=-P}},{key:"setTextRise",value:function(P){this.current.textRise=P}},{key:"setTextRenderingMode",value:function(P){this.current.textRenderingMode=P}},{key:"setHScale",value:function(P){this.current.textHScale=P/100}},{key:"setRenderingIntent",value:function(P){}},{key:"setFlatness",value:function(P){}},{key:"setGState",value:function(P){var S=E(P),F;try{for(S.s();!(F=S.n()).done;){var N=c(F.value,2),G=N[0],ee=N[1];switch(G){case"LW":this.setLineWidth(ee);break;case"LC":this.setLineCap(ee);break;case"LJ":this.setLineJoin(ee);break;case"ML":this.setMiterLimit(ee);break;case"D":this.setDash(ee[0],ee[1]);break;case"RI":this.setRenderingIntent(ee);break;case"FL":this.setFlatness(ee);break;case"Font":this.setFont(ee);break;case"CA":this.setStrokeAlpha(ee);break;case"ca":this.setFillAlpha(ee);break;default:(0,n.warn)("Unimplemented graphic state operator ".concat(G));break}}}catch(Y){S.e(Y)}finally{S.f()}}},{key:"fill",value:function(){var P=this.current;P.element&&(P.element.setAttributeNS(null,"fill",P.fillColor),P.element.setAttributeNS(null,"fill-opacity",P.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var P=this.current;P.element&&(this._setStrokeAttributes(P.element),P.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(P){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,F=this.current,N=F.dashArray;S!==1&&N.length>0&&(N=N.map(function(G){return S*G})),P.setAttributeNS(null,"stroke",F.strokeColor),P.setAttributeNS(null,"stroke-opacity",F.strokeAlpha),P.setAttributeNS(null,"stroke-miterlimit",y(F.miterLimit)),P.setAttributeNS(null,"stroke-linecap",F.lineCap),P.setAttributeNS(null,"stroke-linejoin",F.lineJoin),P.setAttributeNS(null,"stroke-width",y(S*F.lineWidth)+"px"),P.setAttributeNS(null,"stroke-dasharray",N.map(y).join(" ")),P.setAttributeNS(null,"stroke-dashoffset",y(S*F.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var P=this.svgFactory.createElement("svg:rect");P.setAttributeNS(null,"x","0"),P.setAttributeNS(null,"y","0"),P.setAttributeNS(null,"width","1px"),P.setAttributeNS(null,"height","1px"),P.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(P)}},{key:"paintImageXObject",value:function(P){var S=P.startsWith("g_")?this.commonObjs.get(P):this.objs.get(P);if(!S){(0,n.warn)("Dependent image with object ID ".concat(P," is not ready yet"));return}this.paintInlineImageXObject(S)}},{key:"paintInlineImageXObject",value:function(P,S){var F=P.width,N=P.height,G=W(P,this.forceDataSchema,!!S),ee=this.svgFactory.createElement("svg:rect");ee.setAttributeNS(null,"x","0"),ee.setAttributeNS(null,"y","0"),ee.setAttributeNS(null,"width",y(F)),ee.setAttributeNS(null,"height",y(N)),this.current.element=ee,this.clip("nonzero");var Y=this.svgFactory.createElement("svg:image");Y.setAttributeNS(k,"xlink:href",G),Y.setAttributeNS(null,"x","0"),Y.setAttributeNS(null,"y",y(-N)),Y.setAttributeNS(null,"width",y(F)+"px"),Y.setAttributeNS(null,"height",y(N)+"px"),Y.setAttributeNS(null,"transform","scale(".concat(y(1/F)," ").concat(y(-1/N),")")),S?S.appendChild(Y):this._ensureTransformGroup().appendChild(Y)}},{key:"paintImageMaskXObject",value:function(P){var S=this.current,F=P.width,N=P.height,G=S.fillColor;S.maskId="mask".concat(q++);var ee=this.svgFactory.createElement("svg:mask");ee.setAttributeNS(null,"id",S.maskId);var Y=this.svgFactory.createElement("svg:rect");Y.setAttributeNS(null,"x","0"),Y.setAttributeNS(null,"y","0"),Y.setAttributeNS(null,"width",y(F)),Y.setAttributeNS(null,"height",y(N)),Y.setAttributeNS(null,"fill",G),Y.setAttributeNS(null,"mask","url(#".concat(S.maskId,")")),this.defs.appendChild(ee),this._ensureTransformGroup().appendChild(Y),this.paintInlineImageXObject(P,ee)}},{key:"paintFormXObjectBegin",value:function(P,S){if(Array.isArray(P)&&P.length===6&&this.transform(P[0],P[1],P[2],P[3],P[4],P[5]),S){var F=S[2]-S[0],N=S[3]-S[1],G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x",S[0]),G.setAttributeNS(null,"y",S[1]),G.setAttributeNS(null,"width",y(F)),G.setAttributeNS(null,"height",y(N)),this.current.element=G,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(P){var S=this.svgFactory.create(P.width,P.height),F=this.svgFactory.createElement("svg:defs");S.appendChild(F),this.defs=F;var N=this.svgFactory.createElement("svg:g");return N.setAttributeNS(null,"transform",A(P.transform)),S.appendChild(N),this.svg=N,S}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var P=this.svgFactory.createElement("svg:g");P.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(P),this.current.clipGroup=P}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",A(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),X}()}},(e,r,t)=>{function n(S){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(N){return typeof N}:n=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},n(S)}Object.defineProperty(r,"__esModule",{value:!0}),r.PDFNodeStream=void 0;var a=s(t(2)),i=t(4),o=t(154);function s(S){return S&&S.__esModule?S:{default:S}}function l(S,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(F&&F.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),F&&f(S,F)}function f(S,F){return f=Object.setPrototypeOf||function(G,ee){return G.__proto__=ee,G},f(S,F)}function c(S){var F=m();return function(){var G=E(S),ee;if(F){var Y=E(this).constructor;ee=Reflect.construct(G,arguments,Y)}else ee=G.apply(this,arguments);return w(this,ee)}}function w(S,F){if(F&&(n(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(S)}function R(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(S){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},E(S)}function I(S,F,N,G,ee,Y,he){try{var Se=S[Y](he),we=Se.value}catch($){N($);return}Se.done?F(we):Promise.resolve(we).then(G,ee)}function C(S){return function(){var F=this,N=arguments;return new Promise(function(G,ee){var Y=S.apply(F,N);function he(we){I(Y,G,ee,he,Se,"next",we)}function Se(we){I(Y,G,ee,he,Se,"throw",we)}he(void 0)})}}function M(S,F){var N=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(!N){if(Array.isArray(S)||(N=O(S))||F&&S&&typeof S.length=="number"){N&&(S=N);var G=0,ee=function(){};return{s:ee,n:function(){return G>=S.length?{done:!0}:{done:!1,value:S[G++]}},e:function($){throw $},f:ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y=!0,he=!1,Se;return{s:function(){N=N.call(S)},n:function(){var $=N.next();return Y=$.done,$},e:function($){he=!0,Se=$},f:function(){try{!Y&&N.return!=null&&N.return()}finally{if(he)throw Se}}}}function O(S,F){if(!!S){if(typeof S=="string")return D(S,F);var N=Object.prototype.toString.call(S).slice(8,-1);if(N==="Object"&&S.constructor&&(N=S.constructor.name),N==="Map"||N==="Set")return Array.from(S);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return D(S,F)}}function D(S,F){(F==null||F>S.length)&&(F=S.length);for(var N=0,G=new Array(F);N<F;N++)G[N]=S[N];return G}function p(S,F){if(!(S instanceof F))throw new TypeError("Cannot call a class as a function")}function h(S,F){for(var N=0;N<F.length;N++){var G=F[N];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(S,G.key,G)}}function y(S,F,N){return F&&h(S.prototype,F),N&&h(S,N),S}var A=require$$0,T=require$$4,_=require$$4,k=require$$5,L=/^file:\/\/\/[a-zA-Z]:\//;function j(S){var F=k.parse(S);return F.protocol==="file:"||F.host?F:/^[a-z]:[/\\]/i.test(S)?k.parse("file:///".concat(S)):(F.host||(F.protocol="file:"),F)}var W=function(){function S(F){p(this,S),this.source=F,this.url=j(F.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&F.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return y(S,[{key:"_progressiveDataLength",get:function(){var N,G;return(N=(G=this._fullRequestReader)===null||G===void 0?void 0:G._loaded)!==null&&N!==void 0?N:0}},{key:"getFullReader",value:function(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new K(this):new ae(this),this._fullRequestReader}},{key:"getRangeReader",value:function(N,G){if(G<=this._progressiveDataLength)return null;var ee=this.isFsUrl?new P(this,N,G):new X(this,N,G);return this._rangeRequestReaders.push(ee),ee}},{key:"cancelAllRequests",value:function(N){this._fullRequestReader&&this._fullRequestReader.cancel(N);var G=M(this._rangeRequestReaders.slice(0)),ee;try{for(G.s();!(ee=G.n()).done;){var Y=ee.value;Y.cancel(N)}}catch(he){G.e(he)}finally{G.f()}}}]),S}();r.PDFNodeStream=W;var V=function(){function S(F){p(this,S),this._url=F.url,this._done=!1,this._storedError=null,this.onProgress=null;var N=F.source;this._contentLength=N.length,this._loaded=0,this._filename=null,this._disableRange=N.disableRange||!1,this._rangeChunkSize=N.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!N.disableStream,this._isRangeSupported=!N.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}return y(S,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var F=C(a.default.mark(function G(){var ee,Y;return a.default.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,this._readCapability.promise;case 2:if(!this._done){Se.next=4;break}return Se.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){Se.next=6;break}throw this._storedError;case 6:if(ee=this._readableStream.read(),ee!==null){Se.next=10;break}return this._readCapability=(0,i.createPromiseCapability)(),Se.abrupt("return",this.read());case 10:return this._loaded+=ee.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),Y=new Uint8Array(ee).buffer,Se.abrupt("return",{value:Y,done:!1});case 14:case"end":return Se.stop()}},G,this)}));function N(){return F.apply(this,arguments)}return N}()},{key:"cancel",value:function(N){if(!this._readableStream){this._error(N);return}this._readableStream.destroy(N)}},{key:"_error",value:function(N){this._storedError=N,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(N){var G=this;this._readableStream=N,N.on("readable",function(){G._readCapability.resolve()}),N.on("end",function(){N.destroy(),G._done=!0,G._readCapability.resolve()}),N.on("error",function(ee){G._error(ee)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),S}(),te=function(){function S(F){p(this,S),this._url=F.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)();var N=F.source;this._isStreamingSupported=!N.disableStream}return y(S,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var F=C(a.default.mark(function G(){var ee,Y;return a.default.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,this._readCapability.promise;case 2:if(!this._done){Se.next=4;break}return Se.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){Se.next=6;break}throw this._storedError;case 6:if(ee=this._readableStream.read(),ee!==null){Se.next=10;break}return this._readCapability=(0,i.createPromiseCapability)(),Se.abrupt("return",this.read());case 10:return this._loaded+=ee.length,this.onProgress&&this.onProgress({loaded:this._loaded}),Y=new Uint8Array(ee).buffer,Se.abrupt("return",{value:Y,done:!1});case 14:case"end":return Se.stop()}},G,this)}));function N(){return F.apply(this,arguments)}return N}()},{key:"cancel",value:function(N){if(!this._readableStream){this._error(N);return}this._readableStream.destroy(N)}},{key:"_error",value:function(N){this._storedError=N,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(N){var G=this;this._readableStream=N,N.on("readable",function(){G._readCapability.resolve()}),N.on("end",function(){N.destroy(),G._done=!0,G._readCapability.resolve()}),N.on("error",function(ee){G._error(ee)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),S}();function q(S,F){return{protocol:S.protocol,auth:S.auth,host:S.hostname,port:S.port,path:S.path,method:"GET",headers:F}}var ae=function(S){l(N,S);var F=c(N);function N(G){var ee;p(this,N),ee=F.call(this,G);var Y=function(Se){if(Se.statusCode===404){var we=new i.MissingPDFException('Missing PDF "'.concat(ee._url,'".'));ee._storedError=we,ee._headersCapability.reject(we);return}ee._headersCapability.resolve(),ee._setReadableStream(Se);var $=function(z){return ee._readableStream.headers[z.toLowerCase()]},U=(0,o.validateRangeRequestCapabilities)({getResponseHeader:$,isHttp:G.isHttp,rangeChunkSize:ee._rangeChunkSize,disableRange:ee._disableRange}),b=U.allowRangeRequests,g=U.suggestedLength;ee._isRangeSupported=b,ee._contentLength=g||ee._contentLength,ee._filename=(0,o.extractFilenameFromHeader)($)};return ee._request=null,ee._url.protocol==="http:"?ee._request=T.request(q(ee._url,G.httpHeaders),Y):ee._request=_.request(q(ee._url,G.httpHeaders),Y),ee._request.on("error",function(he){ee._storedError=he,ee._headersCapability.reject(he)}),ee._request.end(),ee}return N}(V),X=function(S){l(N,S);var F=c(N);function N(G,ee,Y){var he;p(this,N),he=F.call(this,G),he._httpHeaders={};for(var Se in G.httpHeaders){var we=G.httpHeaders[Se];typeof we>"u"||(he._httpHeaders[Se]=we)}he._httpHeaders.Range="bytes=".concat(ee,"-").concat(Y-1);var $=function(b){if(b.statusCode===404){var g=new i.MissingPDFException('Missing PDF "'.concat(he._url,'".'));he._storedError=g;return}he._setReadableStream(b)};return he._request=null,he._url.protocol==="http:"?he._request=T.request(q(he._url,he._httpHeaders),$):he._request=_.request(q(he._url,he._httpHeaders),$),he._request.on("error",function(U){he._storedError=U}),he._request.end(),he}return N}(te),K=function(S){l(N,S);var F=c(N);function N(G){var ee;p(this,N),ee=F.call(this,G);var Y=decodeURIComponent(ee._url.path);return L.test(ee._url.href)&&(Y=Y.replace(/^\//,"")),A.lstat(Y,function(he,Se){if(he){he.code==="ENOENT"&&(he=new i.MissingPDFException('Missing PDF "'.concat(Y,'".'))),ee._storedError=he,ee._headersCapability.reject(he);return}ee._contentLength=Se.size,ee._setReadableStream(A.createReadStream(Y)),ee._headersCapability.resolve()}),ee}return N}(V),P=function(S){l(N,S);var F=c(N);function N(G,ee,Y){var he;p(this,N),he=F.call(this,G);var Se=decodeURIComponent(he._url.path);return L.test(he._url.href)&&(Se=Se.replace(/^\//,"")),he._setReadableStream(A.createReadStream(Se,{start:ee,end:Y-1})),he}return N}(te)},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createResponseStatusError=l,r.extractFilenameFromHeader=s,r.validateRangeRequestCapabilities=o,r.validateResponseStatus=f;var n=t(4),a=t(155),i=t(1);function o(c){var w=c.getResponseHeader,R=c.isHttp,m=c.rangeChunkSize,E=c.disableRange;(0,n.assert)(m>0,"Range chunk size must be larger than zero");var I={allowRangeRequests:!1,suggestedLength:void 0},C=parseInt(w("Content-Length"),10);if(!Number.isInteger(C)||(I.suggestedLength=C,C<=2*m)||E||!R||w("Accept-Ranges")!=="bytes")return I;var M=w("Content-Encoding")||"identity";return M!=="identity"||(I.allowRangeRequests=!0),I}function s(c){var w=c("Content-Disposition");if(w){var R=(0,a.getFilenameFromContentDispositionHeader)(w);if(R.includes("%"))try{R=decodeURIComponent(R)}catch{}if((0,i.isPdfFile)(R))return R}return null}function l(c,w){return c===404||c===0&&w.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+w+'".'):new n.UnexpectedResponseException("Unexpected server response (".concat(c,') while retrieving PDF "').concat(w,'".'),c)}function f(c){return c===200||c===206}},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getFilenameFromContentDispositionHeader=c;var n=t(4);function a(w,R){return f(w)||l(w,R)||o(w,R)||i()}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(w,R){if(!!w){if(typeof w=="string")return s(w,R);var m=Object.prototype.toString.call(w).slice(8,-1);if(m==="Object"&&w.constructor&&(m=w.constructor.name),m==="Map"||m==="Set")return Array.from(w);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return s(w,R)}}function s(w,R){(R==null||R>w.length)&&(R=w.length);for(var m=0,E=new Array(R);m<R;m++)E[m]=w[m];return E}function l(w,R){var m=w==null?null:typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(m!=null){var E=[],I=!0,C=!1,M,O;try{for(m=m.call(w);!(I=(M=m.next()).done)&&(E.push(M.value),!(R&&E.length===R));I=!0);}catch(D){C=!0,O=D}finally{try{!I&&m.return!=null&&m.return()}finally{if(C)throw O}}return E}}function f(w){if(Array.isArray(w))return w}function c(w){var R=!0,m=M("filename\\*","i").exec(w);if(m){m=m[1];var E=h(m);return E=unescape(E),E=y(E),E=A(E),D(E)}if(m=p(w),m){var I=A(m);return D(I)}if(m=M("filename","i").exec(w),m){m=m[1];var C=h(m);return C=A(C),D(C)}function M(T,_){return new RegExp("(?:^|;)\\s*"+T+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',_)}function O(T,_){if(T){if(!/^[\x00-\xFF]+$/.test(_))return _;try{var k=new TextDecoder(T,{fatal:!0}),L=(0,n.stringToBytes)(_);_=k.decode(L),R=!1}catch{if(/^utf-?8$/i.test(T))try{_=decodeURIComponent(escape(_)),R=!1}catch{}}}return _}function D(T){return R&&/[\x80-\xff]/.test(T)&&(T=O("utf-8",T),R&&(T=O("iso-8859-1",T))),T}function p(T){for(var _=[],k,L=M("filename\\*((?!0\\d)\\d+)(\\*?)","ig");(k=L.exec(T))!==null;){var j=k,W=a(j,4),V=W[1],te=W[2],q=W[3];if(V=parseInt(V,10),V in _){if(V===0)break;continue}_[V]=[te,q]}for(var ae=[],X=0;X<_.length&&X in _;++X){var K=a(_[X],2),P=K[0],S=K[1];S=h(S),P&&(S=unescape(S),X===0&&(S=y(S))),ae.push(S)}return ae.join("")}function h(T){if(T.startsWith('"')){for(var _=T.slice(1).split('\\"'),k=0;k<_.length;++k){var L=_[k].indexOf('"');L!==-1&&(_[k]=_[k].slice(0,L),_.length=k+1),_[k]=_[k].replace(/\\(.)/g,"$1")}T=_.join('"')}return T}function y(T){var _=T.indexOf("'");if(_===-1)return T;var k=T.slice(0,_),L=T.slice(_+1),j=L.replace(/^[^']*'/,"");return O(k,j)}function A(T){return!T.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(T)?T:T.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_,k,L,j){if(L==="q"||L==="Q")return j=j.replace(/_/g," "),j=j.replace(/=([0-9a-fA-F]{2})/g,function(W,V){return String.fromCharCode(parseInt(V,16))}),O(k,j);try{j=atob(j)}catch{}return O(k,j)})}return""}},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFNetworkStream=void 0;var n=o(t(2)),a=t(4),i=t(154);function o(y){return y&&y.__esModule?y:{default:y}}function s(y,A,T,_,k,L,j){try{var W=y[L](j),V=W.value}catch(te){T(te);return}W.done?A(V):Promise.resolve(V).then(_,k)}function l(y){return function(){var A=this,T=arguments;return new Promise(function(_,k){var L=y.apply(A,T);function j(V){s(L,_,k,j,W,"next",V)}function W(V){s(L,_,k,j,W,"throw",V)}j(void 0)})}}function f(y,A){var T=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!T){if(Array.isArray(y)||(T=c(y))||A&&y&&typeof y.length=="number"){T&&(y=T);var _=0,k=function(){};return{s:k,n:function(){return _>=y.length?{done:!0}:{done:!1,value:y[_++]}},e:function(te){throw te},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var L=!0,j=!1,W;return{s:function(){T=T.call(y)},n:function(){var te=T.next();return L=te.done,te},e:function(te){j=!0,W=te},f:function(){try{!L&&T.return!=null&&T.return()}finally{if(j)throw W}}}}function c(y,A){if(!!y){if(typeof y=="string")return w(y,A);var T=Object.prototype.toString.call(y).slice(8,-1);if(T==="Object"&&y.constructor&&(T=y.constructor.name),T==="Map"||T==="Set")return Array.from(y);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return w(y,A)}}function w(y,A){(A==null||A>y.length)&&(A=y.length);for(var T=0,_=new Array(A);T<A;T++)_[T]=y[T];return _}function R(y,A){if(!(y instanceof A))throw new TypeError("Cannot call a class as a function")}function m(y,A){for(var T=0;T<A.length;T++){var _=A[T];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}function E(y,A,T){return A&&m(y.prototype,A),T&&m(y,T),y}var I=200,C=206;function M(y){var A=y.response;if(typeof A!="string")return A;var T=(0,a.stringToBytes)(A);return T.buffer}var O=function(){function y(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R(this,y),this.url=A,this.isHttp=/^https?:/i.test(A),this.httpHeaders=this.isHttp&&T.httpHeaders||Object.create(null),this.withCredentials=T.withCredentials||!1,this.getXhr=T.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return E(y,[{key:"requestRange",value:function(T,_,k){var L={begin:T,end:_};for(var j in k)L[j]=k[j];return this.request(L)}},{key:"requestFull",value:function(T){return this.request(T)}},{key:"request",value:function(T){var _=this.getXhr(),k=this.currXhrId++,L=this.pendingRequests[k]={xhr:_};_.open("GET",this.url),_.withCredentials=this.withCredentials;for(var j in this.httpHeaders){var W=this.httpHeaders[j];typeof W>"u"||_.setRequestHeader(j,W)}return this.isHttp&&"begin"in T&&"end"in T?(_.setRequestHeader("Range","bytes=".concat(T.begin,"-").concat(T.end-1)),L.expectedStatus=C):L.expectedStatus=I,_.responseType="arraybuffer",T.onError&&(_.onerror=function(V){T.onError(_.status)}),_.onreadystatechange=this.onStateChange.bind(this,k),_.onprogress=this.onProgress.bind(this,k),L.onHeadersReceived=T.onHeadersReceived,L.onDone=T.onDone,L.onError=T.onError,L.onProgress=T.onProgress,_.send(null),k}},{key:"onProgress",value:function(T,_){var k,L=this.pendingRequests[T];!L||(k=L.onProgress)===null||k===void 0||k.call(L,_)}},{key:"onStateChange",value:function(T,_){var k=this.pendingRequests[T];if(!!k){var L=k.xhr;if(L.readyState>=2&&k.onHeadersReceived&&(k.onHeadersReceived(),delete k.onHeadersReceived),L.readyState===4&&T in this.pendingRequests){if(delete this.pendingRequests[T],L.status===0&&this.isHttp){var j;(j=k.onError)===null||j===void 0||j.call(k,L.status);return}var W=L.status||I,V=W===I&&k.expectedStatus===C;if(!V&&W!==k.expectedStatus){var te;(te=k.onError)===null||te===void 0||te.call(k,L.status);return}var q=M(L);if(W===C){var ae=L.getResponseHeader("Content-Range"),X=/bytes (\d+)-(\d+)\/(\d+)/.exec(ae);k.onDone({begin:parseInt(X[1],10),chunk:q})}else if(q)k.onDone({begin:0,chunk:q});else{var K;(K=k.onError)===null||K===void 0||K.call(k,L.status)}}}}},{key:"getRequestXhr",value:function(T){return this.pendingRequests[T].xhr}},{key:"isPendingRequest",value:function(T){return T in this.pendingRequests}},{key:"abortRequest",value:function(T){var _=this.pendingRequests[T].xhr;delete this.pendingRequests[T],_.abort()}}]),y}(),D=function(){function y(A){R(this,y),this._source=A,this._manager=new O(A.url,{httpHeaders:A.httpHeaders,withCredentials:A.withCredentials}),this._rangeChunkSize=A.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return E(y,[{key:"_onRangeRequestReaderClosed",value:function(T){var _=this._rangeRequestReaders.indexOf(T);_>=0&&this._rangeRequestReaders.splice(_,1)}},{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new p(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(T,_){var k=new h(this._manager,T,_);return k.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(k),k}},{key:"cancelAllRequests",value:function(T){var _;(_=this._fullRequestReader)===null||_===void 0||_.cancel(T);var k=f(this._rangeRequestReaders.slice(0)),L;try{for(k.s();!(L=k.n()).done;){var j=L.value;j.cancel(T)}}catch(W){k.e(W)}finally{k.f()}}}]),y}();r.PDFNetworkStream=D;var p=function(){function y(A,T){R(this,y),this._manager=A;var _={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=T.url,this._fullRequestId=A.requestFull(_),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=T.disableRange||!1,this._contentLength=T.length,this._rangeChunkSize=T.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return E(y,[{key:"_onHeadersReceived",value:function(){var T=this._fullRequestId,_=this._manager.getRequestXhr(T),k=function(te){return _.getResponseHeader(te)},L=(0,i.validateRangeRequestCapabilities)({getResponseHeader:k,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),j=L.allowRangeRequests,W=L.suggestedLength;j&&(this._isRangeSupported=!0),this._contentLength=W||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(k),this._isRangeSupported&&this._manager.abortRequest(T),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(T){if(T)if(this._requests.length>0){var _=this._requests.shift();_.resolve({value:T.chunk,done:!1})}else this._cachedChunks.push(T.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){var k=f(this._requests),L;try{for(k.s();!(L=k.n()).done;){var j=L.value;j.resolve({value:void 0,done:!0})}}catch(W){k.e(W)}finally{k.f()}this._requests.length=0}}},{key:"_onError",value:function(T){this._storedError=(0,i.createResponseStatusError)(T,this._url),this._headersReceivedCapability.reject(this._storedError);var _=f(this._requests),k;try{for(_.s();!(k=_.n()).done;){var L=k.value;L.reject(this._storedError)}}catch(j){_.e(j)}finally{_.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(T){var _;(_=this.onProgress)===null||_===void 0||_.call(this,{loaded:T.loaded,total:T.lengthComputable?T.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:function(){var A=l(n.default.mark(function _(){var k,L;return n.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(!this._storedError){W.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){W.next=5;break}return k=this._cachedChunks.shift(),W.abrupt("return",{value:k,done:!1});case 5:if(!this._done){W.next=7;break}return W.abrupt("return",{value:void 0,done:!0});case 7:return L=(0,a.createPromiseCapability)(),this._requests.push(L),W.abrupt("return",L.promise);case 10:case"end":return W.stop()}},_,this)}));function T(){return A.apply(this,arguments)}return T}()},{key:"cancel",value:function(T){this._done=!0,this._headersReceivedCapability.reject(T);var _=f(this._requests),k;try{for(_.s();!(k=_.n()).done;){var L=k.value;L.resolve({value:void 0,done:!0})}}catch(j){_.e(j)}finally{_.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),y}(),h=function(){function y(A,T,_){R(this,y),this._manager=A;var k={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=A.url,this._requestId=A.requestRange(T,_,k),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return E(y,[{key:"_close",value:function(){var T;(T=this.onClosed)===null||T===void 0||T.call(this,this)}},{key:"_onDone",value:function(T){var _=T.chunk;if(this._requests.length>0){var k=this._requests.shift();k.resolve({value:_,done:!1})}else this._queuedChunk=_;this._done=!0;var L=f(this._requests),j;try{for(L.s();!(j=L.n()).done;){var W=j.value;W.resolve({value:void 0,done:!0})}}catch(V){L.e(V)}finally{L.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(T){this._storedError=(0,i.createResponseStatusError)(T,this._url);var _=f(this._requests),k;try{for(_.s();!(k=_.n()).done;){var L=k.value;L.reject(this._storedError)}}catch(j){_.e(j)}finally{_.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(T){if(!this.isStreamingSupported){var _;(_=this.onProgress)===null||_===void 0||_.call(this,{loaded:T.loaded})}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var A=l(n.default.mark(function _(){var k,L;return n.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(!this._storedError){W.next=2;break}throw this._storedError;case 2:if(this._queuedChunk===null){W.next=6;break}return k=this._queuedChunk,this._queuedChunk=null,W.abrupt("return",{value:k,done:!1});case 6:if(!this._done){W.next=8;break}return W.abrupt("return",{value:void 0,done:!0});case 8:return L=(0,a.createPromiseCapability)(),this._requests.push(L),W.abrupt("return",L.promise);case 11:case"end":return W.stop()}},_,this)}));function T(){return A.apply(this,arguments)}return T}()},{key:"cancel",value:function(T){this._done=!0;var _=f(this._requests),k;try{for(_.s();!(k=_.n()).done;){var L=k.value;L.resolve({value:void 0,done:!0})}}catch(j){_.e(j)}finally{_.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),y}()},(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFFetchStream=void 0;var n=o(t(2)),a=t(4),i=t(154);function o(p){return p&&p.__esModule?p:{default:p}}function s(p,h,y,A,T,_,k){try{var L=p[_](k),j=L.value}catch(W){y(W);return}L.done?h(j):Promise.resolve(j).then(A,T)}function l(p){return function(){var h=this,y=arguments;return new Promise(function(A,T){var _=p.apply(h,y);function k(j){s(_,A,T,k,L,"next",j)}function L(j){s(_,A,T,k,L,"throw",j)}k(void 0)})}}function f(p,h){var y=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!y){if(Array.isArray(p)||(y=c(p))||h&&p&&typeof p.length=="number"){y&&(p=y);var A=0,T=function(){};return{s:T,n:function(){return A>=p.length?{done:!0}:{done:!1,value:p[A++]}},e:function(W){throw W},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,k=!1,L;return{s:function(){y=y.call(p)},n:function(){var W=y.next();return _=W.done,W},e:function(W){k=!0,L=W},f:function(){try{!_&&y.return!=null&&y.return()}finally{if(k)throw L}}}}function c(p,h){if(!!p){if(typeof p=="string")return w(p,h);var y=Object.prototype.toString.call(p).slice(8,-1);if(y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set")return Array.from(p);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return w(p,h)}}function w(p,h){(h==null||h>p.length)&&(h=p.length);for(var y=0,A=new Array(h);y<h;y++)A[y]=p[y];return A}function R(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function m(p,h){for(var y=0;y<h.length;y++){var A=h[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(p,A.key,A)}}function E(p,h,y){return h&&m(p.prototype,h),y&&m(p,y),p}function I(p,h,y){return{method:"GET",headers:p,signal:y==null?void 0:y.signal,mode:"cors",credentials:h?"include":"same-origin",redirect:"follow"}}function C(p){var h=new Headers;for(var y in p){var A=p[y];typeof A>"u"||h.append(y,A)}return h}var M=function(){function p(h){R(this,p),this.source=h,this.isHttp=/^https?:/i.test(h.url),this.httpHeaders=this.isHttp&&h.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return E(p,[{key:"_progressiveDataLength",get:function(){var y,A;return(y=(A=this._fullRequestReader)===null||A===void 0?void 0:A._loaded)!==null&&y!==void 0?y:0}},{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new O(this),this._fullRequestReader}},{key:"getRangeReader",value:function(y,A){if(A<=this._progressiveDataLength)return null;var T=new D(this,y,A);return this._rangeRequestReaders.push(T),T}},{key:"cancelAllRequests",value:function(y){this._fullRequestReader&&this._fullRequestReader.cancel(y);var A=f(this._rangeRequestReaders.slice(0)),T;try{for(A.s();!(T=A.n()).done;){var _=T.value;_.cancel(y)}}catch(k){A.e(k)}finally{A.f()}}}]),p}();r.PDFFetchStream=M;var O=function(){function p(h){var y=this;R(this,p),this._stream=h,this._reader=null,this._loaded=0,this._filename=null;var A=h.source;this._withCredentials=A.withCredentials||!1,this._contentLength=A.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=A.disableRange||!1,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._headers=C(this._stream.httpHeaders);var T=A.url;fetch(T,I(this._headers,this._withCredentials,this._abortController)).then(function(_){if(!(0,i.validateResponseStatus)(_.status))throw(0,i.createResponseStatusError)(_.status,T);y._reader=_.body.getReader(),y._headersCapability.resolve();var k=function(te){return _.headers.get(te)},L=(0,i.validateRangeRequestCapabilities)({getResponseHeader:k,isHttp:y._stream.isHttp,rangeChunkSize:y._rangeChunkSize,disableRange:y._disableRange}),j=L.allowRangeRequests,W=L.suggestedLength;y._isRangeSupported=j,y._contentLength=W||y._contentLength,y._filename=(0,i.extractFilenameFromHeader)(k),!y._isStreamingSupported&&y._isRangeSupported&&y.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return E(p,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var h=l(n.default.mark(function A(){var T,_,k,L;return n.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this._headersCapability.promise;case 2:return W.next=4,this._reader.read();case 4:if(T=W.sent,_=T.value,k=T.done,!k){W.next=9;break}return W.abrupt("return",{value:_,done:k});case 9:return this._loaded+=_.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),L=new Uint8Array(_).buffer,W.abrupt("return",{value:L,done:!1});case 13:case"end":return W.stop()}},A,this)}));function y(){return h.apply(this,arguments)}return y}()},{key:"cancel",value:function(y){this._reader&&this._reader.cancel(y),this._abortController&&this._abortController.abort()}}]),p}(),D=function(){function p(h,y,A){var T=this;R(this,p),this._stream=h,this._reader=null,this._loaded=0;var _=h.source;this._withCredentials=_.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!_.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=C(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(y,"-").concat(A-1));var k=_.url;fetch(k,I(this._headers,this._withCredentials,this._abortController)).then(function(L){if(!(0,i.validateResponseStatus)(L.status))throw(0,i.createResponseStatusError)(L.status,k);T._readCapability.resolve(),T._reader=L.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}return E(p,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var h=l(n.default.mark(function A(){var T,_,k,L;return n.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this._readCapability.promise;case 2:return W.next=4,this._reader.read();case 4:if(T=W.sent,_=T.value,k=T.done,!k){W.next=9;break}return W.abrupt("return",{value:_,done:k});case 9:return this._loaded+=_.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),L=new Uint8Array(_).buffer,W.abrupt("return",{value:L,done:!1});case 13:case"end":return W.stop()}},A,this)}));function y(){return h.apply(this,arguments)}return y}()},{key:"cancel",value:function(y){this._reader&&this._reader.cancel(y),this._abortController&&this._abortController.abort()}}]),p}()}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var r=__webpack_module_cache__[e];if(r!==void 0)return r.exports;var t=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__w_pdfjs_require__),t.loaded=!0,t.exports}__w_pdfjs_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return i.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"LinkTarget",{enumerable:!0,get:function(){return r.LinkTarget}}),Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return l.SVGGraphics}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return f.XfaLayer}}),Object.defineProperty(e,"addLinkAttributes",{enumerable:!0,get:function(){return r.addLinkAttributes}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createObjectURL",{enumerable:!0,get:function(){return t.createObjectURL}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(e,"removeNullCharacters",{enumerable:!0,get:function(){return t.removeNullCharacters}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var r=__w_pdfjs_require__(1),t=__w_pdfjs_require__(4),n=__w_pdfjs_require__(136),a=__w_pdfjs_require__(148),i=__w_pdfjs_require__(142),o=__w_pdfjs_require__(6),s=__w_pdfjs_require__(151),l=__w_pdfjs_require__(152),f=__w_pdfjs_require__(150);if(o.isNodeJS){var c=__w_pdfjs_require__(153),w=c.PDFNodeStream;(0,n.setPDFNetworkStreamFactory)(function(C){return new w(C)})}else{var R=__w_pdfjs_require__(156),m=R.PDFNetworkStream,E=__w_pdfjs_require__(157),I=E.PDFFetchStream;(0,n.setPDFNetworkStreamFactory)(function(C){return(0,r.isValidFetchUrl)(C.url)?new I(C):new m(C)})}})(),__webpack_exports__})()})})(pdf);function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function _objectWithoutProperties(e,r){if(e==null)return{};var t=_objectWithoutPropertiesLoose(e,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}function _typeof(e){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(e)}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_setPrototypeOf(e,r)}function _inherits(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&_setPrototypeOf(e,r)}function _possibleConstructorReturn(e,r){if(r&&(_typeof(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(e)}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var propTypes={exports:{}},reactIs={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var e=typeof Symbol=="function"&&Symbol.for,r=e?Symbol.for("react.element"):60103,t=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,c=e?Symbol.for("react.forward_ref"):60112,w=e?Symbol.for("react.suspense"):60113,R=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,E=e?Symbol.for("react.lazy"):60116,I=e?Symbol.for("react.block"):60121,C=e?Symbol.for("react.fundamental"):60117,M=e?Symbol.for("react.responder"):60118,O=e?Symbol.for("react.scope"):60119;function D(h){if(typeof h=="object"&&h!==null){var y=h.$$typeof;switch(y){case r:switch(h=h.type,h){case l:case f:case n:case i:case a:case w:return h;default:switch(h=h&&h.$$typeof,h){case s:case c:case E:case m:case o:return h;default:return y}}case t:return y}}}function p(h){return D(h)===f}return reactIs_production_min.AsyncMode=l,reactIs_production_min.ConcurrentMode=f,reactIs_production_min.ContextConsumer=s,reactIs_production_min.ContextProvider=o,reactIs_production_min.Element=r,reactIs_production_min.ForwardRef=c,reactIs_production_min.Fragment=n,reactIs_production_min.Lazy=E,reactIs_production_min.Memo=m,reactIs_production_min.Portal=t,reactIs_production_min.Profiler=i,reactIs_production_min.StrictMode=a,reactIs_production_min.Suspense=w,reactIs_production_min.isAsyncMode=function(h){return p(h)||D(h)===l},reactIs_production_min.isConcurrentMode=p,reactIs_production_min.isContextConsumer=function(h){return D(h)===s},reactIs_production_min.isContextProvider=function(h){return D(h)===o},reactIs_production_min.isElement=function(h){return typeof h=="object"&&h!==null&&h.$$typeof===r},reactIs_production_min.isForwardRef=function(h){return D(h)===c},reactIs_production_min.isFragment=function(h){return D(h)===n},reactIs_production_min.isLazy=function(h){return D(h)===E},reactIs_production_min.isMemo=function(h){return D(h)===m},reactIs_production_min.isPortal=function(h){return D(h)===t},reactIs_production_min.isProfiler=function(h){return D(h)===i},reactIs_production_min.isStrictMode=function(h){return D(h)===a},reactIs_production_min.isSuspense=function(h){return D(h)===w},reactIs_production_min.isValidElementType=function(h){return typeof h=="string"||typeof h=="function"||h===n||h===f||h===i||h===a||h===w||h===R||typeof h=="object"&&h!==null&&(h.$$typeof===E||h.$$typeof===m||h.$$typeof===o||h.$$typeof===s||h.$$typeof===c||h.$$typeof===C||h.$$typeof===M||h.$$typeof===O||h.$$typeof===I)},reactIs_production_min.typeOf=D,reactIs_production_min}var reactIs_development={},hasRequiredReactIs_development;function requireReactIs_development(){return hasRequiredReactIs_development||(hasRequiredReactIs_development=1,browser$1.env.NODE_ENV!=="production"&&function(){var e=typeof Symbol=="function"&&Symbol.for,r=e?Symbol.for("react.element"):60103,t=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,c=e?Symbol.for("react.forward_ref"):60112,w=e?Symbol.for("react.suspense"):60113,R=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,E=e?Symbol.for("react.lazy"):60116,I=e?Symbol.for("react.block"):60121,C=e?Symbol.for("react.fundamental"):60117,M=e?Symbol.for("react.responder"):60118,O=e?Symbol.for("react.scope"):60119;function D(b){return typeof b=="string"||typeof b=="function"||b===n||b===f||b===i||b===a||b===w||b===R||typeof b=="object"&&b!==null&&(b.$$typeof===E||b.$$typeof===m||b.$$typeof===o||b.$$typeof===s||b.$$typeof===c||b.$$typeof===C||b.$$typeof===M||b.$$typeof===O||b.$$typeof===I)}function p(b){if(typeof b=="object"&&b!==null){var g=b.$$typeof;switch(g){case r:var x=b.type;switch(x){case l:case f:case n:case i:case a:case w:return x;default:var z=x&&x.$$typeof;switch(z){case s:case c:case E:case m:case o:return z;default:return g}}case t:return g}}}var h=l,y=f,A=s,T=o,_=r,k=c,L=n,j=E,W=m,V=t,te=i,q=a,ae=w,X=!1;function K(b){return X||(X=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),P(b)||p(b)===l}function P(b){return p(b)===f}function S(b){return p(b)===s}function F(b){return p(b)===o}function N(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function G(b){return p(b)===c}function ee(b){return p(b)===n}function Y(b){return p(b)===E}function he(b){return p(b)===m}function Se(b){return p(b)===t}function we(b){return p(b)===i}function $(b){return p(b)===a}function U(b){return p(b)===w}reactIs_development.AsyncMode=h,reactIs_development.ConcurrentMode=y,reactIs_development.ContextConsumer=A,reactIs_development.ContextProvider=T,reactIs_development.Element=_,reactIs_development.ForwardRef=k,reactIs_development.Fragment=L,reactIs_development.Lazy=j,reactIs_development.Memo=W,reactIs_development.Portal=V,reactIs_development.Profiler=te,reactIs_development.StrictMode=q,reactIs_development.Suspense=ae,reactIs_development.isAsyncMode=K,reactIs_development.isConcurrentMode=P,reactIs_development.isContextConsumer=S,reactIs_development.isContextProvider=F,reactIs_development.isElement=N,reactIs_development.isForwardRef=G,reactIs_development.isFragment=ee,reactIs_development.isLazy=Y,reactIs_development.isMemo=he,reactIs_development.isPortal=Se,reactIs_development.isProfiler=we,reactIs_development.isStrictMode=$,reactIs_development.isSuspense=U,reactIs_development.isValidElementType=D,reactIs_development.typeOf=p}()),reactIs_development}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,function(e){browser$1.env.NODE_ENV==="production"?e.exports=requireReactIs_production_min():e.exports=requireReactIs_development()}(reactIs)),reactIs.exports}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var objectAssign,hasRequiredObjectAssign;function requireObjectAssign(){if(hasRequiredObjectAssign)return objectAssign;hasRequiredObjectAssign=1;var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function n(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function a(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var o={},s=0;s<10;s++)o["_"+String.fromCharCode(s)]=s;var l=Object.getOwnPropertyNames(o).map(function(c){return o[c]});if(l.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(c){f[c]=c}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return objectAssign=a()?Object.assign:function(i,o){for(var s,l=n(i),f,c=1;c<arguments.length;c++){s=Object(arguments[c]);for(var w in s)r.call(s,w)&&(l[w]=s[w]);if(e){f=e(s);for(var R=0;R<f.length;R++)t.call(s,f[R])&&(l[f[R]]=s[f[R]])}}return l},objectAssign}var ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=e,ReactPropTypesSecret_1}var has,hasRequiredHas;function requireHas(){return hasRequiredHas||(hasRequiredHas=1,has=Function.call.bind(Object.prototype.hasOwnProperty)),has}var checkPropTypes_1,hasRequiredCheckPropTypes;function requireCheckPropTypes(){if(hasRequiredCheckPropTypes)return checkPropTypes_1;hasRequiredCheckPropTypes=1;var e=function(){};if(browser$1.env.NODE_ENV!=="production"){var r=requireReactPropTypesSecret(),t={},n=requireHas();e=function(i){var o="Warning: "+i;typeof console<"u"&&console.error(o);try{throw new Error(o)}catch{}}}function a(i,o,s,l,f){if(browser$1.env.NODE_ENV!=="production"){for(var c in i)if(n(i,c)){var w;try{if(typeof i[c]!="function"){var R=Error((l||"React class")+": "+s+" type `"+c+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof i[c]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw R.name="Invariant Violation",R}w=i[c](o,c,l,s,null,r)}catch(E){w=E}if(w&&!(w instanceof Error)&&e((l||"React class")+": type specification of "+s+" `"+c+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof w+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),w instanceof Error&&!(w.message in t)){t[w.message]=!0;var m=f?f():"";e("Failed "+s+" type: "+w.message+(m!=null?m:""))}}}}return a.resetWarningCache=function(){browser$1.env.NODE_ENV!=="production"&&(t={})},checkPropTypes_1=a,checkPropTypes_1}var factoryWithTypeCheckers,hasRequiredFactoryWithTypeCheckers;function requireFactoryWithTypeCheckers(){if(hasRequiredFactoryWithTypeCheckers)return factoryWithTypeCheckers;hasRequiredFactoryWithTypeCheckers=1;var e=requireReactIs(),r=requireObjectAssign(),t=requireReactPropTypesSecret(),n=requireHas(),a=requireCheckPropTypes(),i=function(){};browser$1.env.NODE_ENV!=="production"&&(i=function(s){var l="Warning: "+s;typeof console<"u"&&console.error(l);try{throw new Error(l)}catch{}});function o(){return null}return factoryWithTypeCheckers=function(s,l){var f=typeof Symbol=="function"&&Symbol.iterator,c="@@iterator";function w(P){var S=P&&(f&&P[f]||P[c]);if(typeof S=="function")return S}var R="<<anonymous>>",m={array:M("array"),bigint:M("bigint"),bool:M("boolean"),func:M("function"),number:M("number"),object:M("object"),string:M("string"),symbol:M("symbol"),any:O(),arrayOf:D,element:p(),elementType:h(),instanceOf:y,node:k(),objectOf:T,oneOf:A,oneOfType:_,shape:j,exact:W};function E(P,S){return P===S?P!==0||1/P===1/S:P!==P&&S!==S}function I(P,S){this.message=P,this.data=S&&typeof S=="object"?S:{},this.stack=""}I.prototype=Error.prototype;function C(P){if(browser$1.env.NODE_ENV!=="production")var S={},F=0;function N(ee,Y,he,Se,we,$,U){if(Se=Se||R,$=$||he,U!==t){if(l){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}else if(browser$1.env.NODE_ENV!=="production"&&typeof console<"u"){var g=Se+":"+he;!S[g]&&F<3&&(i("You are manually calling a React.PropTypes validation function for the `"+$+"` prop on `"+Se+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),S[g]=!0,F++)}}return Y[he]==null?ee?Y[he]===null?new I("The "+we+" `"+$+"` is marked as required "+("in `"+Se+"`, but its value is `null`.")):new I("The "+we+" `"+$+"` is marked as required in "+("`"+Se+"`, but its value is `undefined`.")):null:P(Y,he,Se,we,$)}var G=N.bind(null,!1);return G.isRequired=N.bind(null,!0),G}function M(P){function S(F,N,G,ee,Y,he){var Se=F[N],we=q(Se);if(we!==P){var $=ae(Se);return new I("Invalid "+ee+" `"+Y+"` of type "+("`"+$+"` supplied to `"+G+"`, expected ")+("`"+P+"`."),{expectedType:P})}return null}return C(S)}function O(){return C(o)}function D(P){function S(F,N,G,ee,Y){if(typeof P!="function")return new I("Property `"+Y+"` of component `"+G+"` has invalid PropType notation inside arrayOf.");var he=F[N];if(!Array.isArray(he)){var Se=q(he);return new I("Invalid "+ee+" `"+Y+"` of type "+("`"+Se+"` supplied to `"+G+"`, expected an array."))}for(var we=0;we<he.length;we++){var $=P(he,we,G,ee,Y+"["+we+"]",t);if($ instanceof Error)return $}return null}return C(S)}function p(){function P(S,F,N,G,ee){var Y=S[F];if(!s(Y)){var he=q(Y);return new I("Invalid "+G+" `"+ee+"` of type "+("`"+he+"` supplied to `"+N+"`, expected a single ReactElement."))}return null}return C(P)}function h(){function P(S,F,N,G,ee){var Y=S[F];if(!e.isValidElementType(Y)){var he=q(Y);return new I("Invalid "+G+" `"+ee+"` of type "+("`"+he+"` supplied to `"+N+"`, expected a single ReactElement type."))}return null}return C(P)}function y(P){function S(F,N,G,ee,Y){if(!(F[N]instanceof P)){var he=P.name||R,Se=K(F[N]);return new I("Invalid "+ee+" `"+Y+"` of type "+("`"+Se+"` supplied to `"+G+"`, expected ")+("instance of `"+he+"`."))}return null}return C(S)}function A(P){if(!Array.isArray(P))return browser$1.env.NODE_ENV!=="production"&&(arguments.length>1?i("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):i("Invalid argument supplied to oneOf, expected an array.")),o;function S(F,N,G,ee,Y){for(var he=F[N],Se=0;Se<P.length;Se++)if(E(he,P[Se]))return null;var we=JSON.stringify(P,function(U,b){var g=ae(b);return g==="symbol"?String(b):b});return new I("Invalid "+ee+" `"+Y+"` of value `"+String(he)+"` "+("supplied to `"+G+"`, expected one of "+we+"."))}return C(S)}function T(P){function S(F,N,G,ee,Y){if(typeof P!="function")return new I("Property `"+Y+"` of component `"+G+"` has invalid PropType notation inside objectOf.");var he=F[N],Se=q(he);if(Se!=="object")return new I("Invalid "+ee+" `"+Y+"` of type "+("`"+Se+"` supplied to `"+G+"`, expected an object."));for(var we in he)if(n(he,we)){var $=P(he,we,G,ee,Y+"."+we,t);if($ instanceof Error)return $}return null}return C(S)}function _(P){if(!Array.isArray(P))return browser$1.env.NODE_ENV!=="production"&&i("Invalid argument supplied to oneOfType, expected an instance of array."),o;for(var S=0;S<P.length;S++){var F=P[S];if(typeof F!="function")return i("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+X(F)+" at index "+S+"."),o}function N(G,ee,Y,he,Se){for(var we=[],$=0;$<P.length;$++){var U=P[$],b=U(G,ee,Y,he,Se,t);if(b==null)return null;b.data&&n(b.data,"expectedType")&&we.push(b.data.expectedType)}var g=we.length>0?", expected one of type ["+we.join(", ")+"]":"";return new I("Invalid "+he+" `"+Se+"` supplied to "+("`"+Y+"`"+g+"."))}return C(N)}function k(){function P(S,F,N,G,ee){return V(S[F])?null:new I("Invalid "+G+" `"+ee+"` supplied to "+("`"+N+"`, expected a ReactNode."))}return C(P)}function L(P,S,F,N,G){return new I((P||"React class")+": "+S+" type `"+F+"."+N+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+G+"`.")}function j(P){function S(F,N,G,ee,Y){var he=F[N],Se=q(he);if(Se!=="object")return new I("Invalid "+ee+" `"+Y+"` of type `"+Se+"` "+("supplied to `"+G+"`, expected `object`."));for(var we in P){var $=P[we];if(typeof $!="function")return L(G,ee,Y,we,ae($));var U=$(he,we,G,ee,Y+"."+we,t);if(U)return U}return null}return C(S)}function W(P){function S(F,N,G,ee,Y){var he=F[N],Se=q(he);if(Se!=="object")return new I("Invalid "+ee+" `"+Y+"` of type `"+Se+"` "+("supplied to `"+G+"`, expected `object`."));var we=r({},F[N],P);for(var $ in we){var U=P[$];if(n(P,$)&&typeof U!="function")return L(G,ee,Y,$,ae(U));if(!U)return new I("Invalid "+ee+" `"+Y+"` key `"+$+"` supplied to `"+G+"`.\nBad object: "+JSON.stringify(F[N],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(P),null,"  "));var b=U(he,$,G,ee,Y+"."+$,t);if(b)return b}return null}return C(S)}function V(P){switch(typeof P){case"number":case"string":case"undefined":return!0;case"boolean":return!P;case"object":if(Array.isArray(P))return P.every(V);if(P===null||s(P))return!0;var S=w(P);if(S){var F=S.call(P),N;if(S!==P.entries){for(;!(N=F.next()).done;)if(!V(N.value))return!1}else for(;!(N=F.next()).done;){var G=N.value;if(G&&!V(G[1]))return!1}}else return!1;return!0;default:return!1}}function te(P,S){return P==="symbol"?!0:S?S["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&S instanceof Symbol:!1}function q(P){var S=typeof P;return Array.isArray(P)?"array":P instanceof RegExp?"object":te(S,P)?"symbol":S}function ae(P){if(typeof P>"u"||P===null)return""+P;var S=q(P);if(S==="object"){if(P instanceof Date)return"date";if(P instanceof RegExp)return"regexp"}return S}function X(P){var S=ae(P);switch(S){case"array":case"object":return"an "+S;case"boolean":case"date":case"regexp":return"a "+S;default:return S}}function K(P){return!P.constructor||!P.constructor.name?R:P.constructor.name}return m.checkPropTypes=a,m.resetWarningCache=a.resetWarningCache,m.PropTypes=m,m},factoryWithTypeCheckers}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var e=requireReactPropTypesSecret();function r(){}function t(){}return t.resetWarningCache=r,factoryWithThrowingShims=function(){function n(o,s,l,f,c,w){if(w!==e){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:r};return i.PropTypes=i,i},factoryWithThrowingShims}if(browser$1.env.NODE_ENV!=="production"){var ReactIs=requireReactIs(),throwOnDirectAccess=!0;propTypes.exports=requireFactoryWithTypeCheckers()(ReactIs.isElement,throwOnDirectAccess)}else propTypes.exports=requireFactoryWithThrowingShims()();var clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],focusEvents=["onFocus","onBlur"],formEvents=["onChange","onInput","onInvalid","onReset","onSubmit"],genericEvents=["onError","onLoad"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],uiEvents=["onScroll"],wheelEvents=["onWheel"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],imageEvents=["onLoad","onError"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],allEvents=[].concat(clipboardEvents,compositionEvents,keyboardEvents,focusEvents,formEvents,genericEvents,mouseEvents,pointerEvents,selectionEvents,touchEvents,uiEvents,wheelEvents,mediaEvents,imageEvents,animationEvents,transitionEvents,otherEvents),makeEventProps=function e(r,t){var n={};return allEvents.forEach(function(a){if(a in r){if(!t){n[a]=r[a];return}n[a]=function(i){return r[a](i,t(a))}}}),n};function makeCancellablePromise(e){var r=!1,t=new Promise(function(n,a){e.then(function(){return!r&&n.apply(void 0,arguments)}).catch(function(i){return!r&&a(i)})});return{promise:t,cancel:function(){r=!0}}}function mergeClassNames(){return Array.prototype.slice.call(arguments).reduce(function(e,r){return e.concat(r)},[]).filter(function(e){return typeof e=="string"}).join(" ")}var isProduction$1=browser$1.env.NODE_ENV==="production",prefix="Invariant failed";function invariant(e,r){if(!e){if(isProduction$1)throw new Error(prefix);var t=typeof r=="function"?r():r,n=t?prefix+": "+t:prefix;throw new Error(n)}}var isProduction=browser$1.env.NODE_ENV==="production";function warning(e,r){if(!isProduction){if(e)return;var t="Warning: "+r;typeof console<"u"&&console.warn(t);try{throw Error(t)}catch{}}}const DocumentContext=React.createContext(null);function Message(e){var r=e.children,t=e.type;return React__default.default.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(t)},r)}Message.propTypes={children:propTypes.exports.node,type:propTypes.exports.oneOf(["error","loading","no-data"]).isRequired};var DEFAULT_LINK_REL="noopener noreferrer nofollow",LinkService=function(){function e(){_classCallCheck(this,e),this.externalLinkTarget=null,this.externalLinkRel=null}return _createClass(e,[{key:"setDocument",value:function(t){this.pdfDocument=t}},{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setExternalLinkRel",value:function(t){this.externalLinkRel=t}},{key:"setExternalLinkTarget",value:function(t){this.externalLinkTarget=t}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(t){this.pdfViewer.currentPageNumber=t}},{key:"rotation",get:function(){return 0},set:function(t){}},{key:"goToDestination",value:function(t){var n=this;new Promise(function(a){typeof t=="string"?n.pdfDocument.getDestination(t).then(a):Array.isArray(t)?a(t):t.then(a)}).then(function(a){invariant(Array.isArray(a),'"'.concat(a,'" is not a valid destination array.'));var i=a[0];new Promise(function(o){i instanceof Object?n.pdfDocument.getPageIndex(i).then(function(s){o(s)}).catch(function(){invariant(!1,'"'.concat(i,'" is not a valid page reference.'))}):typeof i=="number"?o(i):invariant(!1,'"'.concat(i,'" is not a valid destination reference.'))}).then(function(o){var s=o+1;invariant(s>=1&&s<=n.pagesCount,'"'.concat(s,'" is not a valid page number.')),n.pdfViewer.scrollPageIntoView({dest:t,pageIndex:o,pageNumber:s})})})}},{key:"navigateTo",value:function(t){this.goToDestination(t)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(t,n,a){t.href=n,t.rel=this.externalLinkRel||DEFAULT_LINK_REL,t.target=a?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),e}(),PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],a=!0,i=!1,o,s;try{for(t=t.call(e);!(a=(o=t.next()).done)&&(n.push(o.value),!(r&&n.length===r));a=!0);}catch(l){i=!0,s=l}finally{try{!a&&t.return!=null&&t.return()}finally{if(i)throw s}}return n}}function _arrayLikeToArray(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _unsupportedIterableToArray(e,r){if(!!e){if(typeof e=="string")return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(e,r)}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_unsupportedIterableToArray(e,r)||_nonIterableRest()}var isBrowser=typeof window<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(e){return typeof e<"u"}function isProvided(e){return isDefined(e)&&e!==null}function isString(e){return typeof e=="string"}function isArrayBuffer(e){return e instanceof ArrayBuffer}function isBlob(e){return invariant(isBrowser,"isBlob can only be used in a browser environment"),e instanceof Blob}function isFile$1(e){return invariant(isBrowser,"isFile can only be used in a browser environment"),e instanceof File}function isDataURI(e){return isString(e)&&/^data:/.test(e)}function dataURItoByteString(e){invariant(isDataURI(e),"Invalid data URI.");var r=e.split(","),t=_slicedToArray(r,2),n=t[0],a=t[1],i=n.split(";");return i.indexOf("base64")!==-1?atob(a):unescape(a)}function getPixelRatio(){return isBrowser&&window.devicePixelRatio||1}var allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning(!isLocalFileSystem,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}function displayWorkerWarning(){warning(!isLocalFileSystem,"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}function cancelRunningTask(e){e&&e.cancel&&e.cancel()}function makePageCallback(e,r){return Object.defineProperty(e,"width",{get:function(){return this.view[2]*r},configurable:!0}),Object.defineProperty(e,"height",{get:function(){return this.view[3]*r},configurable:!0}),Object.defineProperty(e,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),e}function isCancelException(e){return e.name==="RenderingCancelledException"}function loadFromFile(e){return new Promise(function(r,t){var n=new FileReader;return n.onload=function(){return r(new Uint8Array(n.result))},n.onerror=function(a){switch(a.target.error.code){case a.target.error.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case a.target.error.NOT_READABLE_ERR:return t(new Error("Error while reading a file: File not readable."));case a.target.error.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case a.target.error.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(e),null})}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}var eventProps=function(){var e={};return[].concat(_toConsumableArray(mouseEvents),_toConsumableArray(touchEvents),_toConsumableArray(keyboardEvents)).forEach(function(r){e[r]=propTypes.exports.func}),e}(),fileTypes=[propTypes.exports.string,propTypes.exports.instanceOf(ArrayBuffer),propTypes.exports.shape({data:propTypes.exports.oneOfType([propTypes.exports.object,propTypes.exports.string]),httpHeaders:propTypes.exports.object,range:propTypes.exports.object,url:propTypes.exports.string,withCredentials:propTypes.exports.bool})];typeof File<"u"&&fileTypes.push(propTypes.exports.instanceOf(File)),typeof Blob<"u"&&fileTypes.push(propTypes.exports.instanceOf(Blob));var isClassName=propTypes.exports.oneOfType([propTypes.exports.string,propTypes.exports.arrayOf(propTypes.exports.string)]),isFile=propTypes.exports.oneOfType(fileTypes),isLinkService=propTypes.exports.instanceOf(LinkService);propTypes.exports.oneOf(["_self","_blank","_parent","_top"]);var isPage=propTypes.exports.shape({_transport:propTypes.exports.shape({fontLoader:propTypes.exports.object.isRequired}).isRequired,commonObjs:propTypes.exports.shape({_objs:propTypes.exports.object.isRequired}).isRequired,getAnnotations:propTypes.exports.func.isRequired,getTextContent:propTypes.exports.func.isRequired,getViewport:propTypes.exports.func.isRequired,render:propTypes.exports.func.isRequired}),isPageIndex=function e(r,t,n){var a=r[t],i=r.pageNumber,o=r.pdf;if(!isDefined(o))return null;if(isDefined(a)){if(typeof a!="number")return new Error("`".concat(t,"` of type `").concat(_typeof(a),"` supplied to `").concat(n,"`, expected `number`."));if(a<0)return new Error("Expected `".concat(t,"` to be greater or equal to 0."));var s=o.numPages;if(a+1>s)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(s-1,"."))}else if(!isDefined(i))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},isPageNumber=function e(r,t,n){var a=r[t],i=r.pageIndex,o=r.pdf;if(!isDefined(o))return null;if(isDefined(a)){if(typeof a!="number")return new Error("`".concat(t,"` of type `").concat(_typeof(a),"` supplied to `").concat(n,"`, expected `number`."));if(a<1)return new Error("Expected `".concat(t,"` to be greater or equal to 1."));var s=o.numPages;if(a>s)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(s,"."))}else if(!isDefined(i))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},isPdf=propTypes.exports.oneOfType([propTypes.exports.shape({getDestination:propTypes.exports.func.isRequired,getOutline:propTypes.exports.func.isRequired,getPage:propTypes.exports.func.isRequired,numPages:propTypes.exports.number.isRequired}),propTypes.exports.bool]),isRef=propTypes.exports.oneOfType([propTypes.exports.func,propTypes.exports.shape({current:propTypes.exports.any})]),isRenderMode=propTypes.exports.oneOf(["canvas","none","svg"]),isRotate=propTypes.exports.oneOf([0,90,180,270]),_excluded=["url"];function ownKeys$2(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function _objectSpread$2(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ownKeys$2(Object(t),!0).forEach(function(n){_defineProperty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys$2(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _createSuper$6(e){var r=_isNativeReflectConstruct$6();return function(){var n=_getPrototypeOf(e),a;if(r){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PDFDataRangeTransport=pdf.exports.PDFDataRangeTransport,Document=function(e){_inherits(t,e);var r=_createSuper$6(t);function t(){var n;_classCallCheck(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r.call.apply(r,[this].concat(i)),_defineProperty(_assertThisInitialized(n),"state",{pdf:null}),_defineProperty(_assertThisInitialized(n),"viewer",{scrollPageIntoView:function(l){var f=l.dest,c=l.pageIndex,w=l.pageNumber,R=n.props.onItemClick;if(R){R({dest:f,pageIndex:c,pageNumber:w});return}var m=n.pages[c];if(m){m.scrollIntoView();return}warning(!1,"An internal link leading to page ".concat(w," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}),_defineProperty(_assertThisInitialized(n),"linkService",new LinkService),_defineProperty(_assertThisInitialized(n),"loadDocument",function(){cancelRunningTask(n.runningTask),n.loadingTask&&n.loadingTask.destroy();var s=makeCancellablePromise(n.findDocumentSource());n.runningTask=s,s.promise.then(function(l){if(n.onSourceSuccess(),!!l){n.setState(function(E){return E.pdf?{pdf:null}:null});var f=n.props,c=f.options,w=f.onLoadProgress,R=f.onPassword;n.loadingTask=pdf.exports.getDocument(_objectSpread$2(_objectSpread$2({},l),c)),n.loadingTask.onPassword=R,w&&(n.loadingTask.onProgress=w);var m=makeCancellablePromise(n.loadingTask.promise);n.runningTask=m,m.promise.then(function(E){n.setState(function(I){return I.pdf&&I.pdf.fingerprint===E.fingerprint?null:{pdf:E}},n.onLoadSuccess)}).catch(function(E){n.onLoadError(E)})}}).catch(function(l){n.onSourceError(l)})}),_defineProperty(_assertThisInitialized(n),"setupLinkService",function(){var s=n.props,l=s.externalLinkRel,f=s.externalLinkTarget;n.linkService.setViewer(n.viewer),n.linkService.setExternalLinkRel(l),n.linkService.setExternalLinkTarget(f)}),_defineProperty(_assertThisInitialized(n),"onSourceSuccess",function(){var s=n.props.onSourceSuccess;s&&s()}),_defineProperty(_assertThisInitialized(n),"onSourceError",function(s){warning(s);var l=n.props.onSourceError;l&&l(s)}),_defineProperty(_assertThisInitialized(n),"onLoadSuccess",function(){var s=n.props.onLoadSuccess,l=n.state.pdf;s&&s(l),n.pages=new Array(l.numPages),n.linkService.setDocument(l)}),_defineProperty(_assertThisInitialized(n),"onLoadError",function(s){n.setState({pdf:!1}),warning(s);var l=n.props.onLoadError;l&&l(s)}),_defineProperty(_assertThisInitialized(n),"findDocumentSource",function(){return new Promise(function(s){var l=n.props.file;if(l||s(null),typeof l=="string"){if(isDataURI(l)){var f=dataURItoByteString(l);s({data:f})}displayCORSWarning(),s({url:l})}if(l instanceof PDFDataRangeTransport&&s({range:l}),isArrayBuffer(l)&&s({data:l}),isBrowser&&(isBlob(l)||isFile$1(l))){loadFromFile(l).then(function(m){s({data:m})});return}if(invariant(_typeof(l)==="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant(l.url||l.data||l.range,"Invalid parameter object: need either .data, .range or .url"),typeof l.url=="string"){if(isDataURI(l.url)){var c=l.url,w=_objectWithoutProperties(l,_excluded),R=dataURItoByteString(c);s(_objectSpread$2({data:R},w))}displayCORSWarning()}s(l)})}),_defineProperty(_assertThisInitialized(n),"registerPage",function(s,l){n.pages[s]=l}),_defineProperty(_assertThisInitialized(n),"unregisterPage",function(s){delete n.pages[s]}),n}return _createClass(t,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(a){var i=this.props.file;i!==a.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var a=this.linkService,i=this.registerPage,o=this.unregisterPage,s=this.props,l=s.imageResourcesPath,f=s.renderMode,c=s.rotate,w=this.state.pdf;return{imageResourcesPath:l,linkService:a,pdf:w,registerPage:i,renderMode:f,rotate:c,unregisterPage:o}}},{key:"eventProps",get:function(){var a=this;return makeEventProps(this.props,function(){return a.state.pdf})}},{key:"renderChildren",value:function(){var a=this.props.children;return React__default.default.createElement(DocumentContext.Provider,{value:this.childContext},a)}},{key:"renderContent",value:function(){var a=this.props.file,i=this.state.pdf;if(!a){var o=this.props.noData;return React__default.default.createElement(Message,{type:"no-data"},typeof o=="function"?o():o)}if(i===null){var s=this.props.loading;return React__default.default.createElement(Message,{type:"loading"},typeof s=="function"?s():s)}if(i===!1){var l=this.props.error;return React__default.default.createElement(Message,{type:"error"},typeof l=="function"?l():l)}return this.renderChildren()}},{key:"render",value:function(){var a=this.props,i=a.className,o=a.inputRef;return React__default.default.createElement("div",_extends({className:mergeClassNames("react-pdf__Document",i),ref:o},this.eventProps),this.renderContent())}}]),t}(React.PureComponent);Document.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF\u2026",noData:"No PDF file specified.",onPassword:function e(r,t){switch(t){case PasswordResponses.NEED_PASSWORD:{var n=prompt("Enter the password to open this PDF file.");r(n);break}case PasswordResponses.INCORRECT_PASSWORD:{var a=prompt("Invalid password. Please try again.");r(a);break}}}};var isFunctionOrNode$1=propTypes.exports.oneOfType([propTypes.exports.func,propTypes.exports.node]);Document.propTypes=_objectSpread$2(_objectSpread$2({},eventProps),{},{children:propTypes.exports.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:propTypes.exports.string,externalLinkTarget:propTypes.exports.string,file:isFile,imageResourcesPath:propTypes.exports.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:propTypes.exports.func,onLoadError:propTypes.exports.func,onLoadProgress:propTypes.exports.func,onLoadSuccess:propTypes.exports.func,onPassword:propTypes.exports.func,onSourceError:propTypes.exports.func,onSourceSuccess:propTypes.exports.func,rotate:propTypes.exports.number});var isDestination=propTypes.exports.oneOfType([propTypes.exports.string,propTypes.exports.arrayOf(propTypes.exports.any)]);propTypes.exports.shape({dest:isDestination,items:propTypes.exports.arrayOf(propTypes.exports.shape({dest:isDestination,title:propTypes.exports.string})),title:propTypes.exports.string}).isRequired,propTypes.exports.func,isPdf.isRequired;function ownKeys$1(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function _objectSpread$1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ownKeys$1(Object(t),!0).forEach(function(n){_defineProperty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys$1(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}_objectSpread$1({className:isClassName,inputRef:isRef,onItemClick:propTypes.exports.func,onLoadError:propTypes.exports.func,onLoadSuccess:propTypes.exports.func,pdf:isPdf},eventProps);function mergeRefs(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var n=r.filter(Boolean);return n.length<=1?n[0]:function(i){n.forEach(function(o){typeof o=="function"?o(i):o.current=i})}}const PageContext=React.createContext(null);function _createSuper$5(e){var r=_isNativeReflectConstruct$5();return function(){var n=_getPrototypeOf(e),a;if(r){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ANNOTATION_MODE=pdf.exports.AnnotationMode,PageCanvasInternal=function(e){_inherits(t,e);var r=_createSuper$5(t);function t(){var n;_classCallCheck(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r.call.apply(r,[this].concat(i)),_defineProperty(_assertThisInitialized(n),"canvasElement",React.createRef()),_defineProperty(_assertThisInitialized(n),"onRenderSuccess",function(){n.renderer=null;var s=n.props,l=s.onRenderSuccess,f=s.page,c=s.scale;l&&l(makePageCallback(f,c))}),_defineProperty(_assertThisInitialized(n),"onRenderError",function(s){if(!isCancelException(s)){warning(s);var l=n.props.onRenderError;l&&l(s)}}),_defineProperty(_assertThisInitialized(n),"drawPageOnCanvas",function(){var s=n.canvasElement.current;if(!s)return null;var l=_assertThisInitialized(n),f=l.renderViewport,c=l.viewport,w=n.props,R=w.canvasBackground,m=w.page,E=w.renderForms;s.width=f.width,s.height=f.height,s.style.width="".concat(Math.floor(c.width),"px"),s.style.height="".concat(Math.floor(c.height),"px");var I={annotationMode:E?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,get canvasContext(){return s.getContext("2d")},viewport:f};return R&&(I.background=R),n.cancelRenderingTask(),n.renderer=m.render(I),n.renderer.promise.then(n.onRenderSuccess).catch(n.onRenderError)}),n}return _createClass(t,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.canvasBackground,s=i.page,l=i.renderForms;(o!==a.canvasBackground||l!==a.renderForms)&&(s.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask();var a=this.canvasElement.current;a&&(a.width=0,a.height=0)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"renderViewport",get:function(){var a=this.props,i=a.page,o=a.rotate,s=a.scale,l=getPixelRatio();return i.getViewport({scale:s*l,rotation:o})}},{key:"viewport",get:function(){var a=this.props,i=a.page,o=a.rotate,s=a.scale;return i.getViewport({scale:s,rotation:o})}},{key:"render",value:function(){var a=this.props.canvasRef;return React__default.default.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:mergeRefs(a,this.canvasElement),style:{display:"block",userSelect:"none"}})}}]),t}(React.PureComponent);PageCanvasInternal.propTypes={canvasBackground:propTypes.exports.string,canvasRef:isRef,onRenderError:propTypes.exports.func,onRenderSuccess:propTypes.exports.func,page:isPage.isRequired,renderForms:propTypes.exports.bool,rotate:isRotate,scale:propTypes.exports.number.isRequired};function PageCanvas(e){return React__default.default.createElement(PageContext.Consumer,null,function(r){return React__default.default.createElement(PageCanvasInternal,_extends({},r,e))})}function _createSuper$4(e){var r=_isNativeReflectConstruct$4();return function(){var n=_getPrototypeOf(e),a;if(r){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PageSVGInternal=function(e){_inherits(t,e);var r=_createSuper$4(t);function t(){var n;_classCallCheck(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r.call.apply(r,[this].concat(i)),_defineProperty(_assertThisInitialized(n),"state",{svg:null}),_defineProperty(_assertThisInitialized(n),"onRenderSuccess",function(){n.renderer=null;var s=n.props,l=s.onRenderSuccess,f=s.page,c=s.scale;l&&l(makePageCallback(f,c))}),_defineProperty(_assertThisInitialized(n),"onRenderError",function(s){if(!isCancelException(s)){warning(s);var l=n.props.onRenderError;l&&l(s)}}),_defineProperty(_assertThisInitialized(n),"renderSVG",function(){var s=n.props.page;return n.renderer=s.getOperatorList(),n.renderer.then(function(l){var f=new pdf.exports.SVGGraphics(s.commonObjs,s.objs);n.renderer=f.getSVG(l,n.viewport).then(function(c){n.setState({svg:c},n.onRenderSuccess)}).catch(n.onRenderError)}).catch(n.onRenderError)}),_defineProperty(_assertThisInitialized(n),"drawPageOnContainer",function(s){var l=n.state.svg;if(!(!s||!l)){s.firstElementChild||s.appendChild(l);var f=n.viewport,c=f.width,w=f.height;l.setAttribute("width",c),l.setAttribute("height",w)}}),n}return _createClass(t,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var a=this.props,i=a.page,o=a.rotate,s=a.scale;return i.getViewport({scale:s,rotation:o})}},{key:"render",value:function(){var a=this,i=this.viewport,o=i.width,s=i.height;return React__default.default.createElement("div",{className:"react-pdf__Page__svg",ref:function(f){return a.drawPageOnContainer(f)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:o,height:s,userSelect:"none"}})}}]),t}(React.PureComponent);PageSVGInternal.propTypes={onRenderError:propTypes.exports.func,onRenderSuccess:propTypes.exports.func,page:isPage.isRequired,rotate:isRotate,scale:propTypes.exports.number.isRequired};function PageSVG(e){return React__default.default.createElement(PageContext.Consumer,null,function(r){return React__default.default.createElement(PageSVGInternal,_extends({},r,e))})}function _createSuper$3(e){var r=_isNativeReflectConstruct$3();return function(){var n=_getPrototypeOf(e),a;if(r){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var TextLayerItemInternal=function(e){_inherits(t,e);var r=_createSuper$3(t);function t(){var n;_classCallCheck(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r.call.apply(r,[this].concat(i)),_defineProperty(_assertThisInitialized(n),"itemElement",React.createRef()),_defineProperty(_assertThisInitialized(n),"getElementWidth",function(s){var l=_assertThisInitialized(n),f=l.sideways;return s.getBoundingClientRect()[f?"height":"width"]}),n}return _createClass(t,[{key:"componentDidMount",value:function(){this.alignTextItem()}},{key:"componentDidUpdate",value:function(){this.alignTextItem()}},{key:"unrotatedViewport",get:function(){var a=this.props,i=a.page,o=a.scale;return i.getViewport({scale:o})}},{key:"rotate",get:function(){var a=this.props,i=a.page,o=a.rotate;return o-i.rotate}},{key:"sideways",get:function(){var a=this.rotate;return a%180!==0}},{key:"defaultSideways",get:function(){var a=this.unrotatedViewport.rotation;return a%180!==0}},{key:"fontSize",get:function(){var a=this.props.transform,i=this.defaultSideways,o=_slicedToArray(a,2),s=o[0],l=o[1];return i?l:s}},{key:"top",get:function(){var a=this.props.transform,i=this.unrotatedViewport,o=this.defaultSideways,s=_slicedToArray(a,6),l=s[2],f=s[3],c=s[4],w=s[5],R=_slicedToArray(i.viewBox,4),m=R[1],E=R[3];return o?c+l+m:E-(w+f)}},{key:"left",get:function(){var a=this.props.transform,i=this.unrotatedViewport,o=this.defaultSideways,s=_slicedToArray(a,6),l=s[4],f=s[5],c=_slicedToArray(i.viewBox,1),w=c[0];return o?f-w:l-w}},{key:"getFontData",value:function(a){var i=this.props.page;return new Promise(function(o){i.commonObjs.get(a,o)})}},{key:"alignTextItem",value:function(){var a=this,i=this.itemElement.current;if(!!i){i.style.transform="";var o=this.props,s=o.fontName,l=o.scale,f=o.width;i.style.fontFamily="".concat(s,", sans-serif"),this.getFontData(s).then(function(c){var w=c?c.fallbackName:"sans-serif";i.style.fontFamily="".concat(s,", ").concat(w);var R=f*l,m=a.getElementWidth(i),E="scaleX(".concat(R/m,")"),I=c?c.ascent:0;I&&(E+=" translateY(".concat((1-I)*100,"%)")),i.style.transform=E,i.style.WebkitTransform=E})}}},{key:"render",value:function(){var a=this.fontSize,i=this.top,o=this.left,s=this.props,l=s.customTextRenderer,f=s.scale,c=s.str;return React__default.default.createElement("span",{ref:this.itemElement,style:{height:"1em",fontFamily:"sans-serif",fontSize:"".concat(a*f,"px"),position:"absolute",top:"".concat(i*f,"px"),left:"".concat(o*f,"px"),transformOrigin:"left bottom",whiteSpace:"pre",pointerEvents:"all"}},l?l(this.props):c)}}]),t}(React.PureComponent);TextLayerItemInternal.propTypes={customTextRenderer:propTypes.exports.func,fontName:propTypes.exports.string.isRequired,itemIndex:propTypes.exports.number.isRequired,page:isPage.isRequired,rotate:isRotate,scale:propTypes.exports.number,str:propTypes.exports.string.isRequired,transform:propTypes.exports.arrayOf(propTypes.exports.number).isRequired,width:propTypes.exports.number.isRequired};function TextLayerItem(e){return React__default.default.createElement(PageContext.Consumer,null,function(r){return React__default.default.createElement(TextLayerItemInternal,_extends({},r,e))})}function _createSuper$2(e){var r=_isNativeReflectConstruct$2();return function(){var n=_getPrototypeOf(e),a;if(r){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var TextLayerInternal=function(e){_inherits(t,e);var r=_createSuper$2(t);function t(){var n;_classCallCheck(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r.call.apply(r,[this].concat(i)),_defineProperty(_assertThisInitialized(n),"state",{textItems:null}),_defineProperty(_assertThisInitialized(n),"loadTextItems",function(){var s=n.props.page,l=makeCancellablePromise(s.getTextContent());n.runningTask=l,l.promise.then(function(f){var c=f.items;n.setState({textItems:c},n.onLoadSuccess)}).catch(function(f){n.onLoadError(f)})}),_defineProperty(_assertThisInitialized(n),"onLoadSuccess",function(){var s=n.props.onGetTextSuccess,l=n.state.textItems;s&&s(l)}),_defineProperty(_assertThisInitialized(n),"onLoadError",function(s){n.setState({textItems:!1}),warning(s);var l=n.props.onGetTextError;l&&l(s)}),n}return _createClass(t,[{key:"componentDidMount",value:function(){var a=this.props.page;invariant(a,"Attempted to load page text content, but no page was specified."),this.loadTextItems()}},{key:"componentDidUpdate",value:function(a){var i=this.props.page;a.page&&i!==a.page&&this.loadTextItems()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask)}},{key:"unrotatedViewport",get:function(){var a=this.props,i=a.page,o=a.scale;return i.getViewport({scale:o})}},{key:"rotate",get:function(){var a=this.props,i=a.page,o=a.rotate;return o-i.rotate}},{key:"renderTextItems",value:function(){var a=this.state.textItems;return a?a.map(function(i,o){return React__default.default.createElement(TextLayerItem,_extends({key:o,itemIndex:o},i))}):null}},{key:"render",value:function(){var a=this.unrotatedViewport,i=this.rotate;return React__default.default.createElement("div",{className:"react-pdf__Page__textContent",style:{position:"absolute",top:"50%",left:"50%",width:"".concat(a.width,"px"),height:"".concat(a.height,"px"),color:"transparent",transform:"translate(-50%, -50%) rotate(".concat(i,"deg)"),WebkitTransform:"translate(-50%, -50%) rotate(".concat(i,"deg)"),pointerEvents:"none"}},this.renderTextItems())}}]),t}(React.PureComponent);TextLayerInternal.propTypes={onGetTextError:propTypes.exports.func,onGetTextSuccess:propTypes.exports.func,page:isPage.isRequired,rotate:isRotate,scale:propTypes.exports.number};function TextLayer(e){return React__default.default.createElement(PageContext.Consumer,null,function(r){return React__default.default.createElement(TextLayerInternal,_extends({},r,e))})}function _createSuper$1(e){var r=_isNativeReflectConstruct$1();return function(){var n=_getPrototypeOf(e),a;if(r){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var AnnotationLayerInternal=function(e){_inherits(t,e);var r=_createSuper$1(t);function t(){var n;_classCallCheck(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r.call.apply(r,[this].concat(i)),_defineProperty(_assertThisInitialized(n),"state",{annotations:null}),_defineProperty(_assertThisInitialized(n),"layerElement",React.createRef()),_defineProperty(_assertThisInitialized(n),"loadAnnotations",function(){var s=n.props.page,l=makeCancellablePromise(s.getAnnotations());n.runningTask=l,l.promise.then(function(f){n.setState({annotations:f},n.onLoadSuccess)}).catch(function(f){n.onLoadError(f)})}),_defineProperty(_assertThisInitialized(n),"onLoadSuccess",function(){var s=n.props.onGetAnnotationsSuccess,l=n.state.annotations;s&&s(l)}),_defineProperty(_assertThisInitialized(n),"onLoadError",function(s){n.setState({annotations:!1}),warning(s);var l=n.props.onGetAnnotationsError;l&&l(s)}),_defineProperty(_assertThisInitialized(n),"onRenderSuccess",function(){var s=n.props.onRenderAnnotationLayerSuccess;s&&s()}),_defineProperty(_assertThisInitialized(n),"onRenderError",function(s){warning(s);var l=n.props.onRenderAnnotationLayerError;l&&l(s)}),n}return _createClass(t,[{key:"componentDidMount",value:function(){var a=this.props.page;invariant(a,"Attempted to load page annotations, but no page was specified."),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.page,s=i.renderForms;(a.page&&o!==a.page||s!==a.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask)}},{key:"viewport",get:function(){var a=this.props,i=a.page,o=a.rotate,s=a.scale;return i.getViewport({scale:s,rotation:o})}},{key:"renderAnnotationLayer",value:function(){var a=this.state.annotations;if(!!a){var i=this.props,o=i.imageResourcesPath,s=i.linkService,l=i.page,f=i.renderForms,c=this.viewport.clone({dontFlip:!0}),w={annotations:a,div:this.layerElement.current,imageResourcesPath:o,linkService:s,page:l,renderForms:f,viewport:c};this.layerElement.current.innerHTML="";try{pdf.exports.AnnotationLayer.render(w),this.onRenderSuccess()}catch(R){this.onRenderError(R)}}}},{key:"render",value:function(){return React__default.default.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:this.layerElement},this.renderAnnotationLayer())}}]),t}(React.PureComponent);AnnotationLayerInternal.propTypes={imageResourcesPath:propTypes.exports.string,linkService:isLinkService.isRequired,onGetAnnotationsError:propTypes.exports.func,onGetAnnotationsSuccess:propTypes.exports.func,onRenderAnnotationLayerError:propTypes.exports.func,onRenderAnnotationLayerSuccess:propTypes.exports.func,page:isPage,renderForms:propTypes.exports.bool,rotate:isRotate,scale:propTypes.exports.number};var AnnotationLayer=function e(r){return React__default.default.createElement(DocumentContext.Consumer,null,function(t){return React__default.default.createElement(PageContext.Consumer,null,function(n){return React__default.default.createElement(AnnotationLayerInternal,_extends({},t,n,r))})})};function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(n){_defineProperty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _createSuper(e){var r=_isNativeReflectConstruct();return function(){var n=_getPrototypeOf(e),a;if(r){var i=_getPrototypeOf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var defaultScale=1,PageInternal=function(e){_inherits(t,e);var r=_createSuper(t);function t(){var n;_classCallCheck(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r.call.apply(r,[this].concat(i)),_defineProperty(_assertThisInitialized(n),"state",{page:null}),_defineProperty(_assertThisInitialized(n),"pageElement",React.createRef()),_defineProperty(_assertThisInitialized(n),"onLoadSuccess",function(){var s=n.props,l=s.onLoadSuccess,f=s.registerPage,c=n.state.page;l&&l(makePageCallback(c,n.scale)),f&&f(n.pageIndex,n.pageElement.current)}),_defineProperty(_assertThisInitialized(n),"onLoadError",function(s){n.setState({page:!1}),warning(s);var l=n.props.onLoadError;l&&l(s)}),_defineProperty(_assertThisInitialized(n),"loadPage",function(){var s=n.props.pdf,l=n.getPageNumber();if(!!l){n.setState(function(c){return c.page?{page:null}:null});var f=makeCancellablePromise(s.getPage(l));n.runningTask=f,f.promise.then(function(c){n.setState({page:c},n.onLoadSuccess)}).catch(function(c){n.onLoadError(c)})}}),n}return _createClass(t,[{key:"componentDidMount",value:function(){var a=this.props.pdf;invariant(a,"Attempted to load a page, but no document was specified."),this.loadPage()}},{key:"componentDidUpdate",value:function(a){var i=this.props.pdf;if(a.pdf&&i!==a.pdf||this.getPageNumber()!==this.getPageNumber(a)){var o=this.props.unregisterPage;o&&o(this.getPageIndex(a)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var a=this.props.unregisterPage;a&&a(this.pageIndex),cancelRunningTask(this.runningTask)}},{key:"childContext",get:function(){var a=this.state.page;if(!a)return{};var i=this.props,o=i.canvasBackground,s=i.customTextRenderer,l=i.onGetAnnotationsError,f=i.onGetAnnotationsSuccess,c=i.onGetTextError,w=i.onGetTextSuccess,R=i.onRenderAnnotationLayerError,m=i.onRenderAnnotationLayerSuccess,E=i.onRenderError,I=i.onRenderSuccess,C=i.renderForms,M=i.renderInteractiveForms;return{canvasBackground:o,customTextRenderer:s,onGetAnnotationsError:l,onGetAnnotationsSuccess:f,onGetTextError:c,onGetTextSuccess:w,onRenderAnnotationLayerError:R,onRenderAnnotationLayerSuccess:m,onRenderError:E,onRenderSuccess:I,page:a,renderForms:C!=null?C:M,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return isProvided(a.pageNumber)?a.pageNumber-1:isProvided(a.pageIndex)?a.pageIndex:null}},{key:"getPageNumber",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return isProvided(a.pageNumber)?a.pageNumber:isProvided(a.pageIndex)?a.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var a=this.props.rotate;if(isProvided(a))return a;var i=this.state.page;return i?i.rotate:null}},{key:"scale",get:function(){var a=this.state.page;if(!a)return null;var i=this.props,o=i.scale,s=i.width,l=i.height,f=this.rotate,c=1,w=o===null?defaultScale:o;if(s||l){var R=a.getViewport({scale:1,rotation:f});c=s?s/R.width:l/R.height}return w*c}},{key:"eventProps",get:function(){var a=this;return makeEventProps(this.props,function(){var i=a.state.page;return i&&makePageCallback(i,a.scale)})}},{key:"pageKey",get:function(){var a=this.state.page;return"".concat(a.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){var a=this.state.page;return"".concat(a.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var a=this.props,i=a.canvasRef,o=a.renderMode;switch(o){case"none":return null;case"svg":return React__default.default.createElement(PageSVG,{key:"".concat(this.pageKeyNoScale,"_svg")});case"canvas":default:return React__default.default.createElement(PageCanvas,{key:"".concat(this.pageKey,"_canvas"),canvasRef:i})}}},{key:"renderTextLayer",value:function(){var a=this.props.renderTextLayer;return a?React__default.default.createElement(TextLayer,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){var a=this.props.renderAnnotationLayer;return a?React__default.default.createElement(AnnotationLayer,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var a=this.props.children;return React__default.default.createElement(PageContext.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),a)}},{key:"renderContent",value:function(){var a=this.pageNumber,i=this.props.pdf,o=this.state.page;if(!a){var s=this.props.noData;return React__default.default.createElement(Message,{type:"no-data"},typeof s=="function"?s():s)}if(i===null||o===null){var l=this.props.loading;return React__default.default.createElement(Message,{type:"loading"},typeof l=="function"?l():l)}if(i===!1||o===!1){var f=this.props.error;return React__default.default.createElement(Message,{type:"error"},typeof f=="function"?f():f)}return this.renderChildren()}},{key:"render",value:function(){var a=this.pageNumber,i=this.props,o=i.className,s=i.inputRef;return React__default.default.createElement("div",_extends({className:mergeClassNames("react-pdf__Page",o),"data-page-number":a,ref:mergeRefs(s,this.pageElement),style:{position:"relative"}},this.eventProps),this.renderContent())}}]),t}(React.PureComponent);PageInternal.defaultProps={error:"Failed to load the page.",loading:"Loading page\u2026",noData:"No page specified.",renderAnnotationLayer:!0,renderForms:!1,renderMode:"canvas",renderTextLayer:!0,scale:defaultScale};var isFunctionOrNode=propTypes.exports.oneOfType([propTypes.exports.func,propTypes.exports.node]);PageInternal.propTypes=_objectSpread(_objectSpread({},eventProps),{},{canvasBackground:propTypes.exports.string,children:propTypes.exports.node,className:isClassName,customTextRenderer:propTypes.exports.func,error:isFunctionOrNode,height:propTypes.exports.number,imageResourcesPath:propTypes.exports.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:propTypes.exports.func,onGetTextSuccess:propTypes.exports.func,onLoadError:propTypes.exports.func,onLoadSuccess:propTypes.exports.func,onRenderError:propTypes.exports.func,onRenderSuccess:propTypes.exports.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,registerPage:propTypes.exports.func,renderAnnotationLayer:propTypes.exports.bool,renderForms:propTypes.exports.bool,renderInteractiveForms:propTypes.exports.bool,renderMode:isRenderMode,renderTextLayer:propTypes.exports.bool,rotate:isRotate,scale:propTypes.exports.number,unregisterPage:propTypes.exports.func,width:propTypes.exports.number});function Page(e,r){return React__default.default.createElement(DocumentContext.Consumer,null,function(t){return React__default.default.createElement(PageInternal,_extends({ref:r},t,e))})}const Page$1=React__default.default.forwardRef(Page);displayWorkerWarning(),pdf.exports.GlobalWorkerOptions.workerSrc="pdf.worker.js";/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var extendStatics=function(e,r){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},extendStatics(e,r)};function __extends(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var __assign$1=function(){return __assign$1=Object.assign||function(r){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},__assign$1.apply(this,arguments)};function __spreadArray(e,r,t){if(t||arguments.length===2)for(var n=0,a=r.length,i;n<a;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return e.concat(i||r)}var roundNumber=function(e,r){return Number(e.toFixed(r))},checkIsNumber=function(e,r){return typeof e=="number"?e:r},handleCallback=function(e,r,t){t&&typeof t=="function"&&t(e,r)},easeOut=function(e){return-Math.cos(e*Math.PI)/2+.5},linear=function(e){return e},easeInQuad=function(e){return e*e},easeOutQuad=function(e){return e*(2-e)},easeInOutQuad=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic=function(e){return e*e*e},easeOutCubic=function(e){return--e*e*e+1},easeInOutCubic=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart=function(e){return e*e*e*e},easeOutQuart=function(e){return 1- --e*e*e*e},easeInOutQuart=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint=function(e){return e*e*e*e*e},easeOutQuint=function(e){return 1+--e*e*e*e*e},easeInOutQuint=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},animations={easeOut,linear,easeInQuad,easeOutQuad,easeInOutQuad,easeInCubic,easeOutCubic,easeInOutCubic,easeInQuart,easeOutQuart,easeInOutQuart,easeInQuint,easeOutQuint,easeInOutQuint},handleCancelAnimationFrame=function(e){typeof e=="number"&&cancelAnimationFrame(e)},handleCancelAnimation=function(e){!e.mounted||(handleCancelAnimationFrame(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function handleSetupAnimation(e,r,t,n){if(!!e.mounted){var a=new Date().getTime(),i=1;handleCancelAnimation(e),e.animation=function(){if(!e.mounted)return handleCancelAnimationFrame(e.animation);var o=new Date().getTime()-a,s=o/t,l=animations[r],f=l(s);o>=t?(n(i),e.animation=null):e.animation&&(n(f),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function animate(e,r,t,n){var a=isValidTargetState(r);if(!(!e.mounted||!a)){var i=e.setTransformState,o=e.transformState,s=o.scale,l=o.positionX,f=o.positionY,c=r.scale-s,w=r.positionX-l,R=r.positionY-f;t===0?i(r.scale,r.positionX,r.positionY):handleSetupAnimation(e,n,t,function(m){var E=s+c*m,I=l+w*m,C=f+R*m;i(E,I,C)})}}function isValidTargetState(e){var r=e.scale,t=e.positionX,n=e.positionY;return!(isNaN(r)||isNaN(t)||isNaN(n))}function getComponentsSizes(e,r,t){var n=e.offsetWidth,a=e.offsetHeight,i=r.offsetWidth,o=r.offsetHeight,s=i*t,l=o*t,f=n-s,c=a-l;return{wrapperWidth:n,wrapperHeight:a,newContentWidth:s,newDiffWidth:f,newContentHeight:l,newDiffHeight:c}}var getBounds=function(e,r,t,n,a,i,o){var s=e>r?t*(o?1:.5):0,l=n>a?i*(o?1:.5):0,f=e-r-s,c=s,w=n-a-l,R=l;return{minPositionX:f,maxPositionX:c,minPositionY:w,maxPositionY:R}},calculateBounds=function(e,r){var t=e.wrapperComponent,n=e.contentComponent,a=e.setup.centerZoomedOut;if(!t||!n)throw new Error("Components are not mounted");var i=getComponentsSizes(t,n,r),o=i.wrapperWidth,s=i.wrapperHeight,l=i.newContentWidth,f=i.newDiffWidth,c=i.newContentHeight,w=i.newDiffHeight,R=getBounds(o,l,f,s,c,w,Boolean(a));return R},handleCalculateBounds=function(e,r){var t=calculateBounds(e,r);return e.bounds=t,t};function getMouseBoundedPosition(e,r,t,n,a,i,o){var s=t.minPositionX,l=t.minPositionY,f=t.maxPositionX,c=t.maxPositionY,w=0,R=0;o&&(w=a,R=i);var m=boundLimiter(e,s-w,f+w,n),E=boundLimiter(r,l-R,c+R,n);return{x:m,y:E}}var boundLimiter=function(e,r,t,n){return n?e<r?roundNumber(r,2):e>t?roundNumber(t,2):roundNumber(e,2):roundNumber(e,2)};function handleCalculateZoomPositions(e,r,t,n,a,i){var o=e.transformState,s=o.scale,l=o.positionX,f=o.positionY,c=n-s;if(typeof r!="number"||typeof t!="number")return console.error("Mouse X and Y position were not provided!"),{x:l,y:f};var w=l-r*c,R=f-t*c,m=getMouseBoundedPosition(w,R,a,i,0,0,null);return m}function checkZoomBounds(e,r,t,n,a){var i=a?n:0,o=r-i;return!isNaN(t)&&e>=t?t:!isNaN(r)&&e<=o?o:e}var isPanningStartAllowed=function(e,r){var t=e.setup.panning.excluded,n=e.isInitialized,a=e.wrapperComponent,i=r.target,o=a==null?void 0:a.contains(i),s=n&&i&&o;if(!s)return!1;var l=isExcludedNode(i,t);return!l},isPanningAllowed=function(e){var r=e.isInitialized,t=e.isPanning,n=e.setup,a=n.panning.disabled,i=r&&t&&!a;return!!i},handlePanningSetup=function(e,r){var t=e.transformState,n=t.positionX,a=t.positionY;e.isPanning=!0;var i=r.clientX,o=r.clientY;e.startCoords={x:i-n,y:o-a}},handleTouchPanningSetup=function(e,r){var t=r.touches,n=e.transformState,a=n.positionX,i=n.positionY;e.isPanning=!0;var o=t.length===1;if(o){var s=t[0].clientX,l=t[0].clientY;e.startCoords={x:s-a,y:l-i}}};function handlePanToBounds(e){var r=e.transformState,t=r.positionX,n=r.positionY,a=r.scale,i=e.setup,o=i.disabled,s=i.limitToBounds,l=i.centerZoomedOut,f=e.wrapperComponent;if(!(o||!f||!e.bounds)){var c=e.bounds,w=c.maxPositionX,R=c.minPositionX,m=c.maxPositionY,E=c.minPositionY,I=t>w||t<R,C=n>m||n<E,M=t>w?f.offsetWidth:e.setup.minPositionX||0,O=n>m?f.offsetHeight:e.setup.minPositionY||0,D=handleCalculateZoomPositions(e,M,O,a,e.bounds,s||l),p=D.x,h=D.y;return{scale:a,positionX:I?p:t,positionY:C?h:n}}}function handleNewPosition(e,r,t,n,a){var i=e.setup.limitToBounds,o=e.wrapperComponent,s=e.bounds,l=e.transformState,f=l.scale,c=l.positionX,w=l.positionY,R=r!==c,m=t!==w,E=!R||!m;if(!(!o||E||!s)){var I=getMouseBoundedPosition(r,t,s,i,n,a,o),C=I.x,M=I.y;e.setTransformState(f,C,M)}}var getPanningClientPosition=function(e,r,t){var n=e.startCoords,a=e.transformState,i=e.setup.panning,o=i.lockAxisX,s=i.lockAxisY,l=a.positionX,f=a.positionY;if(!n)return{x:l,y:f};var c=r-n.x,w=t-n.y,R=o?l:c,m=s?f:w;return{x:R,y:m}},getPaddingValue=function(e,r){var t=e.setup,n=e.transformState,a=n.scale,i=t.minScale;return r>0&&a>=i?r:0},isVelocityCalculationAllowed=function(e){var r=e.mounted,t=e.setup,n=t.disabled,a=t.velocityAnimation,i=e.transformState.scale,o=a.disabled,s=!o||i>1||!n||r;return!!s},isVelocityAllowed=function(e){var r=e.mounted,t=e.velocity,n=e.bounds,a=e.setup,i=a.disabled,o=a.velocityAnimation,s=e.transformState.scale,l=o.disabled,f=!l||s>1||!i||r;return!(!f||!t||!n)};function getVelocityMoveTime(e,r){var t=e.setup.velocityAnimation,n=t.equalToMove,a=t.animationTime,i=t.sensitivity;return n?a*r*i:a}function getVelocityPosition(e,r,t,n,a,i,o,s,l,f){if(a){if(r>o&&t>o){var c=o+(e-o)*f;return c>l?l:c<o?o:c}if(r<i&&t<i){var c=i+(e-i)*f;return c<s?s:c>i?i:c}}return n?r:boundLimiter(e,i,o,a)}function getSizeMultiplier(e,r){var t=1;return r?Math.min(t,e.offsetWidth/window.innerWidth):t}function handleCalculateVelocity(e,r){var t=isVelocityCalculationAllowed(e);if(!!t){var n=e.lastMousePosition,a=e.velocityTime,i=e.setup,o=e.wrapperComponent,s=i.velocityAnimation.equalToMove,l=Date.now();if(n&&a&&o){var f=getSizeMultiplier(o,s),c=r.x-n.x,w=r.y-n.y,R=c/f,m=w/f,E=l-a,I=c*c+w*w,C=Math.sqrt(I)/E;e.velocity={velocityX:R,velocityY:m,total:C}}e.lastMousePosition=r,e.velocityTime=l}}function handleVelocityPanning(e){var r=e.velocity,t=e.bounds,n=e.setup,a=e.wrapperComponent,i=isVelocityAllowed(e);if(!(!i||!r||!t||!a)){var o=r.velocityX,s=r.velocityY,l=r.total,f=t.maxPositionX,c=t.minPositionX,w=t.maxPositionY,R=t.minPositionY,m=n.limitToBounds,E=n.alignmentAnimation,I=n.zoomAnimation,C=n.panning,M=C.lockAxisY,O=C.lockAxisX,D=I.animationType,p=E.sizeX,h=E.sizeY,y=E.velocityAlignmentTime,A=y,T=getVelocityMoveTime(e,l),_=Math.max(T,A),k=getPaddingValue(e,p),L=getPaddingValue(e,h),j=k*a.offsetWidth/100,W=L*a.offsetHeight/100,V=f+j,te=c-j,q=w+W,ae=R-W,X=e.transformState,K=new Date().getTime();handleSetupAnimation(e,D,_,function(P){var S=e.transformState,F=S.scale,N=S.positionX,G=S.positionY,ee=new Date().getTime()-K,Y=ee/A,he=animations[E.animationType],Se=1-he(Math.min(1,Y)),we=1-P,$=N+o*we,U=G+s*we,b=getVelocityPosition($,X.positionX,N,O,m,c,f,te,V,Se),g=getVelocityPosition(U,X.positionY,G,M,m,R,w,ae,q,Se);(N!==$||G!==U)&&e.setTransformState(F,b,g)})}}function handlePanningStart(e,r){var t=e.transformState.scale;handleCancelAnimation(e),handleCalculateBounds(e,t),r.touches?handleTouchPanningSetup(e,r):handlePanningSetup(e,r)}function handlePanning(e,r,t){var n=e.startCoords,a=e.setup,i=a.alignmentAnimation,o=i.sizeX,s=i.sizeY;if(!!n){var l=getPanningClientPosition(e,r,t),f=l.x,c=l.y,w=getPaddingValue(e,o),R=getPaddingValue(e,s);handleCalculateVelocity(e,{x:f,y:c}),handleNewPosition(e,f,c,w,R)}}function handlePanningEnd(e){if(e.isPanning){var r=e.setup.panning.velocityDisabled,t=e.velocity,n=e.wrapperComponent,a=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var i=n==null?void 0:n.getBoundingClientRect(),o=a==null?void 0:a.getBoundingClientRect(),s=(i==null?void 0:i.width)||0,l=(i==null?void 0:i.height)||0,f=(o==null?void 0:o.width)||0,c=(o==null?void 0:o.height)||0,w=s<f||l<c,R=!r&&t&&(t==null?void 0:t.total)>.1&&w;R?handleVelocityPanning(e):handleAlignToBounds(e)}}function handleAlignToBounds(e){var r=e.transformState.scale,t=e.setup,n=t.minScale,a=t.alignmentAnimation,i=a.disabled,o=a.sizeX,s=a.sizeY,l=a.animationTime,f=a.animationType,c=i||r<n||!o&&!s;if(!c){var w=handlePanToBounds(e);w&&animate(e,w,l,f)}}function handleAlignToScaleBounds(e,r,t){var n=e.transformState.scale,a=e.wrapperComponent,i=e.setup,o=i.minScale,s=i.limitToBounds,l=i.zoomAnimation,f=l.disabled,c=l.animationTime,w=l.animationType,R=f||n>=o;if((n>=1||s)&&handleAlignToBounds(e),!(R||!a||!e.mounted)){var m=r||a.offsetWidth/2,E=t||a.offsetHeight/2,I=handleZoomToPoint(e,o,m,E);I&&animate(e,I,c,w)}}function handleZoomToPoint(e,r,t,n){var a=e.setup,i=a.minScale,o=a.maxScale,s=a.limitToBounds,l=checkZoomBounds(roundNumber(r,2),i,o,0,!1),f=handleCalculateBounds(e,l),c=handleCalculateZoomPositions(e,t,n,l,f,s),w=c.x,R=c.y;return{scale:l,positionX:w,positionY:R}}var initialState={previousScale:1,scale:1,positionX:0,positionY:0},contextInitialState=__assign$1(__assign$1({},initialState),{setComponents:function(){},contextInstance:null}),initialSetup={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,wheel:{step:.2,disabled:!1,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},createState=function(e){var r,t,n,a;return{previousScale:(r=e.initialScale)!==null&&r!==void 0?r:initialState.scale,scale:(t=e.initialScale)!==null&&t!==void 0?t:initialState.scale,positionX:(n=e.initialPositionX)!==null&&n!==void 0?n:initialState.positionX,positionY:(a=e.initialPositionY)!==null&&a!==void 0?a:initialState.positionY}},createSetup=function(e){var r=__assign$1({},initialSetup);return Object.keys(e).forEach(function(t){var n=typeof e[t]<"u",a=typeof initialSetup[t]<"u";if(a&&n){var i=Object.prototype.toString.call(initialSetup[t]),o=i==="[object Object]",s=i==="[object Array]";o?r[t]=__assign$1(__assign$1({},initialSetup[t]),e[t]):s?r[t]=__spreadArray(__spreadArray([],initialSetup[t]),e[t]):r[t]=e[t]}}),r},handleCalculateButtonZoom=function(e,r,t){var n=e.transformState.scale,a=e.wrapperComponent,i=e.setup,o=i.maxScale,s=i.minScale,l=i.zoomAnimation,f=l.size;if(!a)throw new Error("Wrapper is not mounted");var c=n*Math.exp(r*t),w=checkZoomBounds(roundNumber(c,3),s,o,f,!1);return w};function handleZoomToViewCenter(e,r,t,n,a){var i=e.wrapperComponent,o=e.transformState,s=o.scale,l=o.positionX,f=o.positionY;if(!i)return console.error("No WrapperComponent found");var c=i.offsetWidth,w=i.offsetHeight,R=(c/2-l)/s,m=(w/2-f)/s,E=handleCalculateButtonZoom(e,r,t),I=handleZoomToPoint(e,E,R,m);if(!I)return console.error("Error during zoom event. New transformation state was not calculated.");animate(e,I,n,a)}function resetTransformations(e,r,t){var n=e.setup,a=e.wrapperComponent,i=n.limitToBounds,o=createState(e.props),s=e.transformState,l=s.scale,f=s.positionX,c=s.positionY;if(!!a){var w=calculateBounds(e,o.scale),R=getMouseBoundedPosition(o.positionX,o.positionY,w,i,0,0,a),m={scale:o.scale,positionX:R.x,positionY:R.y};l===o.scale&&f===o.positionX&&c===o.positionY||animate(e,m,r,t)}}function calculateZoomToNode(e,r,t){var n=e.wrapperComponent,a=e.setup,i=a.limitToBounds,o=a.minScale,s=a.maxScale;if(!n)return initialState;var l=n.getBoundingClientRect(),f=getOffset(r),c=f.x,w=f.y,R=r.offsetWidth,m=r.offsetHeight,E=n.offsetWidth/R,I=n.offsetHeight/m,C=checkZoomBounds(t||Math.min(E,I),o,s,0,!1),M=(l.width-R*C)/2,O=(l.height-m*C)/2,D=(l.left-c)*C+M,p=(l.top-w)*C+O,h=calculateBounds(e,C),y=getMouseBoundedPosition(D,p,h,i,0,0,n),A=y.x,T=y.y;return{positionX:A,positionY:T,scale:C}}function getOffset(e){for(var r=e,t=0,n=0;r;)t+=r.offsetLeft,n+=r.offsetTop,r=r.offsetParent;return{x:t,y:n}}function isValidZoomNode(e){if(e){if((e==null?void 0:e.offsetWidth)===void 0||(e==null?void 0:e.offsetHeight)===void 0)return console.error("Zoom node is not valid - it must contain offsetWidth and offsetHeight"),!1}else return console.error("Zoom node not found"),!1;return!0}var zoomIn=function(e){return function(r,t,n){r===void 0&&(r=.5),t===void 0&&(t=300),n===void 0&&(n="easeOut"),handleZoomToViewCenter(e,1,r,t,n)}},zoomOut=function(e){return function(r,t,n){r===void 0&&(r=.5),t===void 0&&(t=300),n===void 0&&(n="easeOut"),handleZoomToViewCenter(e,-1,r,t,n)}},setTransform=function(e){return function(r,t,n,a,i){a===void 0&&(a=300),i===void 0&&(i="easeOut");var o=e.transformState,s=o.positionX,l=o.positionY,f=o.scale,c=e.wrapperComponent,w=e.contentComponent,R=e.setup.disabled;if(!(R||!c||!w)){var m={positionX:isNaN(r)?s:r,positionY:isNaN(t)?l:t,scale:isNaN(n)?f:n};animate(e,m,a,i)}}},resetTransform=function(e){return function(r,t){r===void 0&&(r=200),t===void 0&&(t="easeOut"),resetTransformations(e,r,t)}},centerView=function(e){return function(r,t,n){t===void 0&&(t=200),n===void 0&&(n="easeOut");var a=e.transformState,i=e.wrapperComponent,o=e.contentComponent;if(i&&o){var s=getCenterPosition(r||a.scale,i,o);animate(e,s,t,n)}}},zoomToElement=function(e){return function(r,t,n,a){n===void 0&&(n=600),a===void 0&&(a="easeOut"),handleCancelAnimation(e);var i=e.wrapperComponent,o=typeof r=="string"?document.getElementById(r):r;if(i&&isValidZoomNode(o)&&o&&i.contains(o)){var s=calculateZoomToNode(e,o,t);animate(e,s,n,a)}}},getContext=function(e){return{instance:e,state:e.transformState,zoomIn:zoomIn(e),zoomOut:zoomOut(e),setTransform:setTransform(e),resetTransform:resetTransform(e),centerView:centerView(e),zoomToElement:zoomToElement(e)}},passiveSupported=!1;function makePassiveEventOption(){try{var e={get passive(){return passiveSupported=!0,!1}};return e}catch{return passiveSupported=!1,passiveSupported}}var isExcludedNode=function(e,r){var t=e.tagName.toUpperCase(),n=r.find(function(i){return i.toUpperCase()===t});if(n)return!0;var a=r.find(function(i){return e.classList.contains(i)});return!!a},cancelTimeout=function(e){e&&clearTimeout(e)},getTransformStyles=function(e,r,t){return"translate3d("+e+"px, "+r+"px, 0) scale("+t+")"},getCenterPosition=function(e,r,t){var n=t.offsetWidth*e,a=t.offsetHeight*e,i=(r.offsetWidth-n)/2,o=(r.offsetHeight-a)/2;return{scale:e,positionX:i,positionY:o}},isWheelAllowed=function(e,r){var t=e.setup.wheel,n=t.disabled,a=t.wheelDisabled,i=t.touchPadDisabled,o=t.excluded,s=e.isInitialized,l=e.isPanning,f=r.target,c=s&&!l&&!n&&f;if(!c||a&&!r.ctrlKey||i&&r.ctrlKey)return!1;var w=isExcludedNode(f,o);return!w};function getDelta(e,r){var t=e?e.deltaY<0?1:-1:0,n=checkIsNumber(r,t);return n}function getMousePosition(e,r,t){var n=r.getBoundingClientRect(),a=0,i=0;if("clientX"in e)a=(e.clientX-n.left)/t,i=(e.clientY-n.top)/t;else{var o=e.touches[0];a=(o.clientX-n.left)/t,i=(o.clientY-n.top)/t}return(isNaN(a)||isNaN(i))&&console.error("No mouse or touch offset found"),{x:a,y:i}}var handleCalculateWheelZoom=function(e,r,t,n,a){var i=e.transformState.scale,o=e.wrapperComponent,s=e.setup,l=s.maxScale,f=s.minScale,c=s.zoomAnimation,w=c.size,R=c.disabled;if(!o)throw new Error("Wrapper is not mounted");var m=i+r*(i-i*t)*t;if(a)return m;var E=n?!1:!R,I=checkZoomBounds(roundNumber(m,3),f,l,w,E);return I},handleWheelZoomStop=function(e,r){var t=e.previousWheelEvent,n=e.transformState.scale,a=e.setup,i=a.maxScale,o=a.minScale;return t?n<i||n>o||Math.sign(t.deltaY)!==Math.sign(r.deltaY)||t.deltaY>0&&t.deltaY<r.deltaY||t.deltaY<0&&t.deltaY>r.deltaY||Math.sign(t.deltaY)!==Math.sign(r.deltaY):!1},isPinchStartAllowed=function(e,r){var t=e.setup.pinch,n=t.disabled,a=t.excluded,i=e.isInitialized,o=r.target,s=i&&!n&&o;if(!s)return!1;var l=isExcludedNode(o,a);return!l},isPinchAllowed=function(e){var r=e.setup.pinch.disabled,t=e.isInitialized,n=e.pinchStartDistance,a=t&&!r&&n;return!!a},calculateTouchMidPoint=function(e,r,t){var n=t.getBoundingClientRect(),a=e.touches,i=roundNumber(a[0].clientX-n.left,5),o=roundNumber(a[0].clientY-n.top,5),s=roundNumber(a[1].clientX-n.left,5),l=roundNumber(a[1].clientY-n.top,5);return{x:(i+s)/2/r,y:(o+l)/2/r}},getTouchDistance=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},calculatePinchZoom=function(e,r){var t=e.pinchStartScale,n=e.pinchStartDistance,a=e.setup,i=a.maxScale,o=a.minScale,s=a.zoomAnimation,l=s.size,f=s.disabled;if(!t||n===null||!r)throw new Error("Pinch touches distance was not provided");if(r<0)return e.transformState.scale;var c=r/n,w=c*t;return checkZoomBounds(roundNumber(w,2),o,i,l,!f)},wheelStopEventTime=160,wheelAnimationTime=100,handleWheelStart=function(e,r){var t=e.props,n=t.onWheelStart,a=t.onZoomStart;e.wheelStopEventTimer||(handleCancelAnimation(e),handleCallback(getContext(e),r,n),handleCallback(getContext(e),r,a))},handleWheelZoom=function(e,r){var t=e.props,n=t.onWheel,a=t.onZoom,i=e.contentComponent,o=e.setup,s=e.transformState,l=s.scale,f=o.limitToBounds,c=o.centerZoomedOut,w=o.zoomAnimation,R=o.wheel,m=w.size,E=w.disabled,I=R.step;if(!i)throw new Error("Component not mounted");r.preventDefault(),r.stopPropagation();var C=getDelta(r,null),M=handleCalculateWheelZoom(e,C,I,!r.ctrlKey);if(l!==M){var O=handleCalculateBounds(e,M),D=getMousePosition(r,i,l),p=E||m===0||c,h=f&&p,y=handleCalculateZoomPositions(e,D.x,D.y,M,O,h),A=y.x,T=y.y;e.previousWheelEvent=r,e.setTransformState(M,A,T),handleCallback(getContext(e),r,n),handleCallback(getContext(e),r,a)}},handleWheelStop=function(e,r){var t=e.props,n=t.onWheelStop,a=t.onZoomStop;cancelTimeout(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){!e.mounted||(handleAlignToScaleBounds(e,r.x,r.y),e.wheelAnimationTimer=null)},wheelAnimationTime);var i=handleWheelZoomStop(e,r);i&&(cancelTimeout(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){!e.mounted||(e.wheelStopEventTimer=null,handleCallback(getContext(e),r,n),handleCallback(getContext(e),r,a))},wheelStopEventTime))},handlePinchStart=function(e,r){var t=getTouchDistance(r);e.pinchStartDistance=t,e.lastDistance=t,e.pinchStartScale=e.transformState.scale,e.isPanning=!1,handleCancelAnimation(e)},handlePinchZoom=function(e,r){var t=e.contentComponent,n=e.pinchStartDistance,a=e.transformState.scale,i=e.setup,o=i.limitToBounds,s=i.centerZoomedOut,l=i.zoomAnimation,f=l.disabled,c=l.size;if(!(n===null||!t)){var w=calculateTouchMidPoint(r,a,t);if(!(!isFinite(w.x)||!isFinite(w.y))){var R=getTouchDistance(r),m=calculatePinchZoom(e,R);if(m!==a){var E=handleCalculateBounds(e,m),I=f||c===0||s,C=o&&I,M=handleCalculateZoomPositions(e,w.x,w.y,m,E,C),O=M.x,D=M.y;e.pinchMidpoint=w,e.lastDistance=R,e.setTransformState(m,O,D)}}}},handlePinchStop=function(e){var r=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,handleAlignToScaleBounds(e,r==null?void 0:r.x,r==null?void 0:r.y)};function handleDoubleClick(e,r){var t=e.setup.doubleClick,n=t.disabled,a=t.mode,i=t.step,o=t.animationTime,s=t.animationType;if(!n){if(a==="reset")return resetTransformations(e,o,s);var l=e.transformState.scale,f=e.contentComponent;if(!f)return console.error("No ContentComponent found");var c=a==="zoomOut"?-1:1,w=handleCalculateButtonZoom(e,c,i),R=getMousePosition(r,f,l),m=handleZoomToPoint(e,w,R.x,R.y);if(!m)return console.error("Error during zoom event. New transformation state was not calculated.");animate(e,m,o,s)}}var isDoubleClickAllowed=function(e,r){var t=e.isInitialized,n=e.setup,a=e.wrapperComponent,i=n.doubleClick,o=i.disabled,s=i.excluded,l=r.target,f=a==null?void 0:a.contains(l),c=t&&l&&f&&!o;if(!c)return!1;var w=isExcludedNode(l,s);return!(w||!c)},Context=React__default.default.createContext(contextInitialState),TransformContext=function(e){__extends(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.mounted=!0,t.transformState=createState(t.props),t.setup=createSetup(t.props),t.wrapperComponent=null,t.contentComponent=null,t.isInitialized=!1,t.bounds=null,t.previousWheelEvent=null,t.wheelStopEventTimer=null,t.wheelAnimationTimer=null,t.isPanning=!1,t.startCoords=null,t.lastTouch=null,t.distance=null,t.lastDistance=null,t.pinchStartDistance=null,t.pinchStartScale=null,t.pinchMidpoint=null,t.velocity=null,t.velocityTime=null,t.lastMousePosition=null,t.animate=!1,t.animation=null,t.maxBounds=null,t.pressedKeys={},t.handleInitializeWrapperEvents=function(n){var a=makePassiveEventOption();n.addEventListener("wheel",t.onWheelZoom,a),n.addEventListener("dblclick",t.onDoubleClick,a),n.addEventListener("touchstart",t.onTouchPanningStart,a),n.addEventListener("touchmove",t.onTouchPanning,a),n.addEventListener("touchend",t.onTouchPanningStop,a)},t.handleInitialize=function(){var n=t.setup.centerOnInit;t.applyTransformation(),t.forceUpdate(),n&&(setTimeout(function(){t.mounted&&t.setCenter()},50),setTimeout(function(){t.mounted&&t.setCenter()},100),setTimeout(function(){t.mounted&&t.setCenter()},200))},t.onWheelZoom=function(n){var a=t.setup.disabled;if(!a){var i=isWheelAllowed(t,n);if(!!i){var o=t.isPressingKeys(t.setup.wheel.activationKeys);!o||(handleWheelStart(t,n),handleWheelZoom(t,n),handleWheelStop(t,n))}}},t.onPanningStart=function(n){var a=t.setup.disabled,i=t.props.onPanningStart;if(!a){var o=isPanningStartAllowed(t,n);if(!!o){var s=t.isPressingKeys(t.setup.panning.activationKeys);!s||(n.preventDefault(),n.stopPropagation(),handleCancelAnimation(t),handlePanningStart(t,n),handleCallback(getContext(t),n,i))}}},t.onPanning=function(n){var a=t.setup.disabled,i=t.props.onPanning;if(!a){var o=isPanningAllowed(t);if(!!o){var s=t.isPressingKeys(t.setup.panning.activationKeys);!s||(n.preventDefault(),n.stopPropagation(),handlePanning(t,n.clientX,n.clientY),handleCallback(getContext(t),n,i))}}},t.onPanningStop=function(n){var a=t.props.onPanningStop;t.isPanning&&(handlePanningEnd(t),handleCallback(getContext(t),n,a))},t.onPinchStart=function(n){var a=t.setup.disabled,i=t.props,o=i.onPinchingStart,s=i.onZoomStart;if(!a){var l=isPinchStartAllowed(t,n);!l||(handlePinchStart(t,n),handleCancelAnimation(t),handleCallback(getContext(t),n,o),handleCallback(getContext(t),n,s))}},t.onPinch=function(n){var a=t.setup.disabled,i=t.props,o=i.onPinching,s=i.onZoom;if(!a){var l=isPinchAllowed(t);!l||(n.preventDefault(),n.stopPropagation(),handlePinchZoom(t,n),handleCallback(getContext(t),n,o),handleCallback(getContext(t),n,s))}},t.onPinchStop=function(n){var a=t.props,i=a.onPinchingStop,o=a.onZoomStop;t.pinchStartScale&&(handlePinchStop(t),handleCallback(getContext(t),n,i),handleCallback(getContext(t),n,o))},t.onTouchPanningStart=function(n){var a=t.setup.disabled,i=t.props.onPanningStart;if(!a){var o=isPanningStartAllowed(t,n);if(!!o){var s=t.lastTouch&&+new Date-t.lastTouch<200;if(s&&n.touches.length===1)t.onDoubleClick(n);else{t.lastTouch=+new Date,handleCancelAnimation(t);var l=n.touches,f=l.length===1,c=l.length===2;f&&(handleCancelAnimation(t),handlePanningStart(t,n),handleCallback(getContext(t),n,i)),c&&t.onPinchStart(n)}}}},t.onTouchPanning=function(n){var a=t.setup.disabled,i=t.props.onPanning;if(t.isPanning&&n.touches.length===1){if(a)return;var o=isPanningAllowed(t);if(!o)return;n.preventDefault(),n.stopPropagation();var s=n.touches[0];handlePanning(t,s.clientX,s.clientY),handleCallback(getContext(t),n,i)}else n.touches.length>1&&t.onPinch(n)},t.onTouchPanningStop=function(n){t.onPanningStop(n),t.onPinchStop(n)},t.onDoubleClick=function(n){var a=t.setup.disabled;if(!a){var i=isDoubleClickAllowed(t,n);!i||handleDoubleClick(t,n)}},t.clearPanning=function(n){t.isPanning&&t.onPanningStop(n)},t.setKeyPressed=function(n){t.pressedKeys[n.key]=!0},t.setKeyUnPressed=function(n){t.pressedKeys[n.key]=!1},t.isPressingKeys=function(n){return n.length?Boolean(n.find(function(a){return t.pressedKeys[a]})):!0},t.setComponents=function(n,a){t.wrapperComponent=n,t.contentComponent=a,handleCalculateBounds(t,t.transformState.scale),t.handleInitializeWrapperEvents(n),t.handleInitialize(),t.handleRef(),t.isInitialized=!0,handleCallback(getContext(t),void 0,t.props.onInit)},t.setTransformState=function(n,a,i){!isNaN(n)&&!isNaN(a)&&!isNaN(i)?(n!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=n),t.transformState.positionX=a,t.transformState.positionY=i,t.applyTransformation()):console.error("Detected NaN set state values")},t.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var n=getCenterPosition(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(n.scale,n.positionX,n.positionY)}},t.applyTransformation=function(){if(!(!t.mounted||!t.contentComponent)){var n=t.transformState,a=n.scale,i=n.positionX,o=n.positionY,s=getTransformStyles(i,o,a);t.contentComponent.style.transform=s,t.handleRef()}},t.handleRef=function(){t.props.setRef(getContext(t))},t}return r.prototype.componentDidMount=function(){var t=makePassiveEventOption();window.addEventListener("mousedown",this.onPanningStart,t),window.addEventListener("mousemove",this.onPanning,t),window.addEventListener("mouseup",this.onPanningStop,t),document.addEventListener("mouseleave",this.clearPanning,t),window.addEventListener("keyup",this.setKeyUnPressed,t),window.addEventListener("keydown",this.setKeyPressed,t),this.handleRef()},r.prototype.componentWillUnmount=function(){var t=makePassiveEventOption();window.removeEventListener("mousedown",this.onPanningStart,t),window.removeEventListener("mousemove",this.onPanning,t),window.removeEventListener("mouseup",this.onPanningStop,t),window.removeEventListener("keyup",this.setKeyUnPressed,t),window.removeEventListener("keydown",this.setKeyPressed,t),handleCancelAnimation(this)},r.prototype.componentDidUpdate=function(t){t!==this.props&&(handleCalculateBounds(this,this.transformState.scale),this.setup=createSetup(this.props))},r.prototype.render=function(){var t=getContext(this),n=this.props.children,a=typeof n=="function"?n(t):n;return React__default.default.createElement(Context.Provider,{value:__assign$1(__assign$1({},this.transformState),{setComponents:this.setComponents,contextInstance:this})},a)},r}(React.Component),TransformWrapper=React__default.default.forwardRef(function(e,r){var t=React.useState(null),n=t[0],a=t[1];return React.useImperativeHandle(r,function(){return n},[n]),React__default.default.createElement(TransformContext,__assign$1({},e,{setRef:a}))});function styleInject(e,r){r===void 0&&(r={});var t=r.insertAt;if(!(!e||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var css_248z=`.transform-component-module_wrapper__1_Fgj {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
}
.transform-component-module_content__2jYgh {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__2jYgh img {
  pointer-events: none;
}
`,styles={wrapper:"transform-component-module_wrapper__1_Fgj",content:"transform-component-module_content__2jYgh"};styleInject(css_248z);var TransformComponent=function(e){var r=e.children,t=e.wrapperClass,n=t===void 0?"":t,a=e.contentClass,i=a===void 0?"":a,o=e.wrapperStyle,s=e.contentStyle,l=React.useContext(Context).setComponents,f=React.useRef(null),c=React.useRef(null);return React.useEffect(function(){var w=f.current,R=c.current;w!==null&&R!==null&&l&&l(w,R)},[]),React__default.default.createElement("div",{ref:f,className:"react-transform-wrapper "+styles.wrapper+" "+n,style:o},React__default.default.createElement("div",{ref:c,className:"react-transform-component "+styles.content+" "+i,style:s},r))};const StyledWrapper=styled__default.default.div`
    padding: 26px 30px;
    height: 100vh;
    box-sizing: border-box;
`,StyledGridItem=styled__default.default.div`
    display: flex;
    align-content: center;
    justify-content: center;
    height: 100%;
    width: 100%;
`,StyledScrollContainer=styled__default.default(TransformWrapper)``,StyledDocument=styled__default.default(Document)``,StyledPage=styled__default.default(Page$1)``,PDFToolbar=styled__default.default.div`
    display: flex;
    flex-direction: row;
    position: absolute;
    bottom: 100px;
    align-items: center;
    height: 42px;
    column-gap: 30px;
    padding: 0 5px;
    background: '#e40707';
    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
    border-radius: 6px;
`,StyledIcon=styled__default.default.div`
    border-radius: 4px;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
`,StyledPageController=styled__default.default.div`
    display: flex;
    flex-direction: row;
    column-gap: 6px;
    align-items: center;
`,StyledZoomController=styled__default.default.div`
    display: flex;
    flex-direction: row;
    align-items: center;
    column-gap: 4px;
`,StyledPageLabel=styled__default.default.div`
    display: flex;
    flex-direction: row;
    align-items: center;
    font-size: 12px;
    column-gap: 6px;

    span {
        display: flex;
        column-gap: 5px;
        flex-direction: row;
        align-items: center;
        color: wheat;
    }
`;var ContentType=(e=>(e.PDF="application/pdf",e.PNG="IMAGE/PNG",e.JPG="IMAGE/JPG",e))(ContentType||{});const useDocumentConverter=e=>{const[r,t]=React.useState();async function n(a){return new Promise((i,o)=>{const s=new FileReader;s.onloadend=()=>{i(s.result)},s.readAsDataURL(a)})}return React.useEffect(()=>{e instanceof Blob&&n(e).then(a=>{t(String(a))})},[]),e instanceof Blob?{documentBase64:r,contentType:e.type}:{documentBase64:e,contentType:ContentType.PDF}};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React__default.default.createContext&&React__default.default.createContext(DefaultContext),__assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},__assign.apply(this,arguments)},__rest=globalThis&&globalThis.__rest||function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};function Tree2Element(e){return e&&e.map(function(r,t){return React__default.default.createElement(r.tag,__assign({key:t},r.attr),Tree2Element(r.child))})}function GenIcon(e){return function(r){return React__default.default.createElement(IconBase,__assign({attr:__assign({},e.attr)},r),Tree2Element(e.child))}}function IconBase(e){var r=function(t){var n=e.attr,a=e.size,i=e.title,o=__rest(e,["attr","size","title"]),s=a||t.size||"1em",l;return t.className&&(l=t.className),e.className&&(l=(l?l+" ":"")+e.className),React__default.default.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:l,style:__assign(__assign({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),i&&React__default.default.createElement("title",null,i),e.children)};return IconContext!==void 0?React__default.default.createElement(IconContext.Consumer,null,function(t){return r(t)}):r(DefaultContext)}function AiOutlineZoomIn(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]})(e)}function BiMinus(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 11h14v2H5z"}}]})(e)}function BiPlus(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z"}}]})(e)}function BsChevronLeft(e){return GenIcon({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"}}]})(e)}function BsChevronRight(e){return GenIcon({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"}}]})(e)}const DocumentViewerToolbar=({currentPage:e,pageCount:r,zoom:t,onPageChange:n,onZoomChange:a})=>{const i=e>1,o=e<r,s=t<2.5,l=t>1.2,f=.1;return React__default.default.createElement(PDFToolbar,null,React__default.default.createElement(StyledPageController,null,React__default.default.createElement(StyledIcon,null,React__default.default.createElement(BsChevronLeft,{size:15,fill:"white",strokeWidth:1,onClick:()=>{i&&n(e-1)}})),React__default.default.createElement(StyledPageLabel,null,"Page :",React__default.default.createElement("span",null,`${e} / ${r}`)),React__default.default.createElement(StyledIcon,null,React__default.default.createElement(BsChevronRight,{size:15,fill:"white",strokeWidth:1,onClick:()=>{o&&n(e+1)}}))),React__default.default.createElement(StyledZoomController,null,React__default.default.createElement(StyledIcon,null,React__default.default.createElement(BiMinus,{size:20,fill:"white",onClick:()=>{l&&a(t-f)}})),React__default.default.createElement(AiOutlineZoomIn,{size:20,fill:"white"}),React__default.default.createElement(StyledIcon,null,React__default.default.createElement(BiPlus,{size:20,fill:"white",onClick:()=>{s&&a(t+f)}}))))};pdf.exports.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdf.exports.version}/build/pdf.worker.min.js`;const DocumentViewer=({file:e})=>{const[r,t]=React.useState(1),[n,a]=React.useState(1),[i,o]=React.useState(1.2),{documentBase64:s,contentType:l}=useDocumentConverter(e),f=React.useRef(null);return React.useEffect(()=>{f.current&&f.current.setAttribute("height",`${i*82}%`)},[i]),React__default.default.createElement(StyledWrapper,null,React__default.default.createElement(StyledGridItem,null,React__default.default.createElement(StyledScrollContainer,{initialScale:1,initialPositionX:200,initialPositionY:100},React__default.default.createElement(TransformComponent,null,l===ContentType.PDF?React__default.default.createElement(StyledDocument,{file:s,onLoadSuccess:c=>{t(c.numPages)}},React__default.default.createElement(StyledPage,{pageNumber:n,scale:i})):React__default.default.createElement("img",{ref:f,src:s}))),React__default.default.createElement(DocumentViewerToolbar,{currentPage:n,pageCount:r,zoom:i,onPageChange:a,onZoomChange:o})))},DocumentContainer=({})=>React__default.default.createElement(DocumentViewer,{file:new Blob(["/JavaLesBases.pdf"],{type:"application/pdf"})});exports.DocumentContainer=DocumentContainer,exports.DocumentViewer=DocumentViewer,Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=docs-renderer.umd.js.map
